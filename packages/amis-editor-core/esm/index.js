/**
 * amis-editor-core v5.2.5-beta.3
 * Copyright 2018-2023 @fex
 */

import{utils as e,hasIcon as t,mapObject as n,Icon as r,filterSchema as a,Schema as o,render as i,toast as s,alert as c,confirm as l,animation as d,openContextMenus as u,DataSchema as p,resizeSensor as f,resolveRenderer as h,InputBox as m,Html as v,Button as g,registerIcon as b,TooltipWrapper as y,Tabs as E,Tab as w,resolveVariable as C,getTheme as S,Modal as x,Spinner as I,Overlay as R,PopOver as O,Drawer as N,FormItem as k,prompt as F}from"amis";export{Icon,registerIcon}from"amis";import{extendLocale as A,i18n as M}from"i18n-runtime";import{__assign as P,__extends as D,__decorate as B,__metadata as j,__rest as T,__spreadArray as H,__read as L,__awaiter as z,__generator as $}from"tslib";import*as K from"react";import _,{Component as V}from"react";import U from"classnames";import W from"lodash/isEqual";import{reaction as Z,isObservable as q}from"mobx";import Y from"deep-diff";import J from"lodash/isPlainObject";import X from"lodash/isNumber";import{createObject as G,attachmentAdpator as Q,DataSchema as ee,mapTree as te,eachTree as ne,findTree as re,getRenderers as ae,clearStoresCache as oe,LazyComponent as ie,mapObject as se,extendObject as ce,getVariable as le}from"amis-core";import{observer as de}from"mobx-react";import{findDOMNode as ue,render as pe,unmountComponentAtNode as fe}from"react-dom";import{types as he,getParent as me,isAlive as ve,getRoot as ge,getEnv as be,cast as ye,destroy as Ee}from"mobx-state-tree";import we from"lodash/find";import Ce from"lodash/groupBy";import Se from"lodash/uniq";import xe from"lodash/findIndex";import Ie from"lodash/flatten";import{omit as Re}from"lodash";import Oe from"axios";import Ne from"lodash/debounce";import{stringify as ke,parse as Fe}from"json-ast-comments";import Ae from"lodash/sortBy";import Me from"lodash/cloneDeep";import Pe from"lodash/reverse";import De from"lodash/pick";import Be from"lodash/omit";import je from"lodash/isString";import{Editor as Te}from"amis-ui";import He from"react-json-view";import Le from"moment";A("en-US",{"4e7f76261f8c4c6d78998f85fc1f4c6e":"Margin","16a20243f9b741c08216dc9548de2968":"Overall","23ecf42cada8bf2715792d718544d107":"xs","391b8fa9c747a1799353ab856e666ad5":"sm",fd6e80f1e0199d6ecc3ee81ae04aa9ef:"default",aed1dfbc31703955e64806b799b67645:"md",ab18e30c0dc4093ceeda8961fac3d1f4:"lg","461d364c67ec6a45e011ed13f2f7154f":"Top margin","31e3752986d64c8b36897c8641c8628d":"Right margin",eabe91d9426b6446f707cea3e7ab2418:"Bottom margin","2e46d251ee6188bb1b3ff20656276572":"Left margin","3dc4038d0f0a2d2b3c2b2e29a5ec6dde":"None",a8b0c20416853bda54120bf19477ad11:"All",af767b7e4ae069d54f9ea839858d4c6d:"Top","4d9c32c23df5d234e629c922c58d8e12":"Right","3850a186c3235bc646d4c2f79cebac36":"Bottom",d2aff1417831aa621c16cd5b95306b4b:"Left","841d77223f0ec8cd0b530ed8e0775b20":"Padding","961534b4ea37e4e88aada736b299d063":"Border",d4d2a66820d30e07b44c850eb3f116c0:"Position","58f966670529f4753fb3c5a0647606be":"Size","6b36c6f7ec834692ec6c8e3816349fdd":"Color",fbae87bcc352f6933541fb77a07418ed:"Primary color",d8c7e04c8e2be23dd3b81a31db6e04f1:"Information","900c70fa5f7dbc014e6f762d5e0e885c":"Warning","540f84ddc0883866b229f71c2844199a":"Danger","330363dfc524cff2488f2ebde0500896":"Success","2fc96b2704b05d6a9f299c442573ee77":"White",adb7e5312abdb9a44297e48d63815fa3:"Dark color","48d0a09bdd5fe7e89f0a445b0ffdf14f":"Light color","0d98c74797e49d00bcc4c17c9d557a2b":"Others","0103eb2d3dca70270d1a74e9ec987ac9":"Rounded corner","8456bc40d48da5af833f1c63385e9879":"Font",b3b2682579133673d3fe08c156d565dc:"Normal","56dce5d1cbb97439d291c458e50107e0":"Bold","49a79f4047b81186c069ed1c9c151c66":"Light color","8e1b944f4389bdaab6f11d5bc83190c8":"Background",c28479019e24e0e4745f4948e9e97ee7:"Width",f72ce9ad683cc82e0eab557ffc9c67a0:"Make it exceptionally small",b95c462d7697958c25861193fc89ae07:"Make it big","3386da5f56fac758ed0f18e024ecb943":"Make it exceptionally big ",ffaa96ef7232cb6d8ee4d7e673dbf4ac:"Fill","47eac1ac32a8aa9081dffbdc4d374318":"Enter the css class name","939d5345ad4345dbaabe14798f6ac0f1":"Submit","55c56d01a7747ffe0346d42145b62d97":"The [Amis-editor] responds to the dynamic plugin addition event:",d6f73c6f3b92be5a64f7ea0163501284:"Cutting the region node is not allowed.","4fda4f585214d469c04466e2fc98b796":"Cutting the root node is not allowed.","657bbe06d3922b23552817df7fa8268e":"Cutting the current element is not allowed.","416445a316595bdeb44b661c7de875a8":"You cannot move the current element upward.","6ac88d87b2fd118ba7beab8c17880470":"You cannot move the current element downward.",fdb3cba60407b2f1aea0230cca644573:"You cannot delete the region node directly.","8a4b4e2e3b0382007e0c69ed1fe6fe71":"Deleting the root node is not allowed..","22f031f3de2e55c430a818d8c588f7a1":"Deleting the current element is not allowed.","3b6d5995e9f2ecd3df059b3f1bea201e":"A call error occurs or domain crossing occurs.","09f33be5ec04eb48b3102e4e31af5b38":"A call error occurs.","283c2a52955ad87574fd6c0cc932c443":"You can call the node only in the Iframe.",a71002967924a83e32b38a80705290fb:"System error","058ebdf2884474ebff2977ba2f0e275e":"System message","88f000a0fdc38ce3808cef072b00893c":"The rendering is in progress...","279321f97f11da7bc90facca156b3444":"A code error exists, which takes place at \\n {{@1}}.","7e4b38ba0ab9cbfcabd9dd859e36b601":"Currently, some data in the code are modified. Because the data is incorrect in its format and not saved, are you sure to abandon the modification?",af86ad9dd8a221f931dcdc5a63382b6f:"Check the modification.","43d586cd6cf1a512c0bcb85ed9efde51":"Confirm",bb79667f37035e9562ec6bcffd6cf8ef:"Component","5cb297585d4c81bb8fdbd31210a30d6f":"System component","6fce1c9aa3654ae2f0eedcc068a7e189":"Customize the component.","06e004ef21414c06d3e4ff2cefaf6a04":"Code","7f7c624a843b0d539a4ea59a696702f9":"Batch operation",b80ed82d124c6fd9242dcacdda2a2f8b:"Change the component type.","41150516bf0d90646edc5239593366e9":"Select the component and plug it into?",d87481b371771b4f150da76e311bbbef:"The component can be filtered by entering the keywords.",becdc848350872592201e31bab03892a:"It is impossible to preview it.",f26225bde6a250894a04db4c53ea03d0:"Details","751dfe6f476903c21381c9acf88332e2":"No component is available. Perhaps you should change the container.",e22c9a05b424b761efce11f17726fdd7:"Replace","9bdb07e72d3a9a6084201a7398523f5a":"Insert","625fb26b4b3340f7872b411f401e754c":"Cancel","95509c09bdef4bb7842a9b957ab1f971":"Disable the floating mode.","426480bb614633c8c3ba8faa0338b72f":"Enable the floating mode.",fbf7967f9baf6a22bd6ca7f4e6390bf9:"{{@ 1}}-[Public configuration]","93383ef1ab4a433df97a56a73e571b9f":"Outline","962d43ff8d39c381d8e2c73838412111":"Query the page element.","0c95d1856ffdeeade7cebe0ef928f361":"You can change the container by dragging the target into the navigating node.",c482df2a3ac8e014febd8a5fc9cadaea:"The loading is in progress, so you need to wait for a while...",c44c6c179c44e794b103053886847dc4:"No preview image is available.",e4cefe7df36e92da1d7e875b92655507:"Click to unfold.","7ae451de83aa6f5f140e941904377391":"Click to fold.","84c8f0087acfc9b9862371d0bd59b830":"Click to add 「{{@1}}」.",f3430f4fdd8b9643daa74f4a5716dd15:"&nbsp; details &nbsp;",b797a8992ef41320919e45a069f2b459:"No available component is found. You can continue to search for the component by changing the keyword.","0bd36c8db19e3a93506f39ebc8ff0ab9":"When the form, list, and other components have a name, they appear here for your selection.",bb28ec819520ced0ffb4c3da01f112e2:"Click to clear the current area.",e83a256e4f5bb4ff8b3d804b5473217a:"Confirm","22c799040acdb2601b437ed5449de076":"Container",bd9fcf46b4e5993f97fe04ee9ebcd7ed:"Undo",c3c873d33f1c6482c79b0ffd862786cd:"Redo",e9509c688a0df6b088503d21569b6e8f:"A type error exists so that no rendering is possible.","2168c5735883bd040eaf09909d0911b8":"Query the component by entering the keyword.",e9c38f88375807704270aa3572454976:"Search history","288f0c404c4e546aa3683ff5054e85e2":"Clear","4b9bc9abf2a2beb3772d903a3d01d1de":"Click to delete this search record.","9d3128a1675de32cdd290b31140a7290":"The query result is empty. You can continue search by changing the keyword.",accb901a02b1415b40d95cdd31b8da1d:"Component classification","79d3abe929f67f0644a78bf32adb3a89":"Copy",b7d817611230d382f6ef92b41848a342:"Copy the currently selected element.",eafbece1016a6af76cce466e55ad9f00:"Paste",e0b9bb8e41eccd3ce6b282664643d7f8:"Paste the copied element to the currently selected node.","43fc77886b7fbcd658f0ccdba36bd5a0":"Cut",a6be4ad12e9612811963c44466af3218:"Cut the currently selected element.","58887132871b71b015c3a391e7755815":"Restore the previous operation undone.",be5fbbe34ce9979bfb6576d9eddc5612:"Save","1f81fd4598e9151538f29c41b8aa0020":"Save all current operations.","645dbc5504e722a30896486085a06b32":"Preview","5bc425ac8b75c571093a63eb6073c354":"Enable the preview mode.","2f4aaddde33c9b93c36fd2503f3d122b":"Delete","426cd14ebd62a4922186527d07ba37f3":"Delete the current node.","499e58e764420aeed2d1476a56d8fa34":"Move upward",d040485f0e3887f0b297f8f772db03e4:"Move upward the current node.","08ad565f066d30572d1f8e2ee17cbe12":"Move downward","6348dc0e83d6ab391a8816f67d0e5ceb":"Move downward the current node.",fbec96e028142496df88ed2c63b44512:"Click to check the current shortcut key available.","9c3f1278ffa822835bb3a677f02bca27":"Current shortcut key available","4e98a5dcd3defffb23629fce3add04f6":"No shortcut key is available temporarily.","186733ed7ec817040b8f9cbc610ba49a":"Program error",e777eb796f8a02e97a891fde43d10ce4:"{{@1}} variable","5d665bc55779aafdefcc4050e3a8429e":"A {{@1}}({{@2}}) rendering error occurs：",a30dd4945df5b44b264fa3be6ee9682e:"Current renderer information:","63f94190d2d4ea22263e6e9f07c96558":"Error object:",f66335b5bff0e26fdff2a3303e0f9bb0:"Error information:","966e23b5c1efe8e18fc4f0c326d47314":")A rendering error occurs. For details about the error, check the console output.",f942c7a6a35c4eb1381d2966462d0489:'<div class="wrapper-sm b-a b-light m-b-sm">Be dragged into the placeholder area</div>',"245897371cda2055f5c17c6cf298ed48":"Tip: No redirection is allowed in the preview mode.",e1b7255934e3189b1f5d440fc1aa0230:"An exception occurs during the plugin registration because a plugin with the same name already exists:","979a50681e278dcc0be18f68459e8217":"System variable","75c142934800d6ee31fcf3fdff9e5d53":"The [Amis-editor] has a {{@1}} plugin.","0e24e1bbc19612a350f81296d9fb7802":"First select an element as the insertion position.",bd690facb536d759814ee64f2760fecb:"Adding a component is not allowed at the current node.","02f180cd26ff0951ddfda490080ee5ea":"The configuration item has been copied.","1ff035555ac8a68dc5b0ea2d0af55f00":"The clipboard content is empty.","6cb01692eea2fa7066d20fe2b6ccaea3":"False data","7f2f0461a58c43667d7245ce92bb2e77":"Hold and drag it to adjust its position.","78c1c38b91c672da1113fa2564c14ea6":"Insert a component forward.","87f48bbadfbef5ef4554e06b7e141d37":"Insert a component backward.","95b351c86267f3aedf89520959bce689":"Edit","0ec9eaf9c3525eb110db58aae5912210":"More","417db09508befe7dbe9f84a517a6edec":"Repeat a copy.","99b81127ef28368151621cdfccce69f8":"Cancel the multi-selection.","205f45ee17394bd5668412780eaa55e2":"Insert a component.","4c725f0159023c485ead728680e277ba":"Select {{@1}}.","7ad78e0991f34ff3a345c59a2fc31572":"Select a level.",aafda9e8f6b7b613680677c513edb7a6:"Cancel the selection.",b58d101f52531c845f15db63d7212115:"Copy the configuration.","74e2bc6615b7dbbb11fd5e1e212263ae":"Cut the configuration.",e2f401af580d1354ae00ec4ca19e2e24:"Paste the configuration.","21462ae22216eec41dc688cc4a8ae64b":"Move forward",ed2bc13d8bbd99e16e017dd5f5393393:"Move backward","9e54f3e4ee3330299c5fdc910c2e8d3c":"Undo",ae8e86e426c2ba00da274b66dc372a8b:"Redo","2b6bc0f293f5ca01b006206c2535ccbc":"Operation",aa920263020f14211a44ea172efc7253:"Context data","48ac479789304b37afa2f1b06642f4da":"Current","9bc16c658ab8a8c4eddc5e24d85bef20":"Upper layer","004d4be2ba8e6b8eed9333d15bc80a88":"Upper {{@1}} layer",e366ccf1556c0672dcecba135ed5472e:"Setting","0cbec43d00e491a663ff0525ffe31868":"Quickly build 「{{@1}}」.","1dd554cdfc1ddf7dce13453805523c16":"Change",a82240ce09faf0b972a8aa5c9e93d209:"Insert the component panel.",eadc8c8d4a8776893672330598babca0:"A position error occurs. The target position is not found.",f3c057f37fb9a4e7dd44b04919c12578:"Click to add an element in the left component panel.","54ea89b497ec3bb319c68844dfa3687f":"API","51e213e66b37d716a35baebc9193035c":"This API is used to store the data. After submission of the form, you can import the data into this API. <br/>\n          API response body requirements (If data exists in the data, the data is merged into the form context):<br/>\n          {{@1}}\n}, null, '<br/>')}","388e0ff896ea4f23e71d36c06443f157":"API response body requirements: <br/>\n          {{@1}},\n  page: 0,\n  total: 0\n}, null, '<br/>')}",b4bc91701b86fe8543d649e97daea602:"Initialize the API",f8747759c73697367bc8a570977c4a62:"API response body requirements:<br/>\n          {{@1}}\n}, null, '<br/>')}",d2b46e7989e18239d7036affd4d521db:"{{@1}}field","9caecd931b956381e0763d05aa42835c":"Field","47cd88592f6ef2b258f02c0690d267ed":"Hide, which is selected by default","32c65d8d7431e76029678ec7bb73a5ab":"Title","020586d0c69f8211840ddf9ee9bbf6ab":"Bind the field","226b0912184333c81babf2f1894ec0c1":"Type","97d07614380da93d257f9fbf81aa56fb":"Text","20def7942674282277c3714ed7ea6ce0":"Image","4ff1e74e43a3586339251494117185ad":"Date",c7bff79d059a0b7ff9b02441959d8be2:"Progress","3fea7ca76cdece641436d7ab0d02ab1b":"Status","9da188491dd34c4382a5b9f006194e41":"Mapping",b3e55578af5dd473bab62641bb2f5f8e:"Input type","9b6425cd2d496c9cb5a6c6b8ff125d1b":"Input box","15d169d28cd48c97fe751e4cc92ca926":"Multi-line text","9597dcaf432ceba92a160d61cb1ef65f":"Digital input","9913107b19cb6012250134ff91377430":"Radiobox","454e60f5759903d7d3dba58e3f9bd590":"Select-box",db98f889ce6bc235e66bd4b2a788d137:"Checkbox","006ded9fa277cf030592021f595a07d5":"Select",a6beb974cc0b50eebd18120b8110a88b:"Switch",b339aa87104709397ba68e7ebbc6e5ba:"Table","481e034e6026969aae4ce7ce7c8a7b6f":"File upload","6bfb9bb2218ff32b6139e98bc93707c0":"Image upload","24b6d4c0892a8f3ee2a982e3ab0afe38":"Rich text editor","4484fa04e7b71db4c8293e5bcb53eca4":"Add a field.","4cc6a76c146c0360a41ceaf5e212c891":"Generate a field automatically based on the API.",a9fea442707e26dee478b34a2f2ce263:"First fill in the API.","91aa2166ee4811414381c8d94e6567e6":"Because the API return format is incorrect, check the API response format requirements.","3712972d84adf48acbd6ad24b4d75ad0":"List","66ab5e9f24c8f46012a25c89919fb191":"Add",e73cefac9d030927da1618c7b15c98c9:"Edit in batch","7fb62b30119c3797a843a48368463314":"Delete in batch","8d9a071ee2ef45e045968e117a205c07":"Import","55405ea6ff6fd823ffab7e6b10ddfa95":"Export",c26996a6506adf397f0668d376d0b40b:"Simple query","6ff4bf3d567e977aa4c90c27dff1e6db":"Fuzzy query","9c4666fd08c2738eb9611a3721cb5f0f":"Advanced query",a094e5b7699ea4b61094cc4120170423:"Data source",eeb6908870e058bc23d52c1e405a054e:"Previous step","38ce27d84639f3a6e07c00b3b4995c0e":"Next step","392342f7750a565f9a79c678c6b12421":"<Hidden state>","8e44aba21d01c1e08cc79f4ebaf0b3f2":"The layout container component does not support dragging and inserting child elements.","52e6abbe5c11e7cbf14788c1540f8bf2":"Copied","372ea9fd27fb7cfacfe1b4ca3046f8d0":"Configuration Item","2a6287664de5ab46c65220c7182878ff":"Cut",db805d4e361ac2d3fc6047eaea1a7c69:"Free container","969e9e56b3812abffa3994f35ea31835":"Adsorption vessel","5b804b05e14aaacc75033a4f77fc2844":"Source code","69a53230577258b6d97ee932befcc168":"<Column>:",cc6aeb073ebc3cb29734a49164f8964c:"Page variables",b71e8739cb9bcba8057a8fa8b59512da:"<Column>"}),A("zh-CN",{"54ea89b497ec3bb319c68844dfa3687f":"接口","51e213e66b37d716a35baebc9193035c":"用来保存数据, 表单提交后将数据传入此接口。 <br/>\n          接口响应体要求(如果data中有数据，该数据将被合并到表单上下文中)：<br/>\n          {{@1}}\n}, null, '<br/>')}","388e0ff896ea4f23e71d36c06443f157":"接口响应体要求：<br/>\n          {{@1}},\n  page: 0,\n  total: 0\n}, null, '<br/>')}",b4bc91701b86fe8543d649e97daea602:"初始化接口",f8747759c73697367bc8a570977c4a62:"接口响应体要求：<br/>\n          {{@1}}\n}, null, '<br/>')}",d2b46e7989e18239d7036affd4d521db:"{{@1}}字段","9caecd931b956381e0763d05aa42835c":"字段","47cd88592f6ef2b258f02c0690d267ed":"隐藏，默认选中","32c65d8d7431e76029678ec7bb73a5ab":"标题","020586d0c69f8211840ddf9ee9bbf6ab":"绑定字段","226b0912184333c81babf2f1894ec0c1":"类型","97d07614380da93d257f9fbf81aa56fb":"文本","20def7942674282277c3714ed7ea6ce0":"图片","4ff1e74e43a3586339251494117185ad":"日期",c7bff79d059a0b7ff9b02441959d8be2:"进度","3fea7ca76cdece641436d7ab0d02ab1b":"状态","9da188491dd34c4382a5b9f006194e41":"映射",b3e55578af5dd473bab62641bb2f5f8e:"输入类型","9b6425cd2d496c9cb5a6c6b8ff125d1b":"输入框","15d169d28cd48c97fe751e4cc92ca926":"多行文本","9597dcaf432ceba92a160d61cb1ef65f":"数字输入","9913107b19cb6012250134ff91377430":"单选框","454e60f5759903d7d3dba58e3f9bd590":"勾选框",db98f889ce6bc235e66bd4b2a788d137:"复选框","006ded9fa277cf030592021f595a07d5":"下拉框",a6beb974cc0b50eebd18120b8110a88b:"开关",b339aa87104709397ba68e7ebbc6e5ba:"表格","481e034e6026969aae4ce7ce7c8a7b6f":"文件上传","6bfb9bb2218ff32b6139e98bc93707c0":"图片上传","24b6d4c0892a8f3ee2a982e3ab0afe38":"富文本编辑器","4484fa04e7b71db4c8293e5bcb53eca4":"添加字段","4cc6a76c146c0360a41ceaf5e212c891":"基于接口自动生成字段",a9fea442707e26dee478b34a2f2ce263:"请先填写接口","91aa2166ee4811414381c8d94e6567e6":"API返回格式不正确，请查看接口响应格式要求","3712972d84adf48acbd6ad24b4d75ad0":"列表","66ab5e9f24c8f46012a25c89919fb191":"新增",f26225bde6a250894a04db4c53ea03d0:"详情","95b351c86267f3aedf89520959bce689":"编辑","2f4aaddde33c9b93c36fd2503f3d122b":"删除",e73cefac9d030927da1618c7b15c98c9:"批量编辑","7fb62b30119c3797a843a48368463314":"批量删除","8d9a071ee2ef45e045968e117a205c07":"导入","55405ea6ff6fd823ffab7e6b10ddfa95":"导出",c26996a6506adf397f0668d376d0b40b:"简单查询","6ff4bf3d567e977aa4c90c27dff1e6db":"模糊查询","9c4666fd08c2738eb9611a3721cb5f0f":"高级查询",a094e5b7699ea4b61094cc4120170423:"数据来源","4e7f76261f8c4c6d78998f85fc1f4c6e":"外边距","16a20243f9b741c08216dc9548de2968":"整体","23ecf42cada8bf2715792d718544d107":"极小","391b8fa9c747a1799353ab856e666ad5":"小",fd6e80f1e0199d6ecc3ee81ae04aa9ef:"正常",aed1dfbc31703955e64806b799b67645:"中",ab18e30c0dc4093ceeda8961fac3d1f4:"大","461d364c67ec6a45e011ed13f2f7154f":"上边距","31e3752986d64c8b36897c8641c8628d":"右边距",eabe91d9426b6446f707cea3e7ab2418:"下边距","2e46d251ee6188bb1b3ff20656276572":"左边距","3dc4038d0f0a2d2b3c2b2e29a5ec6dde":"置无",a8b0c20416853bda54120bf19477ad11:"全部",af767b7e4ae069d54f9ea839858d4c6d:"上","4d9c32c23df5d234e629c922c58d8e12":"右","3850a186c3235bc646d4c2f79cebac36":"下",d2aff1417831aa621c16cd5b95306b4b:"左","841d77223f0ec8cd0b530ed8e0775b20":"内边距","961534b4ea37e4e88aada736b299d063":"边框",d4d2a66820d30e07b44c850eb3f116c0:"位置","58f966670529f4753fb3c5a0647606be":"大小","6b36c6f7ec834692ec6c8e3816349fdd":"颜色",fbae87bcc352f6933541fb77a07418ed:"主色",d8c7e04c8e2be23dd3b81a31db6e04f1:"信息","900c70fa5f7dbc014e6f762d5e0e885c":"警告","540f84ddc0883866b229f71c2844199a":"危险","330363dfc524cff2488f2ebde0500896":"成功","2fc96b2704b05d6a9f299c442573ee77":"白色",adb7e5312abdb9a44297e48d63815fa3:"暗色","48d0a09bdd5fe7e89f0a445b0ffdf14f":"浅色","0d98c74797e49d00bcc4c17c9d557a2b":"其他","0103eb2d3dca70270d1a74e9ec987ac9":"圆角","8456bc40d48da5af833f1c63385e9879":"字体",b3b2682579133673d3fe08c156d565dc:"细","56dce5d1cbb97439d291c458e50107e0":"粗","49a79f4047b81186c069ed1c9c151c66":"淡色","8e1b944f4389bdaab6f11d5bc83190c8":"背景",c28479019e24e0e4745f4948e9e97ee7:"宽度",f72ce9ad683cc82e0eab557ffc9c67a0:"特小",b95c462d7697958c25861193fc89ae07:"加大","3386da5f56fac758ed0f18e024ecb943":"特大",ffaa96ef7232cb6d8ee4d7e673dbf4ac:"占满","47eac1ac32a8aa9081dffbdc4d374318":"请输入 css 类名","939d5345ad4345dbaabe14798f6ac0f1":"提交","55c56d01a7747ffe0346d42145b62d97":"[amis-editor]响应动态添加插件事件：",d6f73c6f3b92be5a64f7ea0163501284:"区域节点不允许剪切。","4fda4f585214d469c04466e2fc98b796":"根节点不允许剪切。","657bbe06d3922b23552817df7fa8268e":"当前元素不允许剪切。","416445a316595bdeb44b661c7de875a8":"当前元素不能向上移动","6ac88d87b2fd118ba7beab8c17880470":"当前元素不能向下移动",fdb3cba60407b2f1aea0230cca644573:"区域节点不可以直接删除。","8a4b4e2e3b0382007e0c69ed1fe6fe71":"根节点不允许删除。","22f031f3de2e55c430a818d8c588f7a1":"当前元素不允许删除。","3b6d5995e9f2ecd3df059b3f1bea201e":"调用错误，或者存在跨域。","09f33be5ec04eb48b3102e4e31af5b38":"调用错误","283c2a52955ad87574fd6c0cc932c443":"只能在 Iframe 里面调用",a71002967924a83e32b38a80705290fb:"系统错误","058ebdf2884474ebff2977ba2f0e275e":"系统消息","88f000a0fdc38ce3808cef072b00893c":"渲染中...","279321f97f11da7bc90facca156b3444":"代码有误，错误的地方是\\n {{@1}}","7e4b38ba0ab9cbfcabd9dd859e36b601":"当前有部分已更改数据因为格式不正确尚未保存，您确认要丢弃这部分更改吗？",af86ad9dd8a221f931dcdc5a63382b6f:"查看更改","43d586cd6cf1a512c0bcb85ed9efde51":"请确认",bb79667f37035e9562ec6bcffd6cf8ef:"组件","5cb297585d4c81bb8fdbd31210a30d6f":"系统组件","6fce1c9aa3654ae2f0eedcc068a7e189":"自定义组件","06e004ef21414c06d3e4ff2cefaf6a04":"代码","7f7c624a843b0d539a4ea59a696702f9":"批量操作",b80ed82d124c6fd9242dcacdda2a2f8b:"更改组件类型","41150516bf0d90646edc5239593366e9":"选中组件插入到",d87481b371771b4f150da76e311bbbef:"输入关键字可过滤组件",becdc848350872592201e31bab03892a:"无法预览","751dfe6f476903c21381c9acf88332e2":"没有可用组件，也许你该切换容器试试。",e22c9a05b424b761efce11f17726fdd7:"替换","9bdb07e72d3a9a6084201a7398523f5a":"插入","625fb26b4b3340f7872b411f401e754c":"取消","95509c09bdef4bb7842a9b957ab1f971":"关闭悬浮模式","426480bb614633c8c3ba8faa0338b72f":"开启悬浮模式",fbf7967f9baf6a22bd6ca7f4e6390bf9:"{{@1}}-[公共配置]","93383ef1ab4a433df97a56a73e571b9f":"大纲","962d43ff8d39c381d8e2c73838412111":"查询页面元素","0c95d1856ffdeeade7cebe0ef928f361":"将目标拖入导航中的节点可以切换容器",c482df2a3ac8e014febd8a5fc9cadaea:"加载中，请稍等...",c44c6c179c44e794b103053886847dc4:"没有预览图",e4cefe7df36e92da1d7e875b92655507:"点击展开","7ae451de83aa6f5f140e941904377391":"点击折叠","84c8f0087acfc9b9862371d0bd59b830":"点击添加「{{@1}}」",f3430f4fdd8b9643daa74f4a5716dd15:"&nbsp;详情&nbsp;",b797a8992ef41320919e45a069f2b459:"没有找到可用组件，您可以换个关键字继续查找。","0bd36c8db19e3a93506f39ebc8ff0ab9":"当表单、列表等组件有名字时会出现在这里方便选择",bb28ec819520ced0ffb4c3da01f112e2:"点击清空当前区域",eeb6908870e058bc23d52c1e405a054e:"上一步","38ce27d84639f3a6e07c00b3b4995c0e":"下一步",e83a256e4f5bb4ff8b3d804b5473217a:"确认","22c799040acdb2601b437ed5449de076":"容器",bd9fcf46b4e5993f97fe04ee9ebcd7ed:"撤销",c3c873d33f1c6482c79b0ffd862786cd:"重做",e9509c688a0df6b088503d21569b6e8f:"类型错误，无法渲染","2168c5735883bd040eaf09909d0911b8":"输入关键字查询组件",e9c38f88375807704270aa3572454976:"搜索历史","288f0c404c4e546aa3683ff5054e85e2":"清空","4b9bc9abf2a2beb3772d903a3d01d1de":"点击删除这条搜索记录","9d3128a1675de32cdd290b31140a7290":"搜索结果为空，您可以换个关键字继续查找。",accb901a02b1415b40d95cdd31b8da1d:"组件分类","79d3abe929f67f0644a78bf32adb3a89":"复制",b7d817611230d382f6ef92b41848a342:"复制当前选中元素",eafbece1016a6af76cce466e55ad9f00:"粘贴",e0b9bb8e41eccd3ce6b282664643d7f8:"将复制的元素插入到当前选中节点","43fc77886b7fbcd658f0ccdba36bd5a0":"剪切",a6be4ad12e9612811963c44466af3218:"剪切当前选中元素","58887132871b71b015c3a391e7755815":"恢复上一次撤销的操作",be5fbbe34ce9979bfb6576d9eddc5612:"保存","1f81fd4598e9151538f29c41b8aa0020":"保存当前所有操作","645dbc5504e722a30896486085a06b32":"预览","5bc425ac8b75c571093a63eb6073c354":"开启预览模式","426cd14ebd62a4922186527d07ba37f3":"删除当前节点","499e58e764420aeed2d1476a56d8fa34":"向上移动",d040485f0e3887f0b297f8f772db03e4:"向上移动当前节点","08ad565f066d30572d1f8e2ee17cbe12":"向下移动","6348dc0e83d6ab391a8816f67d0e5ceb":"向下移动当前节点",fbec96e028142496df88ed2c63b44512:"点击查看当前可用快捷键","9c3f1278ffa822835bb3a677f02bca27":"当前可用快捷键","4e98a5dcd3defffb23629fce3add04f6":"暂无快捷键","186733ed7ec817040b8f9cbc610ba49a":"程序错误",e777eb796f8a02e97a891fde43d10ce4:"{{@1}}变量","5d665bc55779aafdefcc4050e3a8429e":"{{@1}}({{@2}})渲染发生错误：",a30dd4945df5b44b264fa3be6ee9682e:"当前渲染器信息：","63f94190d2d4ea22263e6e9f07c96558":"错误对象：",f66335b5bff0e26fdff2a3303e0f9bb0:"错误信息：","966e23b5c1efe8e18fc4f0c326d47314":")渲染发生错误，详细错误信息请查看控制台输出。","245897371cda2055f5c17c6cf298ed48":"温馨提示：预览模式下禁止跳转",e1b7255934e3189b1f5d440fc1aa0230:"注册插件异常，已存在同名插件：","979a50681e278dcc0be18f68459e8217":"系统变量","75c142934800d6ee31fcf3fdff9e5d53":"[amis-editor]当前已有{{@1}}插件","0e24e1bbc19612a350f81296d9fb7802":"请先选择一个元素作为插入的位置。",bd690facb536d759814ee64f2760fecb:"当前节点不允许追加新组件。","02f180cd26ff0951ddfda490080ee5ea":"配置项已复制","1ff035555ac8a68dc5b0ea2d0af55f00":"剪切板内容为空","6cb01692eea2fa7066d20fe2b6ccaea3":"假数据","7f2f0461a58c43667d7245ce92bb2e77":"按住拖动调整位置","78c1c38b91c672da1113fa2564c14ea6":"向前插入组件","87f48bbadfbef5ef4554e06b7e141d37":"向后插入组件","0ec9eaf9c3525eb110db58aae5912210":"更多","417db09508befe7dbe9f84a517a6edec":"重复一份","99b81127ef28368151621cdfccce69f8":"取消多选","205f45ee17394bd5668412780eaa55e2":"插入组件","4c725f0159023c485ead728680e277ba":"选中{{@1}}","7ad78e0991f34ff3a345c59a2fc31572":"选中层级",aafda9e8f6b7b613680677c513edb7a6:"取消选中",b58d101f52531c845f15db63d7212115:"复制配置","74e2bc6615b7dbbb11fd5e1e212263ae":"剪切配置",e2f401af580d1354ae00ec4ca19e2e24:"粘贴配置","21462ae22216eec41dc688cc4a8ae64b":"向前移动",ed2bc13d8bbd99e16e017dd5f5393393:"向后移动","9e54f3e4ee3330299c5fdc910c2e8d3c":"撤销（Undo）",ae8e86e426c2ba00da274b66dc372a8b:"重做（Redo）","2b6bc0f293f5ca01b006206c2535ccbc":"操作",aa920263020f14211a44ea172efc7253:"上下文数据","48ac479789304b37afa2f1b06642f4da":"当前","9bc16c658ab8a8c4eddc5e24d85bef20":"上层","004d4be2ba8e6b8eed9333d15bc80a88":"上{{@1}}层",e366ccf1556c0672dcecba135ed5472e:"设置","0cbec43d00e491a663ff0525ffe31868":"快速构建「{{@1}}」","1dd554cdfc1ddf7dce13453805523c16":"变更",a82240ce09faf0b972a8aa5c9e93d209:"插入组件面板",eadc8c8d4a8776893672330598babca0:"位置错误，目标位置没有找到",f3c057f37fb9a4e7dd44b04919c12578:"请从左侧组件面板中点击添加新的元素。",f942c7a6a35c4eb1381d2966462d0489:'<div class="wrapper-sm b-a b-light m-b-sm">拖入占位</div>',"392342f7750a565f9a79c678c6b12421":"<隐藏状态>","8e44aba21d01c1e08cc79f4ebaf0b3f2":"布局容器组件不支持拖拽插入子元素。","52e6abbe5c11e7cbf14788c1540f8bf2":"已复制","372ea9fd27fb7cfacfe1b4ca3046f8d0":"配置项","2a6287664de5ab46c65220c7182878ff":"已剪切",db805d4e361ac2d3fc6047eaea1a7c69:"自由容器","969e9e56b3812abffa3994f35ea31835":"吸附容器","5b804b05e14aaacc75033a4f77fc2844":"源码","69a53230577258b6d97ee932befcc168":"<列>:",cc6aeb073ebc3cb29734a49164f8964c:"页面变量",b71e8739cb9bcba8057a8fa8b59512da:"<列>"});var ze=e.guid,$e=e.omitControls,Ke=e.isObjectShallowModified,_e=e.cloneObject,Ve=e.anyChanged,Ue=e.noop,We=e.makeHorizontalDeeper,Ze=e.findIndex,qe=e.isEmpty,Ye=e.eachTree,Je=e.createObject;function Xe(e){return e}function Ge(e){return Ht(e)?(Object.keys(e).forEach((function(t){void 0===e[t]&&delete e[t]})),e):e}function Qe(e){if(!Ht(e)||e.$$typeof)return e;if(Array.isArray(e))return e.map(Qe);var t={},n=!1;return e.$$id||(n=!0,t.$$id=ze()),Object.keys(e).forEach((function(r){var a=e[r];if(Array.isArray(a)){var o=!1,i=a.map((function(e){var t=Qe(e);return t!==e&&(o=!0),t}));o&&(n=!0,t[r]=i)}else{(i=Qe(a))!==a&&(n=!0,t[r]=i)}})),n&&(e=Ge(P(P({},e),t))),e}function et(e,t){if(Array.isArray(e)){var n=!1,r=e.map((function(e){var r=et(e,t);return r!==e&&(n=!0),r}));return n?r:e}if(!Ht(e)||q(e))return e;var a=!1,o={};return e.$$id&&(a=!0,o.$$id=void 0),Object.keys(e).forEach((function(n){var r=e[n];if("function"==typeof t?t(n,r):!1!==t&&"__"===n.substring(0,2))return o[n]=void 0,void(a=!0);var i=et(r,t);i!==r&&(a=!0,o[n]=i)})),a&&(e=Ge(P(P({},e),o))),e}function tt(e){var t=e.css;if(!e.css)return e;var n={};return Object.keys(t).forEach((function(t){if("$$id"!==t){var r="".concat(t,"-").concat(e.id.replace("u:",""));e[t]?~e[t].indexOf(r)||(n[t]=e[t]+" "+r):n[t]=r}})),e=Ge(P(P({},e),n))}function nt(e,t,n){var r=e;return n&&n.push(e),t.forEach((function(e){r=r[e],n&&n.push(r)})),r}function rt(e,t,n){void 0===n&&(n="$$id");for(var r=[],a=!1,o=[{path:".",data:e}],i=function(){var e=o.shift(),i=e.data,s=e.path;if(i[n]===t)return a=!0,r=s.split(".").filter((function(e){return e})),"break";Object.keys(i).forEach((function(e){var t=i[e];Array.isArray(t)?t.forEach((function(t,n){Ht(t)&&o.push({data:t,path:"".concat(s,".").concat(e,".").concat(n)})})):Ht(t)&&o.push({data:t,path:"".concat(s,".").concat(e)})}))};o.length;){if("break"===i())break}return a?r:null}function at(e,t,n){var r=rt(e,t,n);return null===r?null:nt(e,r)}function ot(e,t,n){void 0===n&&(n=!1);var r=rt(e,t);if(null===r||!r.length)return null;var a=e,o=[a];for(r.pop(),r.forEach((function(e){a=a[e],o.unshift(a)}));n&&Array.isArray(o[0]);)o.shift();return o[0]}function it(e,t,n,r){void 0===r&&(r=!1);var a=rt(e,t);if(null===a)return e;var o=[],i=nt(e,a,o);if(Array.isArray(n)&&o[o.length-2]&&Array.isArray(o[o.length-2])){var s=o[o.length-2].indexOf(o[o.length-1]);o[o.length-2]=o[o.length-2].concat(),o[o.length-2].splice.apply(o[o.length-2],[s,1].concat(n)),o.pop()}else o[o.length-1]=i=P(P(P({},r?null:i),n),{$$id:t});for(;o.length>1;){var c=o.pop();Array.isArray(o[o.length-1])?o[o.length-1]=o[o.length-1].concat():o[o.length-1]=P({},o[o.length-1]),o[o.length-1][a[o.length-1]]=c}return o[0]}function st(e,t,n,r){var a=rt(e,t);if(null===a)return e;Array.isArray(n)&&n.push.apply(n,a);var o=a.pop(),i=[],s=nt(e,a,i);for(Array.isArray(s)?(i[i.length-1]=s=s.concat(),s.splice(o,1),r&&!s.length&&(i[i.length-1]=void 0)):(i[i.length-1]=s=P({},s),delete s[o]);i.length>1;){var c=i.pop();Array.isArray(i[i.length-1])?i[i.length-1]=i[i.length-1].concat():i[i.length-1]=P({},i[i.length-1]),void 0===c?delete i[i.length-1][a[i.length-1]]:i[i.length-1][a[i.length-1]]=c}return i[0]}function ct(e,t){if(!Ht(e)||!Ht(t))return t;if(!Ke(e,t))return e;var n={};return e.$$id&&(n.$$id=e.$$id),Object.keys(t).forEach((function(r){Array.isArray(t[r])&&Array.isArray(e[r])&&t[r]!==e[r]?n[r]=t[r].map((function(t,n){return e[r][n]?ct(e[r][n],t):t})):void 0===e[r]?n[r]=t[r]:n[r]=ct(e[r],t[r])})),n}function lt(e,t,n){var r=rt(e,t);if(null===r)return e;var a=parseInt(r.pop(),10),o=[],i=nt(e,r,o);if(!Array.isArray(i))return e;for(o[o.length-1]=i=i.concat(),n(i,i[a],a);o.length>1;){var s=o.pop();Array.isArray(o[o.length-1])?o[o.length-1]=o[o.length-1].concat():o[o.length-1]=P({},o[o.length-1]),o[o.length-1][r[o.length-1]]=s}return o[0]}function dt(e,t){var n=ot(e,t);return!(!n||!Array.isArray(n))&&Ze(n,(function(e){return e.$$id===t}))>0}function ut(e,t){return lt(e,t,(function(e,t,n){0!==n&&(e.splice(n,1),e.splice(n-1,0,t))}))}function pt(e,t){var n=ot(e,t);if(!n||!Array.isArray(n))return!1;var r=Ze(n,(function(e){return e.$$id===t}));return~r&&r<n.length-1}function ft(e,t){return lt(e,t,(function(e,t,n){n!==e.length-1&&(e.splice(n,1),e.splice(n+1,0,t))}))}function ht(e,t,n){return void 0===n&&(n={}),lt(e,t,(function(e,t,r){var a=Qe(et(t));e.splice(r+1,0,mt(a,n))}))}function mt(e,t){return void 0===t&&(t={}),Dt(e,(function(e,n,r){var a,o="string"==typeof e&&0===e.indexOf("u:");if("id"===n&&o&&r){var i=zt();t[r.id]=i,r.id=i}else"componentId"===n&&o&&(r.componentId=null!==(a=t[e])&&void 0!==a?a:e);return e})),e}function vt(e){Object.isFrozen(e)||(Array.isArray(e)&&e.forEach((function(e){return vt(e)})),Ht(e)&&!q(e)&&(e.type&&!e.id&&(e.id=zt()),Object.keys(e).forEach((function(t){var n=e[t];(Ht(n)||Array.isArray(n))&&vt(n)}))))}function gt(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild}function bt(e,t,n){return void 0===n&&(n={}),(null==e?void 0:e.$$commonSchema)===t?n[t]=e:J(e)?Object.keys(e).forEach((function(r){bt(e[r],t,n)})):Array.isArray(e)&&e.map((function(e){return bt(e,t,n)})),n}function yt(e,t){if(Array.isArray(e))return e.map((function(e){return yt(e,t)}));if(J(e)){var n={},r=!1;return Object.keys(e).forEach((function(a){var o=e[a],i=yt(o,t);if(e.$$commonSchema?n[a]&&(n[a]=i):n[a]=i,i!==o&&(r=!0),"$$commonSchema"!==a||t){if("$$commonSchema"===a&&t){var s=bt(t,o);s[o]&&(e=n=P({},s[o]))}}else e=n={$$commonSchema:o}})),r?n:e}return e}function Et(e){if(Array.isArray(e))return e.map((function(e){return Et(e)}));if(J(e)){var t={},n=!1;return Object.keys(e).forEach((function(r){var a=e[r];~["visible","visibleOn","hidden","hiddenOn","toggled"].indexOf(r)&&(r="$$".concat(r),n=!0);var o=Et(a);t[r]=o,/[C|c]lassName/.test(r)&&e.editorState&&(t[r]=t[r]?t[r]+" "+e.editorState:e.editorState,n=!0),o!==a&&(n=!0)})),n?t:e}return e}function wt(e){return function(t){return!~e.indexOf(t)}}function Ct(e,t){var n=t?"function"==typeof t?t:function(e){return e[t]}:function(e){return e};return function(t,r){var a=e.indexOf(n(t)),o=e.indexOf(n(r));return(a=~a?a:999999)>(o=~o?o:999999)?1:a===o?0:-1}}function St(e,t){var n=localStorage.getItem("amis-editor-".concat(e));return n&&(n=JSON.parse(n)),n||t}function xt(e,t){t=JSON.stringify(t),localStorage.setItem("amis-editor-".concat(e),t)}function It(e){return e.replace(/\-[a-z0-9]+$/g,"")}var Rt=e.autobind;function Ot(e){for(;e&&(e.classList.add("ae-is-draging"),!(null==(e=e.parentElement)?void 0:e.hasAttribute("data-region"))););}function Nt(e){for(;e&&(e.classList.remove("ae-is-draging"),!(null==(e=e.parentElement)?void 0:e.hasAttribute("data-region"))););}function kt(e){return e.replace(/\W+(.)/g,(function(e,t){return t.toUpperCase()}))}var Ft=function(e,t){var n;return Z(e,(function(e){W(e,n)||(t(e,n),n=e)}))};function At(e,t){void 0===t&&(t=1);for(var n=[];t-- >0;)n.push(e);return n}function Mt(e,t,n){return Y.diff(e,t,n)}function Pt(e,t){return t?t.reduce((function(t,n){return function(e,t,n){if(e&&Array.isArray(null==n?void 0:n.path)){e=e===t?P({},e):e;var r=n.path.concat();"A"!==n.kind&&r.pop(),r.reduce((function(e,t){var n=e.target,r=e.source[t],a=n[t];return r===a&&(a=Array.isArray(a)?a.concat():P({},a),n[t]=a),{source:r,target:a}}),{target:e,source:t}),Y.applyChange(e,t,n)}return e}(t,e,n)}),e):e}function Dt(e,t){Object.keys(e).forEach((function(n){var r=e[n];J(r)||Array.isArray(r)?Dt(r,t):t(r,n,e)}))}var Bt=function(e){return X(e)||!isNaN(parseFloat(String(e).toString()))},jt=function(e,t){return void 0===t&&(t="px"),e?Bt(e)?"".concat(parseFloat(String(e).toString())).concat(t):e:void 0};function Tt(e){return"String"===Object.prototype.toString.call(e).slice(8,-1)}function Ht(e){var t=!1;return"Object"===Object.prototype.toString.call(e).slice(8,-1)&&(t=!0),t}function Lt(e){void 0===e&&(e={});var t={type:"object",properties:{}};return Object.keys(e).forEach((function(n){var r=e[n],a=typeof r;~["string","number"].indexOf(a)?t.properties[n]={type:a,title:n}:t.properties[n]="object"===a&&r?{type:"object",title:n}:{type:"",title:n}})),t}function zt(){return"u:"+ze()}function $t(e){return e.pluginIcon&&t(e.pluginIcon)}function Kt(e){return!(!e||"flex"!==e.type)}function _t(e,t){if("auto"===e)return"auto";var n=parseInt(e),r=t;X(t)||(r=parseInt(t));var a=e.substring(n.toString().length);return a||(a="px"),"".concat(n+r).concat(a)}function Vt(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"")}function Ut(e){return["divider","crud2","crud","list","picker","table","table-view","grid","cards","card","form","progress","diff-editor","editor","input-range","flex"].indexOf(e)>-1}function Wt(){var e,t;return null!==(t=null===(e=null===window||void 0===window?void 0:window.editorStore)||void 0===e?void 0:e.i18nEnabled)&&void 0!==t&&t}function Zt(e,t){var r;return t=t||(null===(r=null===window||void 0===window?void 0:window.editorStore)||void 0===r?void 0:r.appCorpusData),J(t)?n(e,(function(e){return t[e]||e})):e}function qt(e){var t,n;return Tt(e)&&(null===(n=null===(t=null===window||void 0===window?void 0:window.editorStore)||void 0===t?void 0:t.appCorpusData)||void 0===n?void 0:n[e])||e}function Yt(e){var t,n,r,a,o=!1;return!!e&&("page"===e.rendererName&&("aside"===e.name||"body"===e.name)||(!!(null===(n=null===(t=e.node)||void 0===t?void 0:t.schema)||void 0===n?void 0:n.isFreeContainer)||(((null===(r=e.$$editor)||void 0===r?void 0:r.needFillPlaceholder)||(null===(a=e.regionConfig)||void 0===a?void 0:a.needFillPlaceholder))&&(o=!0),o)))}var Jt=Object.freeze({__proto__:null,guid:ze,isObjectShallowModified:Ke,anyChanged:Ve,noop:Ue,makeHorizontalDeeper:We,omitControls:$e,isEmpty:qe,cloneObject:_e,eachTree:Ye,createObject:Je,__uri:Xe,cleanUndefined:Ge,JSONPipeIn:Qe,JSONPipeOut:et,addStyleClassName:tt,JSONGetByPath:nt,JSONGetPathById:rt,JSONGetById:at,JSONGetParentById:ot,JSONUpdate:it,JSONDelete:st,JSONMerge:ct,JSONChangeInArray:lt,JSONCanMoveUp:dt,JSONMoveUpById:ut,JSONCanMoveDown:pt,JSONMoveDownById:ft,JSONDuplicate:ht,reGenerateID:mt,JsonGenerateID:vt,createElementFromHTML:gt,deepFind:bt,filterSchemaForConfig:yt,filterSchemaForEditor:Et,blackList:wt,sortByList:Ct,persistGet:St,persistSet:xt,normalizeId:It,autobind:Rt,addDragingClass:Ot,removeDragingClass:Nt,camelize:kt,reactionWithOldValue:Ft,repeatArray:At,diff:Mt,patchDiff:Pt,JSONTraverse:Dt,isNumeric:Bt,string2CSSUnit:jt,isString:Tt,isObject:Ht,jsonToJsonSchema:Lt,generateNodeId:zt,isHasPluginIcon:$t,isLayoutPlugin:Kt,unitFormula:_t,stringRegExp:Vt,needDefaultWidth:Ut,getI18nEnabled:Wt,translateSchema:Zt,appTranslate:qt,needFillPlaceholder:Yt}),Xt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mainRef=_.createRef(),t}return D(t,e),t.prototype.handleWResizerMouseDown=function(e){return this.startResize(e,"horizontal")},t.prototype.handleHResizerMouseDown=function(e){return this.startResize(e,"vertical")},t.prototype.handleResizerMouseDown=function(e){return this.startResize(e,"both")},t.prototype.startResize=function(e,t){var n,r,a,o=this;if(void 0===t&&(t="horizontal"),(1===e.button&&null!==window.event||0===e.button)&&!e.defaultPrevented){e.preventDefault();var i=this.props,s=i.manager,c=i.id,l=i.node,d=i.store;if(l){var u=document.querySelector('[data-editor-id="'.concat(c,'"]'));if(u){s.disableHover=!0;var p=s["both"===t?"onSizeChangeStart":"vertical"===t?"onHeightChangeStart":"onWidthChangeStart"](e,{dom:u,node:l,store:d,resizer:"both"===t?this.resizerDom:"vertical"===t?this.hResizerDom:this.wResizerDom}),f=null===(n=p.data)||void 0===n?void 0:n.onMove,h=null===(r=p.data)||void 0===r?void 0:r.onEnd;if(f||h){null===(a=this.mainRef.current)||void 0===a||a.setAttribute("data-resizing","");var m=function(e){e.preventDefault(),null==f||f(e)},v=function(e){var t;e.preventDefault(),s.disableHover=!1,null===(t=o.mainRef.current)||void 0===t||t.removeAttribute("data-resizing"),window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",v),document.body.style.cursor="default";var n=function(e){window.removeEventListener("click",n,!0),e.preventDefault(),e.stopPropagation()};window.addEventListener("click",n,!0),setTimeout((function(){return window.removeEventListener("click",n,!0)}),350),null==h||h(e)};window.addEventListener("mousemove",m),window.addEventListener("mouseup",v),document.body.style.cursor="both"===t?"nwse-resize":"vertical"===t?"ns-resize":"ew-resize"}}}}},t.prototype.wResizerRef=function(e){var t;e?e.addEventListener("mousedown",this.handleWResizerMouseDown):null===(t=this.wResizerDom)||void 0===t||t.addEventListener("mousedown",this.handleWResizerMouseDown),this.wResizerDom=e},t.prototype.hResizerRef=function(e){var t;e?e.addEventListener("mousedown",this.handleHResizerMouseDown):null===(t=this.hResizerDom)||void 0===t||t.addEventListener("mousedown",this.handleHResizerMouseDown),this.hResizerDom=e},t.prototype.resizerRef=function(e){var t;e?e.addEventListener("mousedown",this.handleResizerMouseDown):null===(t=this.resizerDom)||void 0===t||t.addEventListener("mousedown",this.handleResizerMouseDown),this.resizerDom=e},t.prototype.handleMouseEnter=function(){this.props.manager.disableHover||this.props.store.setHoverId(this.props.id)},t.prototype.handleDragStart=function(e){var t=this.props,n=t.manager,r=t.id;n.disableHover||n.startDrag(r,e)},t.prototype.render=function(){var e=this.props,t=e.className,n=e.store,a=e.id,o=e.title,i=e.children,s=e.node;e.toolbarContainer;var c=e.onSwitch,l=n.sortedToolbars,d=n.sortedSecondaryToolbars,u=n.sortedSpecialToolbars,p=n.isActive(a),f=n.parentIsFreeContainer(),h=n.isHoved(a)||n.dropId===a||n.insertOrigId===a||f===a,m=n.draggableContainer(a),v=document.getElementById("aePreviewHighlightBox").offsetWidth-s.x<176;return _.createElement("div",{className:U("ae-Editor-hlbox",{shake:a===n.insertOrigId,selected:p||~n.selections.indexOf(a),hover:h,regionOn:s.childRegions.some((function(e){return n.isRegionHighlighted(e.id,e.region)})),isFreeContainerElem:!!f||m},t),"data-hlbox-id":a,style:{display:s.w&&s.h?"block":"none",top:s.y,left:s.x,width:s.w,height:s.h},ref:this.mainRef,onMouseEnter:this.handleMouseEnter,draggable:!!f||m,onDragStart:this.handleDragStart},p?_.createElement("div",{className:"ae-Editor-toolbarPopover ".concat(v?"is-right-elem":"")},_.createElement("div",{className:"ae-Editor-nav"},s.host?_.createElement("div",{className:"ae-Editor-tip parent",onClick:function(){return null==c?void 0:c(s.host.id)}},s.host.label):null,_.createElement("div",{key:"tip",className:"ae-Editor-tip current"},o),s.firstChild?_.createElement("div",{className:"ae-Editor-tip child",onClick:function(){return null==c?void 0:c(s.firstChild.id)}},s.firstChild.label):null),_.createElement("div",{className:"ae-Editor-toolbar",key:"toolbar"},l.map((function(e){return _.createElement("button",{key:e.id,type:"button",draggable:e.draggable,onDragStart:e.onDragStart,"data-id":e.id,"data-tooltip":e.tooltip||void 0,"data-position":e.placement||"top",onClick:e.onClick},e.iconSvg?_.createElement(r,{className:"icon",icon:e.iconSvg}):~e.icon.indexOf("<")?_.createElement("span",{dangerouslySetInnerHTML:{__html:e.icon}}):_.createElement("i",{className:e.icon}))})))):null,p&&d.length?_.createElement("div",{className:"ae-Editor-toolbar sencondary",key:"sencondary-toolbar"},d.map((function(e){return _.createElement("button",{key:e.id,type:"button",className:e.className,"data-id":e.id,"data-tooltip":e.tooltip||void 0,"data-position":e.placement||"top",onClick:e.onClick},e.iconSvg?_.createElement(r,{className:"icon",icon:e.iconSvg}):~e.icon.indexOf("<")?_.createElement("span",{dangerouslySetInnerHTML:{__html:e.icon}}):_.createElement("i",{className:e.icon}))}))):null,p&&u.length?_.createElement("div",{className:"ae-Editor-toolbar special",key:"special-toolbar"},u.map((function(e){return _.createElement("button",{key:e.id,type:"button",className:e.className,"data-id":e.id,"data-tooltip":e.tooltip||void 0,"data-position":e.placement||"top",onClick:e.onClick},e.iconSvg?_.createElement(r,{className:"icon",icon:e.iconSvg}):~e.icon.indexOf("<")?_.createElement("span",{dangerouslySetInnerHTML:{__html:e.icon}}):_.createElement("i",{className:e.icon}))}))):null,i,s.widthMutable?_.createElement(_.Fragment,null,_.createElement("span",{className:"ae-border-WResizer",ref:this.wResizerRef}),_.createElement("span",{className:"ae-WResizer",ref:this.wResizerRef})):null,s.heightMutable?_.createElement(_.Fragment,null,_.createElement("span",{className:"ae-border-HResizer",ref:this.hResizerRef}),_.createElement("span",{className:"ae-HResizer",ref:this.hResizerRef})):null,s.widthMutable&&s.heightMutable?_.createElement("span",{className:"ae-Resizer",ref:this.resizerRef}):null)},B([Rt,j("design:type",Function),j("design:paramtypes",[MouseEvent]),j("design:returntype",void 0)],t.prototype,"handleWResizerMouseDown",null),B([Rt,j("design:type",Function),j("design:paramtypes",[MouseEvent]),j("design:returntype",void 0)],t.prototype,"handleHResizerMouseDown",null),B([Rt,j("design:type",Function),j("design:paramtypes",[MouseEvent]),j("design:returntype",void 0)],t.prototype,"handleResizerMouseDown",null),B([Rt,j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",void 0)],t.prototype,"wResizerRef",null),B([Rt,j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",void 0)],t.prototype,"hResizerRef",null),B([Rt,j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",void 0)],t.prototype,"resizerRef",null),B([Rt,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",void 0)],t.prototype,"handleMouseEnter",null),B([Rt,j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",void 0)],t.prototype,"handleDragStart",null),t=B([de],t)}(_.Component),Gt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return D(t,e),t.prototype.handleClick=function(){var e=this.props,t=e.manager,n=e.id,r=e.name;t.emptyRegion(n,r)},t.prototype.render=function(){var e=this.props,t=e.store,n=e.id,a=e.name,o=e.title,i=e.node,s=e.isOnlyChildRegion,c=t.isRegionHighlighted(n,a),l=t.isRegionHighlightHover(n,a),d=t.isRegionDragEnter(n,a),u=t.getNodeById(n),p=i.x-u.x,f=i.y-u.y;return _.createElement("div",{"data-renderer":i.host.info.renderer.name,"data-region":a,className:U("ae-Editor-rhlbox",d?"is-dragenter":"",!s&&l?"region-hover":"",c?"is-highlight":"",p<87&&f<21&&i.x<190?"region-label-within":""),style:{width:i.w,height:i.h,borderWidth:"".concat(Math.max(0,f),"px ").concat(Math.max(0,u.w-p-i.w),"px ").concat(Math.max(0,u.h-f-i.h),"px ").concat(Math.max(0,p),"px")}},_.createElement("div",{"data-node-id":n,"data-node-region":a,className:"region-tip ".concat(s?"is-only-child-region":""," ignore-hover-elem")},o,_.createElement("span",{className:"margin-space"},"|"),_.createElement("button",{type:"button",className:"clear-icon-btn","data-tooltip":M("bb28ec819520ced0ffb4c3da01f112e2"),"data-position":"bottom",onClick:this.handleClick},_.createElement(r,{icon:"clear-btn"}))))},B([Rt,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",void 0)],t.prototype,"handleClick",null),t=B([de],t)}(_.Component),Qt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return D(t,e),t.prototype.render=function(){return _.createElement("div",{className:"ae-ErrorRenderer"},"类型错误，无法渲染")},t}(_.Component);function en(e,t){var n={context:t,type:e,prevented:!1,stoped:!1,preventDefault:function(){n.prevented=!0},stopPropagation:function(){n.stoped=!0},get data(){return n.context.data},setData:function(e){n.context.data=e}};return n}var tn=function(){function e(e){this.manager=e}return e.prototype.getRendererInfo=function(e){var t=e.renderer,n=e.schema,r=this;if(n.$$id&&r.name&&r.rendererName&&r.rendererName===t.name){var a=r.name;return(null==n?void 0:n.isFreeContainer)?a=M("db805d4e361ac2d3fc6047eaea1a7c69"):(null==n?void 0:n.isSorptionContainer)&&(a=M("969e9e56b3812abffa3994f35ea31835")),{name:a,regions:r.regions,patchContainers:r.patchContainers,vRendererConfig:r.vRendererConfig,wrapperProps:r.wrapperProps,wrapperResolve:r.wrapperResolve,filterProps:r.filterProps,$schema:r.$schema,renderRenderer:r.renderRenderer,multifactor:r.multifactor,scaffoldForm:r.scaffoldForm,disabledRendererPlugin:r.disabledRendererPlugin,isBaseComponent:r.isBaseComponent,rendererName:r.rendererName}}},e.prototype.buildEditorPanel=function(e,t){var n,r,a,o,i=this,s=this.manager.store;if(s.activeId&&!e.selections.length){if(!e.info.hostId&&(i.panelControls||i.panelControlsCreator||i.panelBody||i.panelBodyCreator)&&e.info.plugin===this){var c=i.panelBodyCreator?i.panelBodyCreator(e):i.panelBody;this.manager.trigger("after-build-panel-body",{context:e,data:c,plugin:i}),t.push({key:"config",icon:i.panelIcon||i.icon||"fa fa-cog",pluginIcon:i.pluginIcon,title:i.panelTitle||M("e366ccf1556c0672dcecba135ed5472e"),render:this.manager.makeSchemaFormRender({definitions:i.panelDefinitions,submitOnChange:i.panelSubmitOnChange,api:i.panelApi,body:c,controls:i.panelControlsCreator?i.panelControlsCreator(e):i.panelControls,justify:i.panelJustify,panelById:s.activeId})})}else e.info.plugin===this&&e.info.hostId&&((null===(n=i.vRendererConfig)||void 0===n?void 0:n.panelControls)||(null===(r=i.vRendererConfig)||void 0===r?void 0:r.panelControlsCreator)||(null===(a=i.vRendererConfig)||void 0===a?void 0:a.panelBody)||(null===(o=i.vRendererConfig)||void 0===o?void 0:o.panelBodyCreator))&&t.push({key:e.info.multifactor?"vconfig":"config",icon:i.vRendererConfig.panelIcon||"fa fa-cog",title:i.vRendererConfig.panelTitle||M("e366ccf1556c0672dcecba135ed5472e"),render:this.manager.makeSchemaFormRender({submitOnChange:i.panelSubmitOnChange,api:i.panelApi,definitions:i.vRendererConfig.panelDefinitions,controls:i.vRendererConfig.panelControlsCreator?i.vRendererConfig.panelControlsCreator(e):i.vRendererConfig.panelControls,body:i.vRendererConfig.panelBodyCreator?i.vRendererConfig.panelBodyCreator(e):i.vRendererConfig.panelBody,justify:i.vRendererConfig.panelJustify,panelById:s.activeId})});if(e.info.plugin===this&&e.info.multifactor){var l=e.node.sameIdChild;if(l)this.manager.collectPanels(l,!1,!0).forEach((function(e){var n,r;"config"!==e.key&&"vconfig"!==e.key||t.push(P(P({},e),{key:"sub-".concat(e.key),icon:(null===(r=null===(n=l.info)||void 0===n?void 0:n.plugin)||void 0===r?void 0:r.icon)||e.icon}))}))}}},e.prototype.buildSubRenderers=function(e,t,n){var r=this;return Array.isArray(r.scaffolds)?r.scaffolds.map((function(e){var t,n,a,o,i,s,c,l;return{name:null!==(t=e.name)&&void 0!==t?t:r.name,icon:null!==(n=e.icon)&&void 0!==n?n:r.icon,pluginIcon:r.pluginIcon,description:null!==(a=e.description)&&void 0!==a?a:r.description,previewSchema:null!==(o=e.previewSchema)&&void 0!==o?o:r.previewSchema,tags:null!==(i=e.tags)&&void 0!==i?i:r.tags,docLink:null!==(s=e.docLink)&&void 0!==s?s:r.docLink,type:null!==(c=e.type)&&void 0!==c?c:r.type,scaffold:null!==(l=e.scaffold)&&void 0!==l?l:r.scaffold,scaffoldForm:r.scaffoldForm,disabledRendererPlugin:r.disabledRendererPlugin,isBaseComponent:r.isBaseComponent,rendererName:r.rendererName}})):r.name&&r.description?{searchKeywords:r.searchKeywords,name:r.name,icon:r.icon,description:r.description,previewSchema:r.previewSchema,tags:r.tags,docLink:r.docLink,type:r.type,scaffold:r.scaffold,scaffoldForm:r.scaffoldForm,disabledRendererPlugin:r.disabledRendererPlugin,isBaseComponent:r.isBaseComponent,pluginIcon:r.pluginIcon,rendererName:r.rendererName}:void 0},e.prototype.renderPlaceholder=function(e,t,n){return _.createElement("div",{key:t,className:"wrapper-sm b-a b-light m-b-sm",style:n,children:_.createElement("span",{className:"text-muted",children:e})})},e.prototype.getPlugin=function(e){return we(this.manager.plugins,(function(t){return"string"==typeof e?t.rendererName===e:t instanceof e}))},e.scene=["global"],e}(),nn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return D(t,e),t.prototype.onActive=function(e){var t,n=e.context;if((null===(t=n.info)||void 0===t?void 0:t.plugin)===this&&n.node){var r=n.node,a=r.schema||{};a.isFixedWidth&&r.setWidthMutable(!0),a.isFixedHeight&&r.setHeightMutable(!0)}},t.prototype.onWidthChangeStart=function(e){return this.onSizeChangeStart(e,"horizontal")},t.prototype.onHeightChangeStart=function(e){return this.onSizeChangeStart(e,"vertical")},t.prototype.onSizeChangeStart=function(e,t){var n;void 0===t&&(t="both");var r=e.context,a=r.node,o=r.store;if((null===(n=a.info)||void 0===n?void 0:n.plugin)===this){var i=r.resizer,s=r.dom,c=o.getDoc()||document,l=s.parentElement.getBoundingClientRect(),d=s.getBoundingClientRect(),u=r.nativeEvent.pageX,p=r.nativeEvent.pageY;e.setData({onMove:function(e){var n=e.pageY-p,r=e.pageX-u,o=Math.max(50,d.height+n),s=Math.max(100,Math.min(d.width+r,l.width)),f={width:s,height:o},h=c.querySelector("[data-hlbox-id='".concat(a.id,"']")),m=c.querySelector("[data-editor-id='".concat(a.id,"']"));"both"===t?(i.setAttribute("data-value","".concat(s,"px x ").concat(o,"px")),h.style.height="".concat(o,"px"),h.style.width="".concat(s,"px"),m.style.height="".concat(o,"px"),m.style.width="".concat(s,"px")):"vertical"===t?(i.setAttribute("data-value","".concat(o,"px")),h.style.height="".concat(o,"px"),m.style.height="".concat(o,"px"),delete f.width):(i.setAttribute("data-value","".concat(s,"px")),h.style.width="".concat(s,"px"),m.style.width="".concat(s,"px"),delete f.height),a.updateState(f),requestAnimationFrame((function(){a.calculateHighlightBox()}))},onEnd:function(e){var n=e.pageY-p,r=e.pageX-u,o=Math.max(50,d.height+n),s={width:Math.max(100,Math.min(d.width+r,l.width)),height:o};"vertical"===t?delete s.width:"horizontal"===t&&delete s.height,i.removeAttribute("data-value"),a.updateSchemaStyle(s),requestAnimationFrame((function(){a.calculateHighlightBox()}))}})}},t}(tn),rn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return D(t,e),t.prototype.componentDidMount=function(){this.markDom(this.props.$$editor.id),this.props.$$node&&requestAnimationFrame((function(){}))},t.prototype.componentDidUpdate=function(e){this.markDom(this.props.$$editor.id)},t.prototype.getWrappedInstance=function(){return this.ref},t.prototype.refFn=function(e){this.ref=e},t.prototype.markDom=function(e){var t,n,r=this,a=ue(this);if(a&&e){var o=this.props.$$editor,i=!1!==this.props.$$visible&&!0!==this.props.$$hidden,s=o.wrapperResolve?o.wrapperResolve(a):a;(Array.isArray(s)?s:s?[s]:[]).forEach((function(t){t.setAttribute("data-editor-id",e),t.setAttribute("name",r.props.id),t.setAttribute("data-visible",i?"":"false"),t.setAttribute("data-hide-text",i?"":M("392342f7750a565f9a79c678c6b12421"))})),null===(n=null===(t=o.plugin)||void 0===t?void 0:t.markDom)||void 0===n||n.call(t,s,this.props)}},t.prototype.render=function(){var e=this.props,t=e.$$editor,n=e.$$node,r=e.store,a=T(e,["$$editor","$$node","store"]),o=t.renderer;return t.filterProps&&(a=t.filterProps.call(t.plugin,a,n)),t.renderRenderer?t.renderRenderer.call(t.plugin,P(P(P(P(P(P({},a),{store:r}),null==n?void 0:n.state),{$$editor:t}),t.wrapperProps),{ref:this.refFn}),t):_.createElement(o.component,P({},a,{store:r},null==n?void 0:n.state,{$$editor:t},t.wrapperProps,{ref:this.refFn}))},B([Rt,j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",void 0)],t.prototype,"refFn",null),t=B([de],t)}(_.Component),an=he.model("EditorNode",{parentId:"",parentRegion:"",isCommonConfig:!1,id:"",type:"",label:"",regionInfo:he.maybe(he.frozen()),path:"",schemaPath:"",region:"",preferTag:"",state:he.optional(he.frozen(),{}),widthMutable:!1,heightMutable:!1,memberIndex:-1,folded:!1,patched:!1,x:0,y:0,w:0,h:0,children:he.optional(he.array(he.late((function(){return an}))),[])}).volatile((function(){return{getData:he.frozen()}})).views((function(e){var t,n;return{get info(){return t},setInfo:function(e){t=e},get rendererConfig(){return n},setRendererConfig:function(e){n=e},get isVitualRenderer(){return!!~e.memberIndex},get clickable(){var e,t;return!1!==(null===(e=this.info)||void 0===e?void 0:e.editable)||!(null===(t=this.info)||void 0===t?void 0:t.hostId)},get draggable(){var e;return!(!this.moveable||!1===(null===(e=this.info)||void 0===e?void 0:e.draggable))},get moveable(){var e,t;return!(this.isRegion||!1===(null===(e=this.info)||void 0===e?void 0:e.movable)||!Array.isArray(this.schemaParent)||(null===(t=this.host)||void 0===t?void 0:t.memberImmutable(this.parent.region)))},get canMoveUp(){return!(this.isRegion||!this.moveable||!Array.isArray(this.schemaParent)||!this.prevSibling)},get canMoveDown(){return!(this.isRegion||!this.moveable||!Array.isArray(this.schemaParent)||!this.nextSibling)},get removable(){var e;return!(this.isRegion||!1===(null===(e=this.info)||void 0===e?void 0:e.removable)||!Array.isArray(this.schemaParent)||!this.host||this.host.memberImmutable(this.parent.region))},get duplicatable(){var e;return!(this.isRegion||!1===(null===(e=this.info)||void 0===e?void 0:e.duplicatable)||!Array.isArray(this.schemaParent)||this.host.memberImmutable(this.parent.region))},get replaceable(){var e;return!this.isRegion&&!1!==(null===(e=this.info)||void 0===e?void 0:e.replaceable)},memberImmutable:function(e){var t,n;return!!(!0===(null===(t=this.info)||void 0===t?void 0:t.memberImmutable)||Array.isArray(null===(n=this.info)||void 0===n?void 0:n.memberImmutable)&&~this.info.memberImmutable.indexOf(e))},get isRegion(){return!!e.region},get childRegions(){var e,t,n=this.uniqueChildren.filter((function(e,t,n){return e.isRegion}));if(null===(e=this.info)||void 0===e?void 0:e.multifactor){var r=this.sameIdChild;null===(t=null==r?void 0:r.childRegions)||void 0===t||t.forEach((function(e){return n.push(e)}))}return n},get uniqueChildren(){var t=e.children.filter((function(e,t,n){return n.findIndex((function(t){return e.isRegion?t.id===e.id&&t.region===e.region:t.id===e.id}))===t}));if(Array.isArray(this.schema)){var n=this.schema;t=t.sort((function(e,t){return xe(n,(function(t){return(null==t?void 0:t.$$id)===e.id}))-xe(n,(function(e){return(null==e?void 0:e.$$id)===t.id}))}))}return t},get sameIdChild(){var t;return null===(t=this.uniqueChildren)||void 0===t?void 0:t.find((function(t){return!t.isRegion&&t.id===e.id}))},get singleRegion(){return!(1!==this.uniqueChildren.length||!this.uniqueChildren[0].isRegion)},isExists:function(t){return e.children.some((function(e){return e.id===t}))},getChildById:function(t){return e.children.find((function(e){return e.id===t}))},get parent(){try{var t=me(e,2);return"root"!==(null==t?void 0:t.id)?t:null}catch(e){return null}},get ancestorField(){var t,n,r,a,o=me(e,4);if("root"===(null==o?void 0:o.id))return null;var i=null!==(n=null===(t=null==o?void 0:o.getComponent())||void 0===t?void 0:t.props)&&void 0!==n?n:{},s=null!==(r=null==i?void 0:i.body)&&void 0!==r?r:[],c=Object.keys(null!==(a=null==i?void 0:i.data)&&void 0!==a?a:{});return Se(H(H([],L(s.map((function(e){var t;return null!==(t=null==e?void 0:e.name)&&void 0!==t?t:""}))),!1),L(c),!1))},get host(){var t=e.parent;return(null==t?void 0:t.isRegion)&&(t=t.parent),t},get firstChild(){var t=e;if(!t.children.length)return null;for(var n=t.children[0];n;){if(!n.isRegion&&n.id!==t.id)return n;n=n.children.length?n.children[0]:null}return null},get index(){return this.parent.uniqueChildren.indexOf(e)},get prevSibling(){for(var t=this.parent.uniqueChildren,n=t.indexOf(e)-1;n>=0&&t[n];){if(t[n].id!==e.id)return t[n];n--}return null},get nextSibling(){for(var t=this.parent.uniqueChildren,n=t.length,r=t.indexOf(e)+1;r<n&&t[r];){if(t[r].id!==e.id)return t[r];r++}return null},get schema(){if(!ve(e))return null;var t=ge(e).getSchema(e.id);return this.isRegion&&t?t[e.region]:t},get schemaParent(){var t=ge(e);return this.isRegion?t.getSchema(e.id):t.getSchemaParentById(e.id)},get isSecondFactor(){var t;return(null===(t=this.parent)||void 0===t?void 0:t.id)===e.id}}})).actions((function(e){function t(e,n){var r=!1,a={};if(e)return n.forEach((function(n){var o=n.split(".");n=o.shift();var i=e[n];if("string"==typeof i)return r=!0,void(a[n]=[Qe({type:"tpl",tpl:i,wrapperComponent:"",inline:!1})]);if(Array.isArray(i)){var s=!1,c=i.map((function(e){if("string"==typeof e&&e)return s=!0,Qe({type:"tpl",tpl:e,wrapperComponent:"",inline:!1});if(o.length){var n=t(e,[o.join(".")]);n!==e&&(s=!0,e=n)}return e}));s&&(r=!0,a[n]=c)}else i&&(a[n]=[Qe(i)],r=!0)})),r&&(e=P(P({},e),a)),e}function n(t){var n=Array.isArray(t)?t:t?[t]:[];if(n.length){var r=ge(e).getIframe(),a=ge(e).getLayer().getBoundingClientRect(),o=function(e){for(var t=e.concat(),n=t.shift(),r=n.getBoundingClientRect(),a={left:r.left,top:r.top,width:r.width,height:r.height,right:r.right,bottom:r.bottom},o=n.parentElement.closest(".ae-Preview-inner,[data-region]");t.length;){var i=t.shift(),s=i.getBoundingClientRect(),c=i.parentElement.closest(".ae-Preview-inner,[data-region],[data-editor-id]");if(!o&&c)o=c;else if(c&&o&&c!==o)continue;a.left=Math.min(a.left,s.left),a.top=Math.min(a.top,s.top),a.right=Math.max(a.right,s.right),a.bottom=Math.max(a.bottom,s.bottom),a.width=a.right-a.left,a.height=a.bottom-a.top}return a}(n),i={left:o.left-a.left,top:o.top-a.top};if(r){var s=r.getBoundingClientRect();i.left+=s.left,i.top+=s.top}var c=o.height;c&&(e.x=i.left+0,e.y=i.top+0,e.w=o.width,e.h=c)}}var r;return{getClosestParentByType:function(t){for(var n=e;n===n.parent;){if(n.schema.type===t)return n;if("root"===n.id)return}},updateIsCommonConfig:function(t){e.isCommonConfig=!!t},addChild:function(t){e.children.push(P(P({},t),{parentId:e.id,parentRegion:e.region}));var n=e.children[e.children.length-1];return n.setInfo(t.info),n},removeChild:function(t){var n=e.children.findIndex((function(e){return e===t}));e.children.splice(n,1)},toggleFold:function(t){t.stopPropagation(),t.preventDefault(),e.folded=!e.folded},patch:function(n,r){if(void 0===r&&(r=!1),!e.patched||r){e.patched=!0;var o=n,i=e.info;if(!1!==i.editable){var s=o.getSchema(i.id),c=s;(null==c?void 0:c.id)||(c=P(P({},c),{id:"u:"+ze()})),(Array.isArray(i.regions)&&i.regions.length||Array.isArray(i.patchContainers))&&(c=t(c,i.patchContainers||i.regions.map((function(e){return e.key})))),(c=Qe(c=a(c,{component:i.renderer.component})))!==s&&o.changeValueById(i.id,c,void 0,!0,!0)}}},updateSchema:function(t){var n=e.info;if(!1!==n.editable){var r=ge(e),a=r.getSchema(n.id);a=P(P({},a),t),r.changeValueById(n.id,a)}},updateSchemaStyle:function(t){var n=e.info;if(!1!==n.editable){var r=ge(e),a=r.getSchema(n.id);a=P(P({},a),{style:P(P({},a.style),t)}),r.changeValueById(n.id,a)}},setComponent:function(e){r=e},getComponent:function(){return r},calculateHighlightBox:function(t){var r;if(void 0===t&&(t=ge(e)),t.calculateStarted){var a=ge(e).getDoc();if(e.isRegion){n(o=a.querySelector('[data-region="'.concat(e.region,'"][data-region-host="').concat(e.id,'"]')))}else{var o=[].slice.call(a.querySelectorAll('[data-editor-id="'.concat(e.id,'"]')));n("button"===(null===(r=e.info)||void 0===r?void 0:r.renderer.name)?null==o?void 0:o[0]:o),e.childRegions.forEach((function(e){return e.calculateHighlightBox(t)}))}}},resetHighlightBox:function(t){e.x=0,e.y=0,e.w=0,e.h=0,e.childRegions.forEach((function(e){return e.resetHighlightBox(t)}))},updateState:function(t,n){void 0===n&&(n=!1),e.state=P(P({},n?null:e.state),t)},setWidthMutable:function(t){e.widthMutable=!!t},setHeightMutable:function(t){e.heightMutable=!!t}}})),on=_.createContext(null),sn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return D(t,e),t.prototype.UNSAFE_componentWillMount=function(){this.parentNode=this.context;var e=this.props,t=e.$$editor,n=e.manager;if(!this.parentNode&&t&&t.id){var r=n.store.getNodeById(t.id);r&&(this.parentNode=r)}this.parentNode&&(this.editorNode=this.parentNode.addChild({id:this.parentNode.id,type:this.parentNode.type,label:this.props.label,path:"".concat(this.parentNode.path,"/").concat(this.props.name),region:this.props.name,regionInfo:this.props.regionConfig,preferTag:this.props.preferTag}))},t.prototype.componentDidMount=function(){this.editorNode&&this.markDom(this.editorNode.id,this.props.name,this.props.rendererName)},t.prototype.componentDidUpdate=function(e){this.editorNode&&this.markDom(this.editorNode.id,this.props.name,this.props.rendererName)},t.prototype.componentWillUnmount=function(){this.editorNode&&ve(this.editorNode)&&this.parentNode&&this.parentNode.removeChild(this.editorNode)},t.prototype.markDom=function(e,t,n){var r=ue(this);if(r){var a=this.props.wrapperResolve,o=a?a(r):r.parentElement;o.setAttribute("data-region",t),o.setAttribute("data-region-host",e),n&&o.setAttribute("data-renderer",n)}},t.prototype.render=function(){var e="wrapper"===this.props.rendererName||"container"===this.props.rendererName,t=!1;return Yt(this.props)&&(t=!0),_.createElement(on.Provider,{value:this.editorNode},this.props.children,_.createElement("span",{className:"ae-Region-placeholder ".concat(e?"layout-content":""," ").concat(t?"fill-placeholder":"")},this.props.placeholder||this.props.label))},t.contextType=on,t}(_.Component),cn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return D(t,e),t.prototype.getWrappedInstance=function(){return this.ref},t.prototype.refFn=function(e){this.ref=e},t.prototype.renderChild=function(e,t,n){var r=this.props,a=r.render,o=r.$$editor,i=r.$$node,s=a(e,t,n);if(null==i?void 0:i.memberImmutable(e))return s;var c=we(o.regions,(function(t){return t.key===e&&!t.matchRegion&&!t.renderMethod}));if(c){var l=c.wrapper||sn;return _.createElement(l,{key:null==n?void 0:n.key,preferTag:c.preferTag,name:c.key,label:c.label,placeholder:c.placeholder,regionConfig:c,editorStore:o.plugin.manager.store,wrapperResolve:c.wrapperResolve,manager:o.plugin.manager,children:s,rendererName:o.renderer.name,$$editor:o,node:i})}return s},t.prototype.render=function(){var e=this.props,t=e.$$editor,n=e.$$node,r=T(e,["$$editor","$$node"]),a={},o=t.plugin.manager.store;return t.id&&(o.isActive(t.id)||o.dropId===t.id)&&Array.isArray(t.regions)&&t.regions.forEach((function(e){var t=e.key;if(!e.optional&&!(null==n?void 0:n.memberImmutable(t))){var o=[];"actions"!==t||void 0!==r.submitText&&!r.submitText||(o=[{type:"submit",label:r.submitText||M("939d5345ad4345dbaabe14798f6ac0f1"),primary:!0}]);var i=Array.isArray(r[t])?r[t].concat():r[t]?[r[t]]:o;i.length||i.push({children:function(){return null}}),a[t]=i}})),_.createElement(rn,P({},r,a,{$$editor:t,$$node:n,render:this.renderChild,ref:this.refFn}))},B([Rt,j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",void 0)],t.prototype,"refFn",null),B([Rt,j("design:type",Function),j("design:paramtypes",[String,"function"==typeof(n=void 0!==o&&o)?n:Object,Object]),j("design:returntype",void 0)],t.prototype,"renderChild",null),t=B([de],t)}(_.Component),ln=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return D(t,e),t.prototype.componentWillUnmount=function(){var e=ue(this);if(e){var t=this.props.$$editor,n=t.wrapperResolve?t.wrapperResolve(e):e;(Array.isArray(n)?n:n?[n]:[]).forEach((function(e){e.classList.remove("ae-Editor-common-config")}))}},t.prototype.markDom=function(e){var t=ue(this);if(t&&e){var n=this.props.$$editor,r=n.wrapperResolve?n.wrapperResolve(t):t;this.props.$$commonSchema&&(Array.isArray(r)?r:r?[r]:[]).forEach((function(t){t.setAttribute("data-editor-id",e),t.classList.add("ae-Editor-common-config")}))}},t.prototype.render=function(){var e=this.props,t=e.$$editor,n=e.$$node,r=e.$schema,a=e.store,o=T(e,["$$editor","$$node","$schema","store"]),i=t.renderer;return o=et(o),t.filterProps&&(o=t.filterProps.call(t.plugin,o,n)),t.renderRenderer?t.renderRenderer.call(t.plugin,P(P(P(P({},o),{store:a,$schema:r,$$editor:t}),t.wrapperProps),{ref:this.refFn}),t):_.createElement(i.component,P({},o,{store:a,$schema:r,$$editor:t},t.wrapperProps,{ref:this.refFn}))},t}(rn);function dn(e){var t,n=this,r=e.propKey,a=e.body,o=e.definitions,s=e.controls,c=e.onChange,l=e.value,d=e.env,u=e.api,p=e.popOverContainer,f=e.submitOnChange,h=e.node,m=e.manager,v=e.justify,g=e.ctx,b=e.pipeIn,y=e.pipeOut,E="body";Array.isArray(s)&&(a=s,E="controls"),a=Array.isArray(a)?a.concat():[],!1===f&&a.push({type:"submit",label:M("be5fbbe34ce9979bfb6576d9eddc5612"),level:"primary",block:!0,className:"ae-Settings-actions"});var w=((t={key:r,definitions:o})[E]=a,t.className=U("config-form-content","ae-Settings-content","hoverShowScrollBar",!1===f?"with-actions":""),t.wrapperComponent="div",t.type="form",t.title="",t.mode="normal",t.api=u,t.wrapWithPanel=!1,t.submitOnChange=!1!==f,t.messages={validateFailed:""},t);v&&(w.mode="horizontal",w.horizontal={left:4,right:8,justify:!0});var C=b?b(l):l;return i(w,{onFinished:function(e){return z(n,void 0,void 0,(function(){var t,n;return $(this,(function(r){switch(r.label){case 0:return y?[4,y(e)]:[3,2];case 1:return t=r.sent(),[3,3];case 2:t=e,r.label=3;case 3:return n=Mt(l,e=t),c(e,n),[2]}}))}))},data:g?G(g,C):C,node:h,manager:m,popOverContainer:p},P({},Re(d,"replaceText")))}function un(e,t,n){for(var r=e.Renderer;r.ComposedComponent;)r=r.ComposedComponent;var a=r.prototype;if(Array.isArray(t)){var o=Ce(t,(function(e){return e.renderMethod}));Object.keys(o).forEach((function(e){var t;if(!a["__".concat(e)]&&a[e]){var n,r,i=o[e],s=null===(t=i[0])||void 0===t?void 0:t.renderMethodOverride;a["__".concat(e)]=a[e],a[e]=(n=a["__".concat(e)],r=(null==s?void 0:s(i.concat(),pn))||function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.props.$$editor,r=this.super.apply(this,e);if(n&&!this.props.$$commonSchema&&Array.isArray(n.regions)&&i.every((function(e){return we(n.regions,(function(t){return t.key===e.key}))}))){var a=i.map((function(e){var t=we(n.regions,(function(t){return t.key===e.key&&(!e.rendererName||e.rendererName===t.rendererName)}));return t?P(P({},e),{label:t.label,preferTag:t.preferTag}):e}));return pn(this,r,a,n,n.plugin.manager)}return r},"function"!=typeof n?n:function(){var e=this.super;this.super=n.bind(this);var t=r.apply(this,arguments);return this.super=e,t})}}))}else n&&Object.keys(n).forEach((function(e){var t,r;a["__".concat(e)]||"function"!=typeof a[e]||(a["__".concat(e)]=a[e],a[e]=(t=a["__".concat(e)],r=n[e],"function"!=typeof t?t:function(){var e=this.super;this.super=t.bind(this);var n=r.apply(this,arguments);return this.super=e,n}))}))}function pn(e,t,n,r,a){if(!0===r.memberImmutable)return t;if(Array.isArray(r.memberImmutable)&&n.every((function(e){return r.memberImmutable.includes(e.key)})))return t;var o=we(n,(function(e){return!e.matchRegion}));if(o){var i=o.wrapper||sn;return"inner"===o.insertPosition&&_.isValidElement(t)?_.cloneElement(t,{children:_.createElement(i,{key:o.key,preferTag:o.preferTag,name:o.key,label:o.label,placeholder:o.placeholder,regionConfig:o,editorStore:a.store,manager:a,children:t.props.children,wrapperResolve:o.wrapperResolve,rendererName:r.renderer.name})}):_.createElement(i,{key:o.key,preferTag:o.preferTag,name:o.key,label:o.label,placeholder:o.placeholder,regionConfig:o,editorStore:a.store,manager:a,children:t,wrapperResolve:o.wrapperResolve,rendererName:r.renderer.name})}if(n.length){var s=L(function(e,t,n){var r=-1,a=void 0;return n.some((function(n,o){return!!n.matchRegion(t,e)&&(r=o,a=n,!0)})),[a,r]}(e,t,n),2),c=s[0],l=s[1];if(c){i=c.wrapper||sn;if(n.splice(l,1),"outter"===c.insertPosition)return _.createElement(i,{key:c.key,preferTag:c.preferTag,name:c.key,label:c.label,placeholder:c.placeholder,regionConfig:c,editorStore:a.store,manager:a,children:t,wrapperResolve:c.wrapperResolve});if(_.isValidElement(t)){var d=t.props.children;return _.cloneElement(t,{children:_.createElement(i,{key:c.key,preferTag:c.preferTag,name:c.key,label:c.label,placeholder:c.placeholder,regionConfig:c,editorStore:a.store,manager:a,children:d,wrapperResolve:c.wrapperResolve})})}}else if(_.isValidElement(t)&&t.props.children){d=t.props.children;return d=Array.isArray(d)?d.map((function(t){return pn(e,t,n,r,a)})):pn(e,d,n,r,a),_.cloneElement(t,{children:d})}}return t}function fn(e,t,n){if(!_.isValidElement(e))return e;var r=t(e,n);if(r===e&&e.props.children){var a=e.props.children;if(Array.isArray(a)){var o=[],i=!1;a.forEach((function(e,n){var r=fn(e,t,n);r!==e&&(i=!0,_.isValidElement(r)&&!r.key&&(r=_.cloneElement(r,{key:n}))),o.push(r)})),i&&(r=_.cloneElement(r,{children:o}))}else{var s=fn(a,t,n);s!==a&&(r=_.cloneElement(r,{children:s}))}}return r}var hn=document.createElement("div");var mn={updateLocation:function(){},jumpTo:function(){s.info(M("245897371cda2055f5c17c6cf298ed48"))},fetcher:function(e){var t=e.url,n=e.method,r=e.data,a=e.config;return z(void 0,void 0,void 0,(function(){var e;return $(this,(function(o){switch(o.label){case 0:return(a=a||{}).url=t,a.withCredentials=!0,a.cancelExecutor&&(a.cancelToken=new Oe.CancelToken(a.cancelExecutor)),a.headers=a.headers||{},a.method=n,a.data=r,"get"===n&&r?a.params=r:r&&r instanceof FormData||!r||"string"==typeof r||r instanceof Blob||r instanceof ArrayBuffer||(r=JSON.stringify(r),a.headers["Content-Type"]="application/json"),[4,Oe(a)];case 1:return e=o.sent(),[4,Q(e,(function(e){return""}))];case 2:return[2,e=o.sent()]}}))}))},isCancel:function(e){return Oe.isCancel(e)},alert:c,confirm:l,notify:function(e,t){s[e]?s[e](t,M("error"===e?"a71002967924a83e32b38a80705290fb":"058ebdf2884474ebff2977ba2f0e275e")):console.warn("[Notify]",e,t)}},vn=function(){function e(e,t){this.dnd=e,this.region=t,this.exchangeX=0,this.exchangeY=0,this.dndContainer=this.dnd.store.getDoc().querySelector('[data-region="'.concat(t.region,'"][data-region-host="').concat(t.id,'"]'))}return e.prototype.enter=function(e,t){var n=this.dnd.dragElement;if(n&&n.closest("[data-region]")===this.dndContainer){var r=Array.isArray(this.region.schema)?this.region.schema:[],a=this.getChild(this.dndContainer,n),o=n.getAttribute("data-editor-id"),s=xe(r,(function(e){return e.$$id===o}));~s&&r[s+1]&&(this.dropBeforeId=r[s+1].$$id),this.dndContainer.insertBefore(t,a);var c=n.outerHTML.replace("ae-is-draging","").replace(/\bdata\-editor\-id=(?:'.+?'|".+?")/g,"");t.innerHTML=c}else{var l=this.dnd.manager,d=l.store;!function(e,t,n,r){e.innerHTML="";var a=t.host.getComponent(),o=(null==a?void 0:a.renderControl)&&"body"===t.region;try{pe(i({children:function(e){var r=e.render;return o?r("",{type:"form",wrapWithPanel:!1,mode:a.props.mode,body:[n]}):r(t.region,n)}},{},P(P({},r.env),{theme:(null==a?void 0:a.props.theme)||r.env.theme,session:"ghost-thumb"}),""),hn)}catch(e){}var s=hn.innerHTML||M("f942c7a6a35c4eb1381d2966462d0489");e.innerHTML=s,fe(hn),hn.innerHTML=""}(t,this.region,Zt(d.dragSchema),l),this.dndContainer.appendChild(t)}},e.prototype.leave=function(e,t){this.dndContainer.removeChild(t)},e.prototype.over=function(e,t){var n,r,a=this.getTarget(e),o=this.dndContainer,i=this.region.schema,s=Array.isArray(i)?i:[],c=e.clientX-this.exchangeX,l=e.clientY-this.exchangeY;if(a&&!d.animating){var u=a.getAttribute("data-editor-id"),p=this.getChild(o,a),f=xe(s,(function(e){return e.$$id===u})),h=Array.prototype.indexOf.call(o.children,t),m=Array.prototype.indexOf.call(o.children,p);~h&&h>m&&(!this.exchangeY||l<0||c<0)?(this.exchangeX=e.clientX,this.exchangeY=e.clientY,this.dropBeforeId=null===(n=s[f])||void 0===n?void 0:n.$$id,h!==m-1&&(d.capture(o),o.insertBefore(t,p),d.animateAll())):~h&&h<m&&(!this.exchangeY||l>0||c>0)&&(this.exchangeX=e.clientX,this.exchangeY=e.clientY,s[f+1]?this.dropBeforeId=null===(r=s[f+1])||void 0===r?void 0:r.$$id:delete this.dropBeforeId,h!==m+1&&(d.capture(o),o.insertBefore(t,p.nextSibling),d.animateAll()))}t.parentNode!==o&&(delete this.dropBeforeId,d.capture(o),o.appendChild(t),d.animateAll())},e.prototype.getDropBeforeId=function(){return this.dropBeforeId},e.prototype.getTarget=function(e){for(var t,n,r=e.target.closest("[data-editor-id]");r;){if((null===(t=r.parentElement)||void 0===t?void 0:t.closest("[data-region]"))===this.dndContainer)return"grid"===r.getAttribute("data-renderer")?r.parentElement:r;r=(null===(n=r.parentElement)||void 0===n?void 0:n.closest("[data-editor-id]"))||null}return null},e.prototype.getChild=function(e,t){for(var n=t;n&&n.parentElement!==e;)n=n.parentElement;return n},e.prototype.dispose=function(){delete this.dropBeforeId},e}(),gn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return D(t,e),t.prototype.enter=function(e,t){t.innerHTML="",t.classList.add("use-position"),t.classList.add("is-horizontal");var n=this.dnd.dragElement,r=this.dndContainer.getBoundingClientRect(),a=Array.isArray(this.region.schema)?this.region.schema:[];if(n&&n.closest("[data-region]")===this.dndContainer){var o=n.getAttribute("data-editor-id"),i=xe(a,(function(e){return e.$$id===o}));if(~i&&a[i+1]&&(this.dropBeforeId=a[i+1].$$id),n.nextElementSibling){var s=n.nextElementSibling.getBoundingClientRect();t.style.cssText+="top: 0; left: ".concat(s.x-r.x,"px;")}else t.style.cssText+="top: 0; left: 100%;"}else t.style.cssText+="top: 0; left: -999999%;";this.dndContainer.appendChild(t)},t.prototype.leave=function(e,t){t.classList.remove("use-position"),t.classList.remove("is-horizontal")},t.prototype.over=function(e,t){var n,r,a=this.getTarget(e);if(a){if("table"===(null===(n=this.dndContainer)||void 0===n?void 0:n.getAttribute("data-renderer"))){var o=null===(r=a.parentElement)||void 0===r?void 0:r.closest("th[data-editor-id], td[data-editor-id]");o&&this.dndContainer.contains(o)&&(a=o)}var i=this.dndContainer.getBoundingClientRect();!Array.isArray(this.region.schema)||this.region.schema;var s=a.getBoundingClientRect();a.nextElementSibling&&a.nextElementSibling.hasAttribute("data-editor-id")?(t.style.cssText+="left: ".concat(s.x-i.x,"px;"),this.dropBeforeId=a.getAttribute("data-editor-id")):e.clientX>s.x+s.width/2?(t.style.cssText+="top: 0; left: ".concat(s.right-i.x,"px;"),delete this.dropBeforeId):(t.style.cssText+="left: ".concat(s.x-i.x,"px;"),this.dropBeforeId=a.getAttribute("data-editor-id"))}},t}(vn),bn=Ne((function(e){s.warning(e)}),500),yn=function(){function e(e,t){this.manager=e,this.store=t,this.toDispose=[],this.dragEnterCount=0,this.lastX=0,this.lastY=0,this.lastMoveAt=0,this.startX=0,this.startY=0,this.toDispose.push(Ft((function(){return"schema"===t.dragType?t.dragId:""}),this.updateDragElements),Ft((function(){return{id:t.dropId,region:t.dropRegion}}),this.updateDropRegion),Ft((function(){return{id:t.planDropId,region:t.planDropRegion}}),this.updatePlanDropRegion)),this.dragGhost=document.createElement("div"),this.dragGhost.classList.add("ae-DragGhost"),this.dragGhost.classList.add("is-ghost")}return e.prototype.createDragImage=function(e,t){var n=document.createElement("div");return n.classList.add("ae-DragImage"),n.innerHTML="<span>".concat((null==t?void 0:t.label)||e,"</span>"),document.body.appendChild(n),this.dragImage=n,n},e.prototype.disposeDragImage=function(){var e,t=this.dragImage;null===(e=null==t?void 0:t.parentElement)||void 0===e||e.removeChild(t),delete this.dragImage},e.prototype.switchToRegion=function(e,t,n){var r,a,o,i,s,c=this.store;if(!t||!n||c.dropId===t&&c.dropRegion===n)return!1;var l=c.getNodeById(t,n),d=l.regionInfo,u=c.dragSchema;if(!1===(null===(r=null==d?void 0:d.accept)||void 0===r?void 0:r.call(d,u))||(null===(a=l.host)||void 0===a?void 0:a.memberImmutable(n)))return!1;var p={mode:c.dragMode,sourceType:c.dragType,sourceId:c.dragId,data:c.dragSchema,targetId:t,targetRegion:n};return!this.manager.trigger("dnd-accept",p).prevented&&(null===(o=this.dndMode)||void 0===o||o.leave(e,this.dragGhost),null===(i=this.dndMode)||void 0===i||i.dispose(),c.setDropId(t,n),this.makeDNDModeInstance(l),null===(s=this.dndMode)||void 0===s||s.enter(e,this.dragGhost),!0)},e.prototype.makeDNDModeInstance=function(e){var t;if(!e||!ve(e))return this.dndMode||null;var n=null===(t=e.regionInfo)||void 0===t?void 0:t.dndMode,r=vn;return"position-h"===n&&(r=gn),this.dndMode=new r(this,e),this.dndMode},e.prototype.startDrag=function(e,t){var n,r=this,a=this.store.getNodeById(e),o=this.store.getDoc().querySelector('[data-editor-id="'.concat(e,'"]'));if(a&&o){if(null===(n=t.target)||void 0===n||n.addEventListener("dragend",this.dragEnd),this.lastX=t.clientX,this.lastY=t.clientY,this.manager.draggableContainer(a.id))return this.curDragId=e,this.startX=t.clientX,void(this.startY=t.clientY);this.dragElement=o,t.dataTransfer.effectAllowed="move",t.dataTransfer.setDragImage(this.createDragImage(e,a),0,0),t.dataTransfer.setData("dnd/ae-node-".concat(e).toLowerCase(),""),setTimeout((function(){r.store.setDragId(e);var n=a.parent;r.switchToRegion(t,n.id,n.region)}),4)}else t.preventDefault()},e.prototype.dragEnter=function(e){var t,n=this.store;this.dragEnterCount++;var r=n.activeId;if(r)if(a=n.getNodeById(r)){if(!n.dragId&&1===this.dragEnterCount){var a,o=e.dataTransfer.types;if(o.length>0)for(var i=function(t){if(/^dnd-dom\/(.*)$/.test(o[t])){var r=RegExp.$1,a=document.querySelector(r);if(a){a.addEventListener("dragend",s.dragEnd);var i=a.getAttribute("data-dnd-id"),c=a.getAttribute("data-dnd-type"),l=a.getAttribute("data-dnd-data"),d=l?JSON.parse(l):{type:"tpl",tpl:"Unknown"};n.setDragId(i,"copy",c,d);var u=n.activeContainerId;if(u){var p=n.getNodeById(u);if(null==p?void 0:p.childRegions.length){var f=0;p.childRegions.forEach((function(e,t){e.region&&(f=t)})),s.switchToRegion(e,p.id,p.childRegions[f].region)}}return"break"}}},s=this,c=o.length-1;c>=0;c--){if("break"===i(c))break}if(this.curDragId&&this.manager.draggableContainer(this.curDragId)){if(a=n.getNodeById(r)){var l=a.parentId?n.getNodeById(a.parentId):void 0;(null===(t=null==l?void 0:l.schema)||void 0===t?void 0:t.isFreeContainer)&&n.setDropId(a.parentId,"body")}}else;}}else bn(M("0e24e1bbc19612a350f81296d9fb7802"));else bn(M("0e24e1bbc19612a350f81296d9fb7802"))},e.prototype.dragOver=function(e){var t,n=this.store,r=e.target;e.preventDefault();var a=e.clientX-this.lastX,o=e.clientY-this.lastY,i=Math.max(Math.abs(a),Math.abs(o)),s=Date.now(),c=r.closest("[data-region][data-region-host]"),l=null==c?void 0:c.getAttribute("data-region-host"),d=null==c?void 0:c.getAttribute("data-region");if(i>0&&this.curDragId&&this.manager.draggableContainer(this.curDragId)){var u=n.getDoc(),p=null===parent||void 0===parent?void 0:parent.window.document,f=u.querySelector("[data-hlbox-id='".concat(this.curDragId,"']"));if(n.isMobile&&!f&&p&&(f=p.querySelector("[data-hlbox-id='".concat(this.curDragId,"']"))),f){var h=(f.style.inset||"auto").split(" "),m={top:f.style.top||h[0]||"auto",right:f.style.right||h[1]||"auto",bottom:f.style.bottom||h[2]||h[0]||"auto",left:f.style.left||h[3]||h[1]||"auto"};f.style.inset="".concat("auto"!==m.top?_t(m.top,o):"auto"," ").concat("auto"!==m.right?_t(m.right,-a):"auto"," ").concat("auto"!==m.bottom?_t(m.bottom,-o):"auto"," ").concat("auto"!==m.left?_t(m.left,a):"auto")}var v=u.querySelector("[data-editor-id='".concat(this.curDragId,"']"));if(v){var g=(v.style.inset||"auto").split(" "),b={top:g[0]||"auto",right:g[1]||"auto",bottom:g[2]||g[0]||"auto",left:g[3]||g[1]||"auto"};v.style.inset="".concat("auto"!==b.top?_t(b.top,o):"auto"," ").concat("auto"!==b.right?_t(b.right,-a):"auto"," ").concat("auto"!==b.bottom?_t(b.bottom,-o):"auto"," ").concat("auto"!==b.left?_t(b.left,a):"auto")}return this.lastX=e.clientX,void(this.lastY=e.clientY)}if(n.dropId&&r)if(i<5){if(!c||l===n.dropId)return;s-this.lastMoveAt>200&&d&&l&&this.switchToRegion(e,l,d)}else n.setPlanDropId("",""),this.lastMoveAt=s,this.lastX=e.clientX,this.lastY=e.clientY,n.dropId===l&&d&&d!==n.dropRegion&&this.switchToRegion(e,n.dropId,d),null===(t=this.dndMode)||void 0===t||t.over(e,this.dragGhost)},e.prototype.drop=function(e){var t;return z(this,void 0,void 0,(function(){var n,r,a,o,i,s,c,l;return $(this,(function(d){switch(d.label){case 0:return n=this.store,this.curDragId&&this.manager.draggableContainer(this.curDragId)?(r=e.clientX-this.startX,a=e.clientY-this.startY,this.manager.updateContainerStyleByDrag(this.curDragId,r,a),this.curDragId="",this.store.setDropId(""),[2]):n.dropId?(o=null===(t=this.dndMode)||void 0===t?void 0:t.getDropBeforeId(),"move"!==n.dragMode?[3,1]:(this.manager.move(n.dropId,n.dropRegion,n.dragId,o),[3,4])):[2];case 1:return"copy"!==n.dragMode?[3,4]:(i=n.dragSchema,s=n.dropId,c=n.dropRegion,l=void 0,"subrenderer"!==n.dragType?[3,3]:(null==(l=we(n.subRenderers,(function(e){return e.id===n.dragId})))?void 0:l.scaffoldForm)?[4,this.manager.scaffold(l.scaffoldForm,i)]:[3,3]);case 2:i=d.sent(),d.label=3;case 3:this.manager.addChild(s,c,i,o,l,{id:n.dragId,type:n.dragType,data:n.dragSchema}),d.label=4;case 4:return[2]}}))}))},e.prototype.dragLeave=function(e){this.dragEnterCount--},e.prototype.dragEnd=function(e){var t,n;null===(t=e.target)||void 0===t||t.removeEventListener("dragend",this.dragEnd),null===(n=this.dndMode)||void 0===n||n.leave(e,this.dragGhost),delete this.dndMode,this.dragGhost.innerHTML="",this.store.setDragId(""),this.store.setDropId(""),this.disposeDragImage(),this.dragEnterCount=0},e.prototype.updateDragElements=function(e){e&&this.manager.draggableContainer(e)||(e?[].slice.call(this.store.getDoc().querySelectorAll('[data-editor-id="'.concat(e,'"]'))).forEach((function(e){return e.classList.add("ae-is-draging")})):[].slice.call(this.store.getDoc().querySelectorAll(".ae-is-draging")).forEach((function(e){return e.classList.remove("ae-is-draging")})))},e.prototype.updateDropRegion=function(e,t){var n,r;this.store.dragId&&this.manager.draggableContainer(this.store.dragId)||((null==t?void 0:t.id)&&t.region&&(null===(n=this.store.getDoc().querySelector('[data-region="'.concat(t.region,'"][data-region-host="').concat(t.id,'"]')))||void 0===n||n.classList.remove("is-dragenter")),e.id&&e.region&&(null===(r=this.store.getDoc().querySelector('[data-region="'.concat(e.region,'"][data-region-host="').concat(e.id,'"]')))||void 0===r||r.classList.add("is-dragenter")))},e.prototype.updatePlanDropRegion=function(e,t){var n,r;this.store.dragId&&this.manager.draggableContainer(this.store.dragId)||((null==t?void 0:t.id)&&t.region&&(null===(n=this.store.getDoc().querySelector('[data-region="'.concat(t.region,'"][data-region-host="').concat(t.id,'"]')))||void 0===n||n.classList.remove("is-entering")),e.id&&e.region&&(null===(r=this.store.getDoc().querySelector('[data-region="'.concat(e.region,'"][data-region-host="').concat(e.id,'"]')))||void 0===r||r.classList.add("is-entering")))},e.prototype.dispose=function(){this.disposeDragImage(),this.toDispose.forEach((function(e){return e()})),this.toDispose=[]},B([Rt,j("design:type",Function),j("design:paramtypes",[DragEvent]),j("design:returntype",void 0)],e.prototype,"dragEnter",null),B([Rt,j("design:type",Function),j("design:paramtypes",[DragEvent]),j("design:returntype",void 0)],e.prototype,"dragOver",null),B([Rt,j("design:type",Function),j("design:paramtypes",[DragEvent]),j("design:returntype",Promise)],e.prototype,"drop",null),B([Rt,j("design:type",Function),j("design:paramtypes",[DragEvent]),j("design:returntype",void 0)],e.prototype,"dragLeave",null),B([Rt,j("design:type",Function),j("design:paramtypes",[DragEvent]),j("design:returntype",void 0)],e.prototype,"dragEnd",null),B([Rt,j("design:type",Function),j("design:paramtypes",[String]),j("design:returntype",void 0)],e.prototype,"updateDragElements",null),B([Rt,j("design:type",Function),j("design:paramtypes",[Object,Object]),j("design:returntype",void 0)],e.prototype,"updateDropRegion",null),B([Rt,j("design:type",Function),j("design:paramtypes",[Object,Object]),j("design:returntype",void 0)],e.prototype,"updatePlanDropRegion",null),e}(),En=function(){function e(e,t,n){this.variables=Array.isArray(t)?Ae(Me(t),[function(e){var t;return null!==(t=e.order)&&void 0!==t?t:1}]):[],this.dataSchema=e instanceof ee?e:new ee([]),this.options=De(n,["beforeScopeInsert","afterScopeInsert","onContextSchemaChange","onContextOptionChange"]),this.init()}return e.prototype.init=function(){var e,t=this,n=this.variables,r=this.dataSchema,a=null!==(e=this.options)&&void 0!==e?e:{},o=a.beforeScopeInsert,i=a.afterScopeInsert;n.forEach((function(e){var n=e.parentId,a=e.name,s=e.title,c=e.schema;r.hasScope(n)&&(r.switchTo(n),r.hasScope(a)&&r.removeScope(a),o&&"function"==typeof o&&(c=o(t,c)),r.addScope(c,a),r.switchTo(a),r.current.tag=s,i&&"function"==typeof i&&i(t))})),r.switchToRoot()},e.prototype.getVariableContextSchema=function(){var e,t,n=this,r=[],a=(null!==(e=this.options)&&void 0!==e?e:{}).onContextSchemaChange;return this.variables&&(null===(t=this.variables)||void 0===t?void 0:t.length)>0&&(r=this.variables.map((function(e){if(n.dataSchema.hasScope(e.name)){var t=n.dataSchema.getScope(e.name);return t.schemas.length>0?t.schemas[0]:null}return null})).filter((function(e){return null!==e}))),a&&"function"==typeof a&&(r=a(this,r)),r},e.prototype.getVariableFormulaOptions=function(e){var t,n,r=this;void 0===e&&(e=!1);var a=(null!==(t=this.options)&&void 0!==t?t:{}).onContextOptionChange,o=[];return this.variables&&(null===(n=this.variables)||void 0===n?void 0:n.length)>0&&this.variables.forEach((function(e){if(r.dataSchema.hasScope(e.name)){var t=r.dataSchema.getScope(e.name),n=te(t.getDataPropsAsOptions(),(function(e){return P(P({},e),{tag:e.type})}));t.tag?o.push({label:t.tag,children:n}):o.push.apply(o,H([],L(n),!1))}})),a&&"function"==typeof a&&(o=a(this,o,"formula")),ne(o,(function(e){"array"===e.type&&delete e.children})),e?o:Pe(o)},e.prototype.getVariableOptions=function(){var e,t,n,r,a=(null!==(e=this.options)&&void 0!==e?e:{}).onContextOptionChange,o=null!==(r=null===(n=null===(t=this.getVariableFormulaOptions(!1))||void 0===t?void 0:t[0])||void 0===n?void 0:n.children)&&void 0!==r?r:[];return o=te(o,(function(e,t,n,r){return P(P({},e),{valueExpression:"string"!=typeof e.value||e.value.startsWith("${")?e.value:"${".concat(e.value,"}")})})),a&&"function"==typeof a&&(o=a(this,o,"normal")),o},e.prototype.getPageVariablesOptions=function(){var e,t,n=[],r=null===(t=null===(e=this.dataSchema)||void 0===e?void 0:e.root.children)||void 0===t?void 0:t.filter((function(e){return e.tag===M("cc6aeb073ebc3cb29734a49164f8964c")}))[0];return r&&(n=r.getDataPropsAsOptions()),ne(n,(function(e){"array"===e.type&&delete e.children})),n},e.prototype.getNameByPath=function(e,t,n){var r,a;if(void 0===t&&(t="value"),void 0===n&&(n="label"),!e||"string"!=typeof e)return"";var o=H(H([],L(this.getVariableOptions()),!1),L(this.getPageVariablesOptions()),!1),i=re(o,(function(n){return n[null!=t?t:"value"]===e}));return i&&null!==(a=null!==(r=i[null!=n?n:"label"])&&void 0!==r?r:i[null!=t?t:"value"])&&void 0!==a?a:""},e}(),wn=[];function Cn(){window.AMISEditorCustomPlugins&&Object.keys(window.AMISEditorCustomPlugins).forEach((function(e){var t=window.AMISEditorCustomPlugins[e];t&&Sn(t)}))}function Sn(e){var t=Array.from(new Set(["global"].concat(e.scene||"global")));e.scene=t;(e.prototype&&e.prototype.isNpmCustomWidget?wn.find((function(t){return Array.isArray(t)?t[0].prototype.name===e.prototype.name:t.prototype.name===e.prototype.name})):wn.find((function(t){return t===e})))?console.warn("注册插件异常，已存在同名插件：",e):wn.push(e)}function xn(e){void 0===e&&(e={});var t=e.scene,n=void 0===t?"global":t;return wn.filter((function(e){var t;return null===(t=e.scene)||void 0===t?void 0:t.includes(n)}))}function In(e){var t=xe(wn,(function(t){return Array.isArray(t)?t[0].id===e:t.id===e}));~t&&wn.splice(t,1)}var Rn=function(){function e(e,t,n){var r=this;this.config=e,this.store=t,this.parent=n,this.toDispose=[],this.id=ze(),this.disableHover=!1,this.amisStore={},this.broadcasts=[],this.pluginEvents={},this.pluginActions={},this.isInFrame=!1,this.listeners=[],this.lazyPatchSchema=Ne(this.patchSchema.bind(this),250,{leading:!1,trailing:!0}),this.patching=!1;var a=!!n;this.isInFrame=a,this.env=P(P(P({},mn),Re(e.amisEnv,"replaceText")),{theme:e.theme}),this.env.beforeDispatchEvent=this.beforeDispatchEvent.bind(this,this.env.beforeDispatchEvent),this.hackIn=(null==n?void 0:n.hackIn)||un,Cn(),e.scene,this.plugins=(null==n?void 0:n.plugins)||(e.disableBultinPlugin?[]:wn).concat(this.normalizeScene(null==e?void 0:e.plugins)).filter((function(t){return t=Array.isArray(t)?t[0]:t,!e.disablePluginList||("function"==typeof e.disablePluginList?!e.disablePluginList(t.id||"",t):!e.disablePluginList.includes(t.id||"unkown"))})).map((function(e){var t,n={};Array.isArray(e)&&(n="function"==typeof e[1]?e[1]():e[1],e=e[0]);var a=new e(r,n);return a.order=null!==(t=a.order)&&void 0!==t?t:0,a.rendererName&&(r.pluginEvents[a.rendererName]=a.events||[],r.pluginActions[a.rendererName]=a.actions||[]),a})).sort((function(e,t){return e.order-t.order})),this.hackRenderers(),this.dnd=(null==n?void 0:n.dnd)||new yn(this,t),this.dataSchema=(null==n?void 0:n.dataSchema)||new p(e.schemas||[]),this.dataSchema.current.tag=M("979a50681e278dcc0be18f68459e8217"),this.variableManager=new En(this.dataSchema,null==e?void 0:e.variables,null==e?void 0:e.variableOptions),a||this.toDispose.push(Ft((function(){return t.activeId}),(function(e,t){return z(r,void 0,void 0,(function(){return $(this,(function(n){switch(n.label){case 0:return this.store.insertId&&this.store.closeInsertPanel(),this.buildJSONSchemaUri(),this.buildToolbars(),[4,this.buildRenderers()];case 1:return n.sent(),this.buildPanels(),this.trigger("active",e?P(P({},this.buildEventContext(e)),{active:!0}):{id:t,active:!1}),[2]}}))}))})),Z((function(){return t.selections.join(",")}),(function(){r.buildPanels()})),Z((function(){return t.needPatch}),(function(e){e&&r.lazyPatchSchema()})),Ft((function(){return{id:t.hoverId,region:t.hoverRegion}}),(function(e,n){var r,a,o=t.getDoc();e.id&&e.region?null===(r=o.querySelector('[data-region="'.concat(e.region,'"][data-region-host="').concat(e.id,'"]')))||void 0===r||r.classList.add("is-region-active"):(null==n?void 0:n.id)&&(null==n?void 0:n.region)&&(null===(a=o.querySelector('[data-region="'.concat(n.region,'"][data-region-host="').concat(n.id,'"]')))||void 0===a||a.classList.remove("is-region-active"))})))}return e.prototype.normalizeScene=function(e){return(null==e?void 0:e.map((function(e){var t=Array.from(new Set(["global"].concat(e.scene||"global")));return e.scene=t,e})))||[]},e.prototype.dynamicAddPlugin=function(e){var t;if(e)if(this.plugins.some((function(t){return t&&t.name===e})))console.warn("[amis-editor]当前已有".concat(e,"插件"));else{var n=wn.find((function(t){return t.prototype&&t.prototype.name===e}));if(!n&&window.AMISEditorCustomPlugins&&(n=window.AMISEditorCustomPlugins[e]),n){var r=new n(this);r.order=null!==(t=r.order)&&void 0!==t?t:0,this.plugins.push(r),this.plugins.sort((function(e,t){return e.order-t.order})),r.rendererName&&(this.pluginEvents[r.rendererName]=r.events||[],this.pluginActions[r.rendererName]=r.actions||[]),this.buildRenderers()}}},e.prototype.updateAMISContext=function(e){e&&(this.amisStore=e)},e.prototype.buildRenderersAndPanels=function(){var e=this;setTimeout((function(){return z(e,void 0,void 0,(function(){var e,t;return $(this,(function(n){switch(n.label){case 0:return(e=this.store).activeId||!(null===(t=null==e?void 0:e.schema)||void 0===t?void 0:t.$$id)?[3,2]:[4,this.buildRenderers()];case 1:n.sent(),this.buildPanels(e.schema.$$id),n.label=2;case 2:return[2]}}))}))}),200)},e.prototype.buildEventContext=function(e){var t="string"==typeof e?this.store.getNodeById(e):e,n=this.store.getSchema(t.id);return{node:t,id:t.id,info:t.info,path:t.path,schemaPath:t.schemaPath,schema:n,data:""}},e.prototype.buildJSONSchemaUri=function(){var e=this.store.activeId,t="";if(e){var n=this.buildEventContext(e),r=this.trigger("before-resolve-json-schema",n);if(t=r.context.data,!r.prevented){this.plugins.forEach((function(e){var r;if(!t){var a=null===(r=e.buildJSONSchema)||void 0===r?void 0:r.call(e,n);a&&(t=a)}})),n.data=t;var a=this.trigger("after-resolve-json-schema",n);t=a.data}}this.store.setJSONSchemaUri(t)},e.prototype.buildToolbars=function(){var e=this.store.activeId,t=[];if(e){var n=this.buildEventContext(e);this.plugins.forEach((function(e){var r,a=P({},n);null===(r=e.buildEditorToolbar)||void 0===r||r.call(e,a,t)})),this.trigger("build-toolbars",P(P({},n),{data:t}))}this.store.setActiveToolbars(t.map((function(e){return P(P({},e),{order:e.order||0,id:ze()})})))},e.prototype.collectPanels=function(e,t,n){var r=this;void 0===t&&(t=!1),void 0===n&&(n=!1);var a=[];if(e){var o=P(P({},this.buildEventContext(e)),{secondFactor:n,data:a,selections:this.store.selections.map((function(e){return r.buildEventContext(e)}))});this.plugins.forEach((function(e){var t;null===(t=e.buildEditorPanel)||void 0===t||t.call(e,o,a)})),t&&this.trigger("build-panels",o),a=o.data||a,o.changeLeftPanelKey&&this.store.changeLeftPanelKey(o.changeLeftPanelKey)}return a},e.prototype.buildPanels=function(e){var t,n,r=e||this.store.activeId,a=[];if(!r&&(null===(t=this.store)||void 0===t?void 0:t.schema)&&(r=null===(n=this.store)||void 0===n?void 0:n.schema.$$id),r||this.store.selections.length){r=r||this.store.selections[0];var o=this.store.getNodeById(r);a=o?this.collectPanels(o,!0):a}this.store.setPanels(a.map((function(e){return P(P({},e),{order:e.order||0})})))},e.prototype.collectRenderers=function(e,t){var n,r,a,o;return void 0===t&&(t=this.store.activeContainerId),z(this,void 0,void 0,(function(){var i,s,c,l,d,u,p,f,h,m,v,g,b;return $(this,(function(y){switch(y.label){case 0:if(i=[],!(s=t)&&(null===(n=this.store)||void 0===n?void 0:n.schema)&&(s=null===(r=this.store)||void 0===r?void 0:r.schema.$$id),!s)return[2,i];if(!(c=this.store.getNodeById(s)))return[2,i];l=this.store.getSchema(s),d={node:c,id:c.id,info:c.info,path:c.path,schemaPath:c.schemaPath,schema:l,region:e},u=[],p=function(e,t){var n,r;return $(this,(function(t){switch(t.label){case 0:return n=f.plugins[e],[4,null===(a=n.buildSubRenderers)||void 0===a?void 0:a.call(n,d,i,ae())];case 1:return(r=t.sent())&&(Array.isArray(r)?r:[r]).forEach((function(e){return i.push(P(P({},e),{id:ze(),plugin:n,parent:c.info,order:e.order||0}))})),n.asyncUpdateCustomSubRenderersInfo&&u.push(n),[2]}}))},f=this,h=0,m=this.plugins.length,y.label=1;case 1:return h<m?[5,p(h,m)]:[3,4];case 2:y.sent(),y.label=3;case 3:return h++,[3,1];case 4:if(!u.length)return[3,8];v=0,g=u.length,y.label=5;case 5:return v<g?(b=u[v],[4,null===(o=b.asyncUpdateCustomSubRenderersInfo)||void 0===o?void 0:o.call(b,d,i,ae())]):[3,8];case 6:y.sent(),y.label=7;case 7:return v++,[3,5];case 8:return[2,i.filter((function(e){return!e.disabledRendererPlugin}))]}}))}))},e.prototype.buildRenderers=function(e){return z(this,void 0,void 0,(function(){var t;return $(this,(function(n){switch(n.label){case 0:return[4,this.collectRenderers(e)];case 1:return t=n.sent(),this.store.setSubRenderers(t),this.store.changeSubRendererRegion(e||""),[2]}}))}))},e.prototype.rebuild=function(){return z(this,void 0,void 0,(function(){return $(this,(function(e){switch(e.label){case 0:return[4,this.buildRenderers()];case 1:return e.sent(),this.buildToolbars(),this.buildPanels(),[2]}}))}))},e.prototype.updateConfigPanel=function(e){var t,n=this,r=this.store,a=r.activeId,o=r.getSchema,i=r.getNodeById,s=e;if(!s&&this.store.activeId){var c=o(a);s=c.type}if(s&&this.store.activeId){var l=this.store.panels.concat(),d=i(a);if(s&&d){var u=this.plugins.find((function(e){return e.rendererName===s}));l.splice(l.findIndex((function(e){return"config"===e.key})),1);var p=P(P({},this.buildEventContext(d)),{data:l,selections:this.store.selections.map((function(e){return n.buildEventContext(e)}))});u&&(null===(t=u.buildEditorPanel)||void 0===t||t.call(u,p,l),this.store.setPanels(l.map((function(e){return P(P({},e),{order:e.order||0})}))))}}},e.prototype.switchToRegion=function(e){this.store.activeId&&this.buildRenderers(e)},e.prototype.showInsertPanel=function(e,t,n,r,a,o){var i,s,c;return void 0===t&&(t=this.store.activeId),void 0===r&&(r="insert"),void 0===a&&(a=""),z(this,void 0,void 0,(function(){var l,d;return $(this,(function(u){switch(u.label){case 0:return void 0===n&&t&&(l=this.store.getNodeById(t),n=null===(c=null===(s=null===(i=null==l?void 0:l.info)||void 0===i?void 0:i.regions)||void 0===s?void 0:s.find((function(t){return t.key===e})))||void 0===c?void 0:c.preferTag),[4,this.collectRenderers(e,t)];case 1:return d=u.sent(),this.store.setInsertRenderers(d),this.store.setInsertRegion(e,t,n,r,a,o),[2]}}))}))},e.prototype.showReplacePanel=function(e,t){var n=this.store.getNodeById(e),r=null==n?void 0:n.parent;if(n&&r&&r.isRegion&&r.parent){var a=r.parent;this.showInsertPanel(r.region,a.id,t,"replace",n.id)}},e.prototype.showRendererPanel=function(e,t){this.store.showRendererPanel(e,t)},e.prototype.on=function(e,t){this.listeners.push({type:e,fn:t})},e.prototype.off=function(e,t){var n=xe(this.listeners,(function(n){return n.type===e&&n.fn===t}));~n&&this.listeners.splice(n,1)},e.prototype.trigger=function(e,t){var n=en(e,t),r=kt(/^(?:before|after)/.test(e)?e:"on-".concat(e)),a=this.listeners.filter((function(t){return t.type===e}));this.plugins.forEach((function(t){return t[r]&&a.push({type:e,fn:t[r].bind(t)})})),this.config[r]&&a.push({fn:this.config[r],type:e});var o=[];return a.some((function(e){var t=e.fn.call(null,n);return!1===t?(n.preventDefault(),n.stopPropagation()):(null==t?void 0:t.then)?o.push(t):void 0!==t&&n.setData(t),n.stoped})),o.length&&(n.pending=Promise.all(o)),n},e.prototype.addElem=function(e){var t,n,r,a,o;return z(this,void 0,void 0,(function(){var i,c,l,d,u,p,f,h,m,v,g,b,y,E,w,C;return $(this,(function(S){switch(S.label){case 0:if(!e)return[2];if(i="",Tt(e)?i=e.toString():Ht(e)&&(c=e),l=this.store,u=l.activeId,p=l.getNodeById(u),i&&(d=l.getSubRendererById(i),"fixed"===((null===(t=null==d?void 0:d.scaffold)||void 0===t?void 0:t.style)||{}).position&&(u=l.getRootId(),p=l.getNodeById(u))),!d&&!c)return[2];if(!p)return s.warning(M("0e24e1bbc19612a350f81296d9fb7802")),[2];if(f=c||(null==d?void 0:d.scaffold),h=this.isSpecialLayout(f),!("wrapper"!==p.type&&"container"!==p.type||0!==(null===(r=null===(n=p.schema)||void 0===n?void 0:n.body)||void 0===r?void 0:r.length)||"flex"!==(null==f?void 0:f.type)||(null===(a=p.schema)||void 0===a?void 0:a.isFreeContainer)||h))return this.replaceChild(u,f),[2];if(m=p.parent,v=null,g=null,b=null,l.activeRegion)g=u,b=l.activeRegion;else if(p.schema.columns&&"grid"!==p.type)g=u,b="columns";else if(p.schema.items&&Kt(p.schema))g=u,b="items";else if(p.schema.body)g=u,b="body";else if(m){if(g=m.id,b=m.region,!m.region&&m.schema.body)b="body";else if(!m.region&&m.schema.items)b="items";else if(!m.region&&!m.schema.body&&!m.schema.items)return s.warning(M("bd690facb536d759814ee64f2760fecb")),[2];y=l.getSchemaParentById(u),E=-1,y.some((function(e,t){var n=!1;return e.$$id===u&&(E=t,n=!0),n})),v=null===(o=y[E+1])||void 0===o?void 0:o.$$id}else g=u,b="body";return w=c,!d||c?[3,2]:(w=d.scaffold||{type:d.type},d.scaffoldForm?[4,this.scaffold(d.scaffoldForm,w)]:[3,2]);case 1:w=S.sent(),S.label=2;case 2:return(C=this.addChild(g,b,w,v,d))&&setTimeout((function(){l.setActiveId(C.$$id)}),100),[2]}}))}))},e.prototype.appendSiblingSchema=function(e,t,n){var r,a;return z(this,void 0,void 0,(function(){var o,i,c,l,d,u,p,f,h,m;return $(this,(function(v){if(!e)return[2];if(o=this.store,i=o.activeId,!(c=o.getNodeById(i)))return s.warning(M("0e24e1bbc19612a350f81296d9fb7802")),[2];if(l=c.parent,d=null,u=null,p=null,l){if(u=l.id,p=l.region,!l.region&&l.schema.body)p="body";else if(!l.region&&"flex"===(null===(r=l.schema)||void 0===r?void 0:r.type)&&l.schema.items)p="items";else if(!l.region&&!l.schema.body)return s.warning(M("bd690facb536d759814ee64f2760fecb")),[2];f=o.getSchemaParentById(i),h=-1,f.some((function(e,t){var n=!1;return e.$$id===i&&(h=t,n=!0),n})),d=null===(a=f[t?h:h+1])||void 0===a?void 0:a.$$id,(m=this.addChild(u,p,e,d))&&!n&&setTimeout((function(){o.setActiveId(m.$$id)}),100)}return[2]}))}))},e.prototype.insert=function(){return z(this,void 0,void 0,(function(){var e,t,n,r,a,o,i;return $(this,(function(s){switch(s.label){case 0:return e=this.store,(t=e.selectedInsertRendererInfo)?(n=e.insertId,r=e.insertRegion,a=e.insertBeforeId,o=t.scaffold||{type:t.type},t.scaffoldForm?[4,this.scaffold(t.scaffoldForm,o)]:[3,2]):[2];case 1:o=s.sent(),s.label=2;case 2:return(i=this.addChild(n,r,o,a,t))&&(e.closeInsertPanel(),setTimeout((function(){e.setActiveId(i.$$id)}),100)),[2]}}))}))},e.prototype.replace=function(){return z(this,void 0,void 0,(function(){var e,t,n,r,a,o=this;return $(this,(function(i){switch(i.label){case 0:return e=this.store,(t=e.selectedInsertRendererInfo)?(n=e.insertOrigId,r=t.scaffold||{type:t.type},a=e.insertRegion,t.scaffoldForm?[4,this.scaffold(t.scaffoldForm,r)]:[3,2]):[2];case 1:r=i.sent(),i.label=2;case 2:return this.replaceChild(n,r,t,a)&&(e.closeInsertPanel(),setTimeout((function(){o.rebuild()}),4)),[2]}}))}))},e.prototype.isFlexContainer=function(e){return this.store.isFlexContainer(e)},e.prototype.isFlexItem=function(e){return this.store.isFlexItem(e)},e.prototype.isFlexColumnItem=function(e){return this.store.isFlexColumnItem(e)},e.prototype.isSpecialLayout=function(e){var t=(null==e?void 0:e.style)||{};return"fixed"===(null==t?void 0:t.position)||"absolute"===(null==t?void 0:t.position)},e.prototype.draggableContainer=function(e){return this.store.draggableContainer(e)},e.prototype.updateContainerStyleByDrag=function(e,t,n){this.store.updateContainerStyleByDrag(e,t,n)},e.prototype.getEditorInfo=function(e,t,n){var r=null,a=n.$$id?this.store.getSchemaPath(n.$$id):"",o={renderer:e,path:t,schemaPath:a,schema:n},i=this.trigger("before-resolve-editor-info",o);return i.prevented?i.context.data:(this.plugins.some((function(t){var i,s=null===(i=t.getRendererInfo)||void 0===i?void 0:i.call(t,o);return!!s&&(r=P(P({id:n.$$id},s),{type:n.type,plugin:t,renderer:e,schemaPath:a}),!0)})),this.trigger("after-resolve-editor-info",P(P({},o),{data:r})).context.data)},e.prototype.panelChangeValue=function(e,t){var n=this.store,r=P(P({},this.buildEventContext(n.activeId)),{value:e,diff:t});this.trigger("before-update",r).prevented||(n.changeValue(e,t),this.trigger("after-update",r))},e.prototype.openSubEditor=function(e){this.store.openSubEditor(e)},e.prototype.openContextMenu=function(e,t,n){var r=this,a=[],o=this.buildEventContext(e),i=P(P({},o),{selections:this.store.selections.map((function(e){return r.buildEventContext(e)})),region:t,data:a});(a=this.buildContextMenus(i)).length&&(this.store.setContextId(e),u({x:n.x,y:n.y},a,(function(){return r.store.setContextId("")})))},e.prototype.buildContextMenus=function(e){return this.plugins.forEach((function(t){var n;null===(n=t.buildEditorContextMenu)||void 0===n||n.call(t,e,e.data)})),this.trigger("build-context-menus",e),e.data},e.prototype.closeContextMenu=function(){},e.prototype.moveUp=function(){var e,t=this.store;if(t.activeId){var n=t.getNodeById(t.activeId),r=n.parent,a=n.host,o=this.buildEventContext(a),i=P(P({},o),{sourceId:n.id,direction:"up",beforeId:null===(e=n.prevSibling)||void 0===e?void 0:e.id,region:r.region});this.trigger("before-move",i).prevented||(t.moveUp(n.id),this.trigger("after-move",i),this.trigger("after-update",i))}},e.prototype.moveDown=function(){var e,t,n=this.store;if(n.activeId){var r=n.getNodeById(n.activeId),a=r.parent,o=r.host,i=this.buildEventContext(o),s=P(P({},i),{sourceId:r.id,direction:"down",beforeId:null===(t=null===(e=r.nextSibling)||void 0===e?void 0:e.nextSibling)||void 0===t?void 0:t.id,region:a.region});this.trigger("before-move",s).prevented||(n.moveDown(r.id),this.trigger("after-move",s),this.trigger("after-update",s))}},e.prototype.del=function(e){if(e&&e.length){var t=Array.isArray(e)?e[0]:e,n=P(P({},this.buildEventContext(t)),{data:Array.isArray(e)?e.concat():[]});this.trigger("before-delete",n).prevented||(Array.isArray(n.data)&&n.data.length?this.store.delMulti(n.data):this.store.del(t),this.trigger("after-delete",n))}},e.prototype.duplicate=function(e){this.store.duplicate(e)},e.prototype.copy=function(e,t){void 0===t&&(t=M("52e6abbe5c11e7cbf14788c1540f8bf2"));var n=this.store.getValueOf(e);this.clipboardData=ke(n),s.info(M("372ea9fd27fb7cfacfe1b4ca3046f8d0")+t)},e.prototype.cut=function(e){this.copy(e,M("2a6287664de5ab46c65220c7182878ff")),this.del(e)},e.prototype.paste=function(e,t){return z(this,void 0,void 0,(function(){var n;return $(this,(function(r){return this.clipboardData?(n=mt(Fe(this.clipboardData)),t?this.addChild(e,t,n):this.replaceChild(e,n),[2]):(c(M("1ff035555ac8a68dc5b0ea2d0af55f00")),[2])}))}))},e.prototype.emptyRegion=function(e,t){var n=this;this.store.emptyRegion(e,t),setTimeout((function(){n.store.activeId&&n.store.getNodeById(n.store.activeId)||n.store.setActiveId(e)}),100)},e.prototype.addChild=function(e,t,n,r,a,o){var i=this.store,s=-1,c=this.buildEventContext(e),l=P({},n);if(vt(l),r){var d=c.schema[t];Array.isArray(d)&&(s=xe(d,(function(e){return(null==e?void 0:e.$$id)===r})))}var u=P(P({},c),{beforeId:r,index:s,region:t,data:l,subRenderer:a,dragInfo:o}),p=this.trigger("before-insert",u);if(!p.prevented){var f=i.insertSchema(p);return this.trigger("after-insert",u),f}return null},e.prototype.move=function(e,t,n,r){var a=this.store,o=P(P({},this.buildEventContext(e)),{beforeId:r,region:t,sourceId:n}),i=this.trigger("before-move",o);return!i.prevented&&(a.moveSchema(i),this.trigger("after-move",o),!0)},e.prototype.replaceChild=function(e,t,n,r){var a=P(P({},this.buildEventContext(e)),{data:P({},t),subRenderer:n,region:r}),o=this.trigger("before-replace",a);return!(o.prevented||!o.context.data)&&(this.store.replaceChild(e,o.context.data),this.trigger("after-replace",a),!0)},e.prototype.setActiveId=function(e){this.store.setActiveId(e)},e.prototype.openConfigPanel=function(e){var t=this.store;t.activeId!==e&&t.setActiveId(e),t.changePanelKey("config")},e.prototype.openCodePanel=function(e){var t=this.store;t.activeId!==e&&t.setActiveId(e),t.changePanelKey("code")},e.prototype.toggleSelection=function(e){var t=this.store,n=t.selections.concat();!n.length&&t.activeId&&n.push(t.activeId);var r=n.indexOf(e);~r?n.splice(r,1):n.push(e),this.setSelection(n,e)},e.prototype.setSelection=function(e,t){var n=this;void 0===t&&(t=e[0]);var r=this.store,a=this.buildEventContext(t),o=P(P({},a),{selections:e.map((function(e){return n.buildEventContext(e)})),data:e});this.trigger("selection-change",o).prevented||(1===(e=o.data).length?r.setActiveId(e[0]):r.setSelections(e))},e.prototype.startDrag=function(e,t){t.persist(),this.dnd.startDrag(e,t.nativeEvent)},e.prototype.scaffold=function(e,t){return z(this,void 0,void 0,(function(){var n=this;return $(this,(function(r){return[2,new Promise((function(r){n.store.openScaffoldForm(P(P({},e),{value:e.pipeIn?e.pipeIn(t):t,callback:r}))}))]}))}))},e.prototype.reScaffold=function(e,t,n){return z(this,void 0,void 0,(function(){var r;return $(this,(function(a){switch(a.label){case 0:return[4,this.scaffold(t,n)];case 1:return r=a.sent(),this.replaceChild(e,r),[2]}}))}))},e.prototype.reScaffoldV2=function(e){var t;return z(this,void 0,void 0,(function(){var n,r,a,o;return $(this,(function(i){switch(i.label){case 0:return n=this.buildEventContext(e),r=null===(t=n.info)||void 0===t?void 0:t.scaffoldForm,a=n.schema,[4,this.scaffold(r,a)];case 1:return o=i.sent(),this.replaceChild(e,o),[2]}}))}))},e.prototype.patchSchema=function(e){var t=this;if(void 0===e&&(e=!1),!this.patching){this.patching=!0;var n=function(r){r.forEach((function(r){r.uniqueChildren&&r.uniqueChildren.length&&n(r.uniqueChildren),r.isRegion||r.patch(t.store,e)}))};n(this.store.root.children),this.patching=!1}},e.prototype.hackRenderers=function(e){var t=this;void 0===e&&(e=ae());var n=[];e.forEach((function(e){t.plugins.filter((function(t){var n;return Array.isArray(null==t?void 0:t.regions)&&t.regions.some((function(n){var r;return n.renderMethod&&(null!==(r=n.rendererName)&&void 0!==r?r:t.rendererName)===e.name}))||t.overrides&&(null!==(n=t.overrideTargetRendererName)&&void 0!==n?n:t.rendererName)===e.name})).forEach((function(t){var r,a,o=null===(r=t.regions)||void 0===r?void 0:r.filter((function(n){var r;return n.renderMethod&&(null!==(r=n.rendererName)&&void 0!==r?r:t.rendererName)===e.name}));(null==o?void 0:o.length)&&n.push({renderer:e,regions:o}),t.overrides&&(null!==(a=t.overrideTargetRendererName)&&void 0!==a?a:t.rendererName)===e.name&&n.push({renderer:e,overrides:t.overrides})}))})),n.forEach((function(e){var n=e.regions,r=e.renderer,a=e.overrides;return t.hackIn(r,n,a)}))},e.prototype.makeWrapper=function(e,t){var n;return(null===(n=this.parent)||void 0===n?void 0:n.makeWrapper)?this.parent.makeWrapper(e,t):function(e,t,n){var r=e.store,a=n.component,i=function(i){function s(e){var t=i.call(this,e)||this;return t.state={hasError:!1},t}var c;return D(s,i),s.prototype.UNSAFE_componentWillMount=function(){var a=this,o=this.context||r.root;if(t.id&&(this.editorNode=o.addChild({id:t.id,type:t.type,label:t.name,isCommonConfig:!!this.props.$$commonSchema,path:this.props.$path,schemaPath:t.schemaPath,info:t,getData:function(){return a.props.data}}),this.editorNode.setRendererConfig(n),n.storeType&&!e.dataSchema.hasScope("".concat(t.id,"-").concat(t.type)))){for(var i=o,s=void 0;i&&!s;)i===r.root?s=e.dataSchema.getScope("root"):e.dataSchema.hasScope("".concat(i.id,"-").concat(i.type))&&(s=e.dataSchema.getScope("".concat(i.id,"-").concat(i.type))),i="root"===i.parentId?r.root:i.parent;if(!s)throw new Error(M("186733ed7ec817040b8f9cbc610ba49a"));e.dataSchema.switchTo(s.id),this.scopeId="".concat(t.id,"-").concat(t.type),e.dataSchema.addScope([],this.scopeId),t.name&&(e.dataSchema.current.tag="".concat(t.name,"变量"))}},s.prototype.componentDidUpdate=function(e){var t=this.props;this.editorNode&&t.$$commonSchema!==e.$$commonSchema&&this.editorNode.updateIsCommonConfig(!!this.props.$$commonSchema)},s.prototype.componentDidCatch=function(e,n){console.warn("".concat(t.name,"(").concat(t.id,")渲染发生错误：")),console.warn(M("a30dd4945df5b44b264fa3be6ee9682e"),t),console.warn(M("63f94190d2d4ea22263e6e9f07c96558"),e),console.warn(M("f66335b5bff0e26fdff2a3303e0f9bb0"),n),this.setState({hasError:!0})},s.prototype.componentWillUnmount=function(){this.editorNode&&ve(this.editorNode)&&(this.context||r.root).removeChild(this.editorNode),this.scopeId&&e.dataSchema.removeScope(this.scopeId)},s.prototype.wrapperRef=function(e){for(;null==e?void 0:e.getWrappedInstance;)e=e.getWrappedInstance();this.editorNode&&ve(this.editorNode)&&this.editorNode.setComponent(e)},s.prototype.renderChild=function(e,n,r){var a=this.props.render;return n.$$id&&((r=r||{}).key=n.$$id||r.key),a(e,n,P(P({},r),{$$editor:t}))},s.prototype.render=function(){var e=this.props;e.$$id;var n=T(e,["$$id"]);if(this.state.hasError)return _.createElement("div",{className:"ae-Editor-renderer-error"},t.name,"(",t.id,")渲染发生错误，详细错误信息请查看控制台输出。");var r=this.props.$$commonSchema?ln:t.regions?cn:rn;return _.createElement(on.Provider,{value:this.editorNode||this.context},_.createElement(r,P({},n,{render:this.renderChild,$$editor:t,$$node:this.editorNode,ref:this.wrapperRef})))},s.displayName=a.displayName,s.propsList=(a&&a.propsList||[]).concat(["$$id"]),s.contextType=on,B([Rt,j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",void 0)],s.prototype,"wrapperRef",null),B([Rt,j("design:type",Function),j("design:paramtypes",[String,"function"==typeof(c=void 0!==o&&o)?c:Object,Object]),j("design:returntype",void 0)],s.prototype,"renderChild",null),B([de,j("design:paramtypes",[Object])],s)}(_.Component);return i}(this,e,t)},e.prototype.makeSchemaFormRender=function(e){return function(e,t){var n=P(P({},e.env),{session:"schema-form"});return function(r){var a=r.value,o=r.onChange,i=r.popOverContainer,s=r.id,c=r.store,l=r.node,d=P({},e.store.ctx);if((null==t?void 0:t.panelById)&&(null==t?void 0:t.panelById)!==(null==l?void 0:l.id))return _.createElement(_.Fragment,null);s&&Object.defineProperty(d,"__props__",{get:function(){var e,t=c.getNodeById(s);return(null===(e=null==t?void 0:t.getComponent())||void 0===e?void 0:e.props)||{}}});var u="".concat(s,"-").concat(null==l?void 0:l.type).concat(t.formKey?"-":"").concat(t.formKey?t.formKey:"");return _.createElement(dn,{key:u,propKey:u,api:t.api,definitions:t.definitions,body:t.body?Ie(Array.isArray(t.body)?t.body:[t.body]):void 0,controls:t.controls?Ie(Array.isArray(t.controls)?t.controls:[t.controls]):void 0,value:a,ctx:d,pipeIn:t.pipeIn,pipeOut:t.pipeOut,submitOnChange:t.submitOnChange,onChange:o,env:n,popOverContainer:i,node:l,manager:e,justify:t.justify})}}(this,e)},e.prototype.onWidthChangeStart=function(e,t){return this.trigger("width-change-start",P(P({},t),{nativeEvent:e}))},e.prototype.onHeightChangeStart=function(e,t){return this.trigger("height-change-start",P(P({},t),{nativeEvent:e}))},e.prototype.onSizeChangeStart=function(e,t){return this.trigger("size-change-start",P(P({},t),{nativeEvent:e}))},e.prototype.openNodePopOverForm=function(e){var t,n,r,a,o="string"==typeof e?this.store.getNodeById(e):e;if(o&&((null===(n=null===(t=o.info)||void 0===t?void 0:t.plugin)||void 0===n?void 0:n.popOverBody)||(null===(a=null===(r=o.info)||void 0===r?void 0:r.plugin)||void 0===a?void 0:a.popOverBodyCreator))){var i=o.info.plugin,s=this.store,c={body:i.popOverBodyCreator?i.popOverBodyCreator(this.buildEventContext(o)):i.popOverBody,value:s.getValueOf(o.id),callback:this.panelChangeValue,target:function(){return document.querySelector('[data-editor-id="'.concat(o.id,'"]'))}};s.openPopOverForm(c)}},e.prototype.addBroadcast=function(e){this.broadcasts.push(e)},e.prototype.removeBroadcast=function(e){var t=xe(this.broadcasts,(function(t){return t.eventName===e}));this.broadcasts.splice(t,1)},e.prototype.getContextSchemas=function(e,t){var n,r,a,o,i;return void 0===t&&(t=!1),z(this,void 0,void 0,(function(){var s,c,l,d,u,p,f,h,m,v,g,b;return $(this,(function(y){switch(y.label){case 0:if(!(s="string"==typeof e?this.store.getNodeById(e):e))return[2,[]];for(l=s,d=s,u=s;!c&&l;)p=null===(n=l.info)||void 0===n?void 0:n.id,v=null===(r=l.info)||void 0===r?void 0:r.type,c=this.dataSchema.hasScope("".concat(p,"-").concat(v))?this.dataSchema.getScope("".concat(p,"-").concat(v)):void 0,(null==(l=l.parent)?void 0:l.isRegion)&&(d=l);y.label=1;case 1:return c?(h=L(c.id.split("-"),2),m=h[0],v=h[1],g=this.store.getNodeById(m,v),f||!g||g.isSecondFactor||(f=c),[4,null===(i=null===(o=null===(a=null==g?void 0:g.info)||void 0===a?void 0:a.plugin)||void 0===o?void 0:o.buildDataSchemas)||void 0===i?void 0:i.call(o,g,d,u)]):[3,3];case 2:return(b=y.sent())&&(c.removeSchema(b.$id),c.addSchema(b)),c=t?void 0:c.parent,[3,1];case 3:return(null==f?void 0:f.id)&&this.dataSchema.switchTo(f.id),[2,t?this.dataSchema.current.schemas:this.dataSchema.getSchemas()]}}))}))},e.prototype.getAvailableContextFields=function(e){var t,n;return z(this,void 0,void 0,(function(){var r,a,o,i,s,c;return $(this,(function(l){if(!e)return[2];for(a=e;!r&&a;)r=this.dataSchema.hasScope("".concat(a.id,"-").concat(a.type))?this.dataSchema.getScope("".concat(a.id,"-").concat(a.type)):void 0,null==(a=a.parent)||a.isRegion;for(;r;){if(o=L(r.id.split("-"),2),i=o[0],s=o[1],c=this.store.getNodeById(i,s))return[2,null===(n=null==c?void 0:(t=c.info.plugin).getAvailableContextFields)||void 0===n?void 0:n.call(t,c,e)];r=r.parent}return[2]}))}))},e.prototype.beforeDispatchEvent=function(e,t,n,r,a,o){var i,s,c,l;null==e||e(t,n,r,a,o);var d=n.props.$$id||(null===(i=n.props.$$editor)||void 0===i?void 0:i.id);if(d){var u=this.store.getNodeById(d,n.props.type);null===(l=null===(c=null===(s=null==u?void 0:u.info)||void 0===s?void 0:s.plugin)||void 0===c?void 0:c.rendererBeforeDispatchEvent)||void 0===l||l.call(c,u,t,et(a))}},e.prototype.dispose=function(){this.trigger("dispose",{data:this}),this.toDispose.forEach((function(e){return e()})),this.toDispose=[],this.plugins.forEach((function(e){var t;return null===(t=e.dispose)||void 0===t?void 0:t.call(e)})),this.plugins.splice(0,this.plugins.length),this.listeners.splice(0,this.listeners.length),this.broadcasts.splice(0,this.broadcasts.length),this.lazyPatchSchema.cancel(),this.dnd.dispose()},B([Rt,j("design:type",Function),j("design:paramtypes",[Object,Object]),j("design:returntype",void 0)],e.prototype,"panelChangeValue",null),e}(),On=function(e){function t(){var t,n,r=this;return(r=e.apply(this,H([],L(arguments),!1))||this).env=P(P(P(P({},r.props.manager.env),{notify:function(e,t){r.props.editable?console.warn("[Notify]",e,t):s[e]?s[e](t,M("error"===e?"a71002967924a83e32b38a80705290fb":"058ebdf2884474ebff2977ba2f0e275e")):console.warn("[Notify]",e,t)},theme:r.props.theme,session:"preview-".concat(r.props.manager.id),rendererResolver:r.rendererResolver}),r.props.manager.env),null===(n=(t=r.props).envCreator)||void 0===n?void 0:n.call(t,r.props)),r}var n;return D(t,e),t.prototype.componentDidMount=function(){var e=ue(this);if(e.addEventListener("mouseleave",this.handleMouseLeave),e.addEventListener("mousemove",this.handleMouseMove),e.addEventListener("click",this.handleClick),e.addEventListener("mouseover",this.handeMouseOver),this.props.autoFocus){var t=this.props.manager.store;setTimeout((function(){if(ve(t)){var e=re(t.outline,(function(e){return!e.isRegion&&e.clickable}));e&&t.setActiveId(e.id)}}),350)}else this.props.manager.buildRenderersAndPanels()},t.prototype.componentWillUnmount=function(){var e=ue(this);e.removeEventListener("mouseleave",this.handleMouseLeave),e.removeEventListener("mousemove",this.handleMouseMove),e.removeEventListener("click",this.handleClick),e.removeEventListener("mouseover",this.handeMouseOver)},t.prototype.contentsRef=function(e){var t,n=this;this.dom=e,e?(this.syncIframeHeight(),this.unSensor=f(e,(function(){n.syncIframeHeight()}))):(null===(t=this.unSensor)||void 0===t||t.call(this),delete this.unSensor)},t.prototype.syncIframeHeight=function(){var e=this.props.manager;this.dom&&(e.store.getIframe().style.cssText+="height: ".concat(this.dom.offsetHeight,"px"))},t.prototype.handleClick=function(e){var t=this.props.store,n=e.target.closest("[data-editor-id]");if(!e.defaultPrevented&&(n&&t.setActiveId(n.getAttribute("data-editor-id")),this.props.editable)){var r=this.props.manager.trigger("prevent-click",{data:e});r.prevented||r.stoped||(e.preventDefault(),e.stopPropagation())}},t.prototype.handleMouseMove=function(e){var t=this.props.store,n=e.target.closest("[data-editor-id]");n&&t.setHoverId(n.getAttribute("data-editor-id"))},t.prototype.handleMouseLeave=function(){this.props.store.setHoverId("")},t.prototype.handeMouseOver=function(e){this.props.editable&&(e.preventDefault(),e.stopPropagation())},t.prototype.handleDragEnter=function(e){this.props.manager.dnd.dragEnter(e.nativeEvent)},t.prototype.handleDragLeave=function(e){this.props.manager.dnd.dragLeave(e.nativeEvent)},t.prototype.handleDragOver=function(e){this.props.manager.dnd.dragOver(e.nativeEvent)},t.prototype.handleDrop=function(e){this.props.manager.dnd.drop(e.nativeEvent)},t.prototype.handleContextMenu=function(e){var t,n=null===(t=e.target.closest("[data-editor-id]"))||void 0===t?void 0:t.getAttribute("data-editor-id"),r="";if(!n){var a=e.target.closest("[data-node-id]");if(!(n=null==a?void 0:a.getAttribute("data-node-id")))return;r=a.getAttribute("data-node-region")}e.preventDefault(),e.stopPropagation();var o=this.props.manager,i=o.store.getIframe().getBoundingClientRect();o.parent.openContextMenu(n,r,{x:window.scrollX+e.clientX+i.left,y:window.scrollY+e.clientY+i.top})},t.prototype.rendererResolver=function(e,t,n){var r=this.props,a=r.editable,o=r.manager,i=h(e,t);if(!1===a)return i;i=i||{name:"error",test:function(){return!0},component:Qt};var s=o.getEditorInfo(i,e,t);return n&&n.store&&n.store.data&&o.updateAMISContext(n.store.data),s&&(i=P(P({},i),{component:o.makeWrapper(s,i)})),i},t.prototype.render=function(){var e=this.props,t=e.store,n=e.editable;e.manager;var r=e.className,a=e.schema,o=e.data,s=T(e,["store","editable","manager","className","schema","data"]);return _.createElement("div",{ref:this.contentsRef,onContextMenu:this.handleContextMenu,onDragEnter:this.handleDragEnter,onDragLeave:this.handleDragLeave,onDragOver:this.handleDragOver,onDrop:this.handleDrop,className:U("ae-IFramePreview",r,n?"is-edting":"")},i(a||{type:"tpl",tpl:M("88f000a0fdc38ce3808cef072b00893c")},P(P({},s),{key:n?"edit-mode":"preview-mode",theme:this.env.theme,data:null!=o?o:t.ctx}),this.env))},B([Rt,j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",void 0)],t.prototype,"contentsRef",null),B([Rt,j("design:type",Function),j("design:paramtypes",[MouseEvent]),j("design:returntype",void 0)],t.prototype,"handleClick",null),B([Rt,j("design:type",Function),j("design:paramtypes",[MouseEvent]),j("design:returntype",void 0)],t.prototype,"handleMouseMove",null),B([Rt,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",void 0)],t.prototype,"handleMouseLeave",null),B([Rt,j("design:type",Function),j("design:paramtypes",[MouseEvent]),j("design:returntype",void 0)],t.prototype,"handeMouseOver",null),B([Rt,j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",void 0)],t.prototype,"handleDragEnter",null),B([Rt,j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",void 0)],t.prototype,"handleDragLeave",null),B([Rt,j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",void 0)],t.prototype,"handleDragOver",null),B([Rt,j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",void 0)],t.prototype,"handleDrop",null),B([Rt,j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",void 0)],t.prototype,"handleContextMenu",null),B([Rt,j("design:type",Function),j("design:paramtypes",[String,"function"==typeof(n=void 0!==o&&o)?n:Object,Object]),j("design:returntype",void 0)],t.prototype,"rendererResolver",null),t}(_.Component),Nn=function(e){function t(t){var n=e.call(this,t)||this,r="__amis_editor_bridge_fn_".concat(ze());return window[r]=function(e){return delete window[r],n.bridge=e,n.update(t),t.manager},n.bridgeFnName=r,n}return D(t,e),t.prototype.componentDidUpdate=function(){this.update()},t.prototype.componentWillUnmount=function(){var e=this.props.store;ve(e)&&e.setDoc(document)},t.prototype.iframeRef=function(e){var t=this.props.store;ve(t)&&t.setIframe(e)},t.prototype.update=function(e){var t;void 0===e&&(e=this.props);var n=e.editable,r=e.store;null===(t=this.bridge)||void 0===t||t.update(P(P({},e),{schema:n?r.filteredSchema:r.filteredSchemaForPreview}))},t.prototype.render=function(){var e=this.props,t=e.url,n=e.manager,r=e.className,a=e.editable,o=e.store;return this.schema=a?o.filteredSchema:o.filteredSchemaForPreview,_.createElement("iframe",{ref:this.iframeRef,className:r,id:n.id,src:"".concat(t,"#").concat(this.bridgeFnName)})},B([Rt,j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",void 0)],t.prototype,"iframeRef",null),t=B([de,j("design:paramtypes",[Object])],t)}(_.PureComponent),kn=function(e){function t(t){var n=e.call(this,t)||this;n.state={},n.inited=!1;var r=t.bridgeName,a=parent[r];if("function"!=typeof a)throw new Error(M("3b6d5995e9f2ecd3df059b3f1bea201e"));var o=a({update:function(e){return n.inited?n.setState(P({},e)):n.state=P({},e)}});if(!o)throw new Error(M("09f33be5ec04eb48b3102e4e31af5b38"));o.store.setDoc(document);var i=new Rn(o.config,o.store,o);return n.manager=i,n.inited=!0,n}return D(t,e),t.prototype.componentWillUnmount=function(){var e=this.manager;e.toDispose.forEach((function(e){return e()})),e.toDispose=[],e.listeners.splice(0,e.listeners.length),e.lazyPatchSchema.cancel()},t.prototype.render=function(){return _.createElement(On,P({},this.state,{manager:this.manager,store:this.manager.store,envCreator:this.props.envCreator}))},t}(_.Component);function Fn(e,t,n){if(!location.hash||parent===window)throw new Error(M("283c2a52955ad87574fd6c0cc932c443"));var r=location.hash.substring(1);1===t.render.length?t.render(_.createElement(kn,{bridgeName:r,envCreator:n})):t.render(_.createElement(kn,{bridgeName:r,envCreator:n}),e),window.onunload=function(){fe(e)}}var An,Mn=function(e){function t(t){var n=e.call(this,t)||this;return n.ref=_.createRef(),n.scrollElem=null,n.state={visible:void 0!==t.visible&&t.visible},n}return D(t,e),t.prototype.componentDidMount=function(){this.bindScrollEvent()},t.prototype.componentWillUnmount=function(){this.scrollElem&&this.scrollElem.removeEventListener("scroll",this.handleScroll)},t.prototype.getDefaultTarget=function(){return this.ref.current&&this.ref.current.ownerDocument?this.ref.current.ownerDocument:window},t.prototype.handleScroll=function(e){var t=this.props.visibilityHeight||400,n=function(e,t){var n;if("undefined"==typeof window)return 0;var r,a=t?"scrollTop":"scrollLeft",o=0,i=null!=(r=e)&&r===r.window;return i?o=e[t?"pageYOffset":"pageXOffset"]:e instanceof Document?o=e.documentElement[a]:e&&(o=e[a]),e&&!i&&"number"!=typeof o&&(o=null===(n=(e.ownerDocument||e).documentElement)||void 0===n?void 0:n[a]),o}(e.target,!0);this.setState({visible:n>t})},t.prototype.bindScrollEvent=function(){var e=this.props.target;this.scrollElem=e()||this.getDefaultTarget(),this.scrollElem&&(this.scrollElem.addEventListener("scroll",this.handleScroll),this.handleScroll({target:this.scrollElem}))},t.prototype.scrollToTop=function(e){var t=this.props.onClick;this.scrollElem&&(this.scrollElem.scrollTo({top:0,behavior:"smooth"}),"function"==typeof t&&t(e))},t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=U("editor-backTop",void 0===n?"":n,this.state.visible?"":"hidden"),a=Be(this.props,["className","children","visibilityHeight","target","visible"]),o=_.createElement("div",{className:"backTop-content"},_.createElement("div",{className:"backTop-icon"},"UP"));return _.createElement("div",P({},a,{className:r,onClick:this.scrollToTop,ref:this.ref}),t||o)},B([Rt,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",void 0)],t.prototype,"getDefaultTarget",null),B([Rt,j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",void 0)],t.prototype,"handleScroll",null),B([Rt,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",void 0)],t.prototype,"bindScrollEvent",null),B([Rt,j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",void 0)],t.prototype,"scrollToTop",null),t}(_.Component),Pn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.env=P(P({},t.props.manager.env),{notify:function(e,n,r){t.props.editable?console.warn("[Notify]",e,n):s[e]?s[e](n,r||M("error"===e?"a71002967924a83e32b38a80705290fb":"058ebdf2884474ebff2977ba2f0e275e")):console.warn("[Notify]",e,n)},theme:t.props.theme,session:"preview-".concat(t.props.manager.id),rendererResolver:t.rendererResolver.bind(t)}),t.doingSelection=!1,t.unReaction=Ft((function(){return[t.getHighlightNodes(),t.props.store.activeId]}),(function(e,n){var r=L(e,1)[0],a=t.props.store;setTimeout((function(){t.calculateHighlightBox(r)}),50);var o=null==n?void 0:n[0];Array.isArray(o)&&(o=o.filter((function(e){return!~r.indexOf(e)})),a.resetHighlightBox(o))})),t}return D(t,e),t.prototype.componentDidMount=function(){this.currentDom=ue(this),this.currentDom.addEventListener("mouseleave",this.handleMouseLeave),this.currentDom.addEventListener("mousemove",this.handleMouseMove),this.currentDom.addEventListener("click",this.handleClick),this.currentDom.addEventListener("mouseover",this.handeMouseOver),this.currentDom.addEventListener("mousedown",this.handeMouseDown),this.props.manager.on("after-update",this.handlePanelChange)},t.prototype.componentWillUnmount=function(){var e,t=this;this.currentDom&&(this.currentDom.removeEventListener("mouseleave",this.handleMouseLeave),this.currentDom.removeEventListener("mousemove",this.handleMouseMove),this.currentDom.removeEventListener("click",this.handleClick),this.currentDom.removeEventListener("mouseover",this.handeMouseOver),this.currentDom.removeEventListener("mousedown",this.handeMouseDown),this.props.manager.off("after-update",this.handlePanelChange)),null===(e=this.scrollLayer)||void 0===e||e.removeEventListener("scroll",this.handlePanelChange),setTimeout((function(){return oe([t.env.session])}),500)},t.prototype.contentsRef=function(e){var t;e?(this.scrollLayer=e,this.scrollLayer.addEventListener("scroll",this.handlePanelChange),this.layer=e.querySelector(".ae-Preview-widgets"),this.props.store.setLayer(this.layer),this.unSensor=f(e,this.handlePanelChange)):(delete this.scrollLayer,delete this.layer,null===(t=this.unSensor)||void 0===t||t.call(this),delete this.unSensor)},t.prototype.handlePanelChange=function(){var e=this;setTimeout((function(){return e.calculateHighlightBox(e.getHighlightNodes())}),50)},t.prototype.getHighlightNodes=function(){return this.props.store.highlightNodes.map((function(e){return e.id}))},t.prototype.calculateHighlightBox=function(e){var t=this.props.store;this.layer&&t.calculateHighlightBox(e)},t.prototype.handeMouseDown=function(e){var t,n=this,r=1===e.button&&null!==window.event||0===e.button;if(this.props.editable&&r&&!e.defaultPrevented&&!e.defaultPrevented&&!(null===(t=e.target)||void 0===t?void 0:t.closest("[draggable]"))){var a=this.layer;if(a){var o=null,i=a.getBoundingClientRect(),s=e.pageX,c=e.pageY,l=s-i.left,d=c-i.top,u=function(e){o||((o=document.createElement("div")).classList.add("ae-Editor-selectionCursor"),a.appendChild(o)),n.doingSelection=!0;var t=e.pageX-s,r=e.pageY-c;o.style.cssText="left: ".concat(l+Math.min(t,0),"px; top: ").concat(d+Math.min(r,0),"px; width: ").concat(Math.abs(t),"px; height: ").concat(Math.abs(r),"px;")},p=function(e){n.doingSelection=!1,window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",p),o&&a.removeChild(o);var t=e.pageX-s,r=e.pageY-c,i={x:l+Math.min(t,0),y:d+Math.min(r,0),w:Math.abs(t),h:Math.abs(r)};if(!(i.w<10&&i.h<10)){var f=function(e){window.removeEventListener("click",f,!0),e.preventDefault(),e.stopPropagation()};window.addEventListener("click",f,!0),setTimeout((function(){return window.removeEventListener("click",f,!0)}),350),n.doSelection(i)}};window.addEventListener("mousemove",u),window.addEventListener("mouseup",p)}}},t.prototype.doSelection=function(e){var t=this.layer,n=ue(this);if(t&&n){var r=[],a=t.getBoundingClientRect(),o=e.x+a.left,i=e.y+a.top,s=(e.w,e.h,e.x+a.left+e.w),c=e.y+a.top+e.h,l=n.querySelectorAll("[data-editor-id]");[].slice.apply(l).forEach((function(e){if(!r.some((function(t){return t.contains(e)}))){var t=e.getBoundingClientRect();o<=t.left&&i<=t.top&&s>=t.right&&c>=t.bottom&&(~r.indexOf(e)||r.push(e))}}));var d=r.map((function(e){return e.getAttribute("data-editor-id")})).filter((function(e,t,n){return n.indexOf(e)===t}));d.length&&this.props.manager.setSelection(d)}},t.prototype.handleClick=function(e){var t,n=this.props.store,r=e.target.closest("[data-editor-id]");if(!e.target.closest(".ae-editor-action-btn"))if(e.defaultPrevented)e.stopPropagation();else{if(r){var a=r.getAttribute("data-editor-id"),o="",i=e.target.closest("[data-region-host]");if(i){var s=i.getAttribute("data-region-host");s&&s===a&&i.getAttribute("data-region")&&(o=i.getAttribute("data-region"))}e.metaKey?this.props.manager.toggleSelection(a):n.setActiveId(a,o)}if(!(null===(t=this.layer)||void 0===t?void 0:t.contains(e.target))&&this.props.editable){var c=this.props.manager.trigger("prevent-click",{data:e});c.prevented||c.stoped||(e.preventDefault(),e.stopPropagation())}}},t.prototype.handleNavSwitch=function(e){this.props.store.setActiveId(e)},t.prototype.handleMouseMove=function(e){var t;if(!this.doingSelection&&!this.props.manager.disableHover){var n=this.props.store,r=e.target;if(!(null===(t=this.layer)||void 0===t?void 0:t.contains(r))&&!e.target.closest(".ignore-hover-elem")){var a=r.closest("[data-editor-id]");if(a){var o=a.getAttribute("data-editor-id"),i="",s=e.target.closest("[data-region-host]");if(s){var c=s.getAttribute("data-region-host");c&&c===o&&s.getAttribute("data-region")&&(i=s.getAttribute("data-region"))}n.setMouseMoveRegion(i),n.setHoverId(o)}}}},t.prototype.handleMouseLeave=function(){var e=this.props.store;e.setMouseMoveRegion(""),e.setHoverId("")},t.prototype.handeMouseOver=function(e){this.props.editable&&(e.preventDefault(),e.stopPropagation())},t.prototype.handleDragEnter=function(e){this.props.manager.dnd.dragEnter(e.nativeEvent)},t.prototype.handleDragLeave=function(e){this.props.manager.dnd.dragLeave(e.nativeEvent)},t.prototype.handleDragOver=function(e){this.props.manager.dnd.dragOver(e.nativeEvent)},t.prototype.handleDrop=function(e){this.props.manager.dnd.drop(e.nativeEvent)},t.prototype.getCurrentTarget=function(){return this.props.isMobile?this.currentDom.querySelector(".ae-Preview-inner"):this.currentDom.querySelector(".ae-Preview-body")},t.prototype.rendererResolver=function(e,t,n){var r=this.props,a=r.editable,o=r.manager,i=h(e,t);if(!1===a)return i;i=i||{name:"error",test:function(){return!0},component:Qt};var s=o.getEditorInfo(i,e,t);return n&&n.store&&n.store.data&&o.updateAMISContext(n.store.data),s&&(i=P(P({},i),{component:o.makeWrapper(s,i)})),i},t.prototype.render=function(){var e=this,t=this.props,n=t.className,a=t.editable,o=t.store,i=t.manager,s=t.amisEnv,c=t.theme,l=t.isMobile,d=t.iframeUrl,u=t.autoFocus,p=t.toolbarContainer,f=t.appLocale,h=T(t,["className","editable","store","manager","amisEnv","theme","isMobile","iframeUrl","autoFocus","toolbarContainer","appLocale"]),m=P(P({},this.env),s);return _.createElement("div",{id:"editor-preview-body",onDragEnter:this.handleDragEnter,onDragLeave:this.handleDragLeave,onDragOver:this.handleDragOver,onDrop:this.handleDrop,className:U("ae-Preview",n,l?"is-mobile-body hoverShowScrollBar":"is-pc-body")},_.createElement("div",{className:U("ae-Preview-body",n,a?"is-edting":"",l?"is-mobile":"is-pc hoverShowScrollBar"),ref:this.contentsRef},d&&l&&_.createElement(_.Fragment,null,_.createElement("div",{className:"mobile-sound"}),_.createElement("div",{className:"mobile-receiver"}),_.createElement("div",{className:"mobile-left-btn"}),_.createElement("div",{className:"mobile-right-btn"}),_.createElement("div",{className:"mobile-open-btn"})),_.createElement("div",{className:"ae-Preview-inner"},d&&l?_.createElement(Nn,P({},h,{key:"mobile",className:"ae-PreviewFrame",editable:a,isMobile:l,store:o,env:m,manager:i,url:d,theme:c,autoFocus:u})):_.createElement(Dn,P({},h,{editable:a,autoFocus:u,store:o,env:m,manager:i,key:"pc",appLocale:f})),d&&l&&o.contextId?_.createElement("span",{className:"ae-IframeMask"}):null,_.createElement("div",{className:"ae-Preview-widgets",id:"aePreviewHighlightBox"},o.highlightNodes.map((function(t){return _.createElement(Xt,{node:t,key:t.id,store:o,id:t.id,title:t.label,toolbarContainer:p,onSwitch:e.handleNavSwitch,manager:i},t.childRegions.map((function(e){return!t.memberImmutable(e.region)&&o.isRegionActive(e.id,e.region)?_.createElement(Gt,{manager:i,key:e.region,store:o,node:e,id:e.id,name:e.region,title:e.label,preferTag:e.preferTag,isOnlyChildRegion:1===t.childRegions.length}):null})))})))),this.currentDom&&_.createElement(Mn,{key:l?"mobile-back-up":"pc-back-up",className:"ae-editor-action-btn",target:this.getCurrentTarget.bind(this),onClick:function(e){console.log(e)}},_.createElement(r,{icon:"back-up",className:"back-top-icon"}))))},B([Rt,j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",void 0)],t.prototype,"contentsRef",null),B([Rt,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",void 0)],t.prototype,"handlePanelChange",null),B([Rt,j("design:type",Function),j("design:paramtypes",[Array]),j("design:returntype",void 0)],t.prototype,"calculateHighlightBox",null),B([Rt,j("design:type",Function),j("design:paramtypes",[MouseEvent]),j("design:returntype",void 0)],t.prototype,"handeMouseDown",null),B([Rt,j("design:type",Function),j("design:paramtypes",[MouseEvent]),j("design:returntype",void 0)],t.prototype,"handleClick",null),B([Rt,j("design:type",Function),j("design:paramtypes",[String]),j("design:returntype",void 0)],t.prototype,"handleNavSwitch",null),B([Rt,j("design:type",Function),j("design:paramtypes",[MouseEvent]),j("design:returntype",void 0)],t.prototype,"handleMouseMove",null),B([Rt,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",void 0)],t.prototype,"handleMouseLeave",null),B([Rt,j("design:type",Function),j("design:paramtypes",[MouseEvent]),j("design:returntype",void 0)],t.prototype,"handeMouseOver",null),B([Rt,j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",void 0)],t.prototype,"handleDragEnter",null),B([Rt,j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",void 0)],t.prototype,"handleDragLeave",null),B([Rt,j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",void 0)],t.prototype,"handleDragOver",null),B([Rt,j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",void 0)],t.prototype,"handleDrop",null),B([Rt,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",void 0)],t.prototype,"getCurrentTarget",null),t=B([de],t)}(V),Dn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return D(t,e),t.prototype.componentDidMount=function(){var e=this.props.store;this.props.autoFocus?setTimeout((function(){if(ve(e)){var t=re(e.outline,(function(e){return!e.isRegion&&e.clickable}));t&&ve(e)&&e.setActiveId(t.id)}}),350):this.props.manager.buildRenderersAndPanels()},t.prototype.componentDidUpdate=function(e){var t=this.props;t.editable!==e.editable&&t.editable&&this.props.manager.trigger("preview2editor",{data:this.props.manager})},t.prototype.render=function(){var e=this.props,t=e.editable,n=e.store,r=e.appLocale;e.autoFocus;var a=e.env,o=e.data;e.manager;var s=T(e,["editable","store","appLocale","autoFocus","env","data","manager"]);return i(t?n.filteredSchema:n.filteredSchemaForPreview,P(P({},s),{key:t?"edit-mode":"preview-mode",theme:a.theme,data:null!=o?o:n.ctx,locale:r}),a)},t=B([de],t)}(_.Component),Bn=function(e){function t(t){var n=e.call(this,t)||this;return n.env=P({session:"preview"},n.props.env),n.state={scale:!0},n.rootRef=n.rootRef.bind(n),n.syncHeight=n.syncHeight.bind(n),n.handleClick=n.handleClick.bind(n),n}return D(t,e),t.prototype.componentWillUnmount=function(){this.unSensor&&this.unSensor()},t.prototype.rootRef=function(e){var t;this.ref=e,e&&(this.syncHeight(),this.unSensor=f(null===(t=e.firstChild)||void 0===t?void 0:t.firstChild,this.syncHeight))},t.prototype.syncHeight=function(){if(this.ref){var e=this.state.scale,t=this.ref.firstChild;this.ref.style.cssText="height: ".concat(t.scrollHeight/(e?2:1),"px;")}},t.prototype.handleClick=function(e){e.preventDefault(),this.setState({scale:!this.state.scale})},t.prototype.render=function(){var e=this,t=this.props,n=t.schema,a=t.theme;return _.createElement(ie,{unMountOnHidden:!1,schema:n,component:function(t){var n=t.schema;return _.createElement("div",{className:"ae-RenderersPicker-thumb ".concat(e.state.scale?"is-scaled":"")},_.createElement("div",{className:"ae-Editor-rendererThumbWrap"},_.createElement("div",{className:"ae-Editor-rendererThumbIcon",onClick:e.handleClick},_.createElement(r,{icon:e.state.scale?"zoom-in":"zoom-out"})),_.createElement("div",{ref:e.rootRef,className:"ae-Editor-rendererThumb"},_.createElement("div",{className:"ae-Editor-rendererThumbInner"},i(P(P({},n),{mode:"horizontal"===n.mode?"normal":n.mode}),{theme:a},e.env)))))}})},t}(_.Component),jn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return D(t,e),t.prototype.handleLeftClick=function(e){var t=e.currentTarget.getAttribute("data-value");this.props.store.setInsertTag(t)},t.prototype.handleClick=function(e){var t=e.currentTarget.getAttribute("data-value");this.props.store.setInsertSelected(t)},t.prototype.hadnlDBClick=function(e){var t=e.currentTarget.getAttribute("data-value"),n=this.props.store;n.setInsertSelected(t);var r=this.props.manager;"replace"===n.insertMode?r.replace():r.insert()},t.prototype.handleInsert=function(){this.props.manager.insert()},t.prototype.handleReplace=function(){this.props.manager.replace()},t.prototype.handleCancel=function(){this.props.store.closeInsertPanel()},t.prototype.render=function(){var e,t,n=this,a=this.props.store,o=this.props.manager,i=null===(e=a.getNodeById(a.insertId))||void 0===e?void 0:e.info,s=null===(t=we(i.regions,(function(e){return e.key===a.insertRegion})))||void 0===t?void 0:t.label,c=a.groupedInsertRenderers,l=Object.keys(c),d=a.insertTag||M("a8b0c20416853bda54120bf19477ad11"),u=c[d]||c[M("a8b0c20416853bda54120bf19477ad11")];return _.createElement("div",{className:"ae-InsertPanel"},"replace"===a.insertMode?_.createElement("div",{className:"ae-InsertPanel-title"},"更改组件类型"):_.createElement("div",{className:"ae-InsertPanel-title"},_.createElement("span",null,"选中组件插入到")," ",_.createElement("code",null,i.name," > ",s)),_.createElement("div",{className:"m-b-xs"},_.createElement(m,{className:"editor-InputSearch",value:a.insertRenderersKeywords,onChange:a.changeInsertRenderersKeywords,placeholder:M("d87481b371771b4f150da76e311bbbef"),clearable:!1},a.insertRenderersKeywords?_.createElement("a",{onClick:a.resetInsertRenderersKeywords},_.createElement(r,{icon:"close",className:"icon"})):_.createElement(r,{icon:"search",className:"icon"}))),_.createElement("div",{className:"ae-RenderersPicker-list"},_.createElement("ul",null,l.map((function(e){return _.createElement("li",{key:e,className:d===e?"is-active":""},_.createElement("a",{"data-value":e,onClick:n.handleLeftClick},e))}))),_.createElement("div",{className:"ae-RenderersPicker-content"},Array.isArray(u)&&u.length?_.createElement("ul",null,u.map((function(e){return _.createElement("li",{key:e.id,className:a.insertSelected===e.id?"is-active":"","data-value":e.id,onClick:n.handleClick,onDoubleClick:n.hadnlDBClick},_.createElement(Bn,{theme:o.env.theme,env:o.env,schema:e.previewSchema||{type:"tpl",tpl:M("becdc848350872592201e31bab03892a")}}),_.createElement("div",{className:"ae-RenderersPicker-info"},_.createElement("h4",null,e.name),_.createElement("div",null,_.createElement(v,{html:e.description}),e.docLink?_.createElement("a",{target:"_blank",href:a.amisDocHost+e.docLink},_.createElement("span",null,"详情")):null)))}))):_.createElement("div",null,"没有可用组件，也许你该切换容器试试。"))),_.createElement("div",{className:"ae-InsertPanel-footer"},"replace"===a.insertMode?_.createElement(g,{className:"action-btn action-btn-primary",onClick:this.handleReplace,disabled:!a.insertSelected,level:"primary"},"替换"):_.createElement(g,{className:"action-btn action-btn-primary",onClick:this.handleInsert,disabled:!a.insertSelected,level:"primary"},"插入"),_.createElement(g,{className:"action-btn",onClick:this.handleCancel},"取消")))},B([Rt,j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",void 0)],t.prototype,"handleLeftClick",null),B([Rt,j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",void 0)],t.prototype,"handleClick",null),B([Rt,j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",void 0)],t.prototype,"hadnlDBClick",null),B([Rt,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",void 0)],t.prototype,"handleInsert",null),B([Rt,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",void 0)],t.prototype,"handleReplace",null),B([Rt,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",void 0)],t.prototype,"handleCancel",null),t=B([de],t)}(_.Component);function Tn(){return Tn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tn.apply(this,arguments)}var Hn;function Ln(){return Ln=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ln.apply(this,arguments)}var zn;function $n(){return $n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$n.apply(this,arguments)}var Kn;function _n(){return _n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_n.apply(this,arguments)}var Vn;function Un(){return Un=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Un.apply(this,arguments)}var Wn;function Zn(){return Zn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zn.apply(this,arguments)}var qn,Yn,Jn;function Xn(){return Xn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xn.apply(this,arguments)}var Gn,Qn,er;function tr(){return tr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tr.apply(this,arguments)}var nr,rr,ar,or,ir,sr,cr,lr;function dr(){return dr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dr.apply(this,arguments)}var ur;function pr(){return pr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pr.apply(this,arguments)}var fr;function hr(){return hr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hr.apply(this,arguments)}var mr;function vr(){return vr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vr.apply(this,arguments)}var gr;function br(){return br=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},br.apply(this,arguments)}var yr;function Er(){return Er=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Er.apply(this,arguments)}var wr;function Cr(){return Cr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cr.apply(this,arguments)}var Sr;function xr(){return xr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xr.apply(this,arguments)}var Ir;function Rr(){return Rr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rr.apply(this,arguments)}var Or,Nr;function kr(){return kr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kr.apply(this,arguments)}var Fr,Ar,Mr;function Pr(){return Pr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pr.apply(this,arguments)}var Dr;function Br(){return Br=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Br.apply(this,arguments)}var jr;function Tr(){return Tr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tr.apply(this,arguments)}var Hr;function Lr(){return Lr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lr.apply(this,arguments)}var zr;function $r(){return $r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$r.apply(this,arguments)}var Kr;function _r(){return _r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_r.apply(this,arguments)}var Vr,Ur;function Wr(){return Wr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wr.apply(this,arguments)}var Zr;function qr(){return qr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qr.apply(this,arguments)}var Yr;function Jr(){return Jr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jr.apply(this,arguments)}var Xr;function Gr(){return Gr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gr.apply(this,arguments)}var Qr;function ea(){return ea=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ea.apply(this,arguments)}var ta;function na(){return na=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},na.apply(this,arguments)}var ra;function aa(){return aa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aa.apply(this,arguments)}var oa;function ia(){return ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ia.apply(this,arguments)}var sa;function ca(){return ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ca.apply(this,arguments)}var la,da;function ua(){return ua=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ua.apply(this,arguments)}var pa;function fa(){return fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fa.apply(this,arguments)}var ha,ma=function(e){return K.createElement("svg",fa({viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),pa||(pa=K.createElement("path",{d:"m12.233 5-4.24 4.24L3.753 5l-.713.713 4.95 4.95.003-.003.003.003 4.95-4.95z"})))};function va(){return va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},va.apply(this,arguments)}var ga;function ba(){return ba=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ba.apply(this,arguments)}var ya;function Ea(){return Ea=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ea.apply(this,arguments)}var wa;function Ca(){return Ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ca.apply(this,arguments)}var Sa;function xa(){return xa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xa.apply(this,arguments)}var Ia;function Ra(){return Ra=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ra.apply(this,arguments)}var Oa;function Na(){return Na=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Na.apply(this,arguments)}var ka;function Fa(){return Fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fa.apply(this,arguments)}var Aa;function Ma(){return Ma=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ma.apply(this,arguments)}var Pa;function Da(){return Da=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Da.apply(this,arguments)}var Ba;function ja(){return ja=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ja.apply(this,arguments)}b("arrow-to-right",(function(e){return K.createElement("svg",Tn({viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),An||(An=K.createElement("path",{d:"M755.627 481.707 584.96 311.04a42.667 42.667 0 1 0-60.587 60.587l98.134 97.706H128a42.667 42.667 0 0 0 0 85.334h494.507l-98.134 97.706a42.667 42.667 0 0 0 0 60.587 42.667 42.667 0 0 0 60.587 0l170.667-170.667a42.667 42.667 0 0 0 8.96-14.08 42.667 42.667 0 0 0 0-32.426 42.667 42.667 0 0 0-8.96-14.08zM896 170.667a42.667 42.667 0 0 0-42.667 42.666v597.334a42.667 42.667 0 0 0 85.334 0V213.333A42.667 42.667 0 0 0 896 170.667z"})))})),b("left-arrow-to-left",(function(e){return K.createElement("svg",Ln({viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),Hn||(Hn=K.createElement("path",{d:"M896 469.333H401.493l98.134-97.706a42.667 42.667 0 1 0-60.587-60.587L268.373 481.707a42.667 42.667 0 0 0-8.96 14.08 42.667 42.667 0 0 0 0 32.426 42.667 42.667 0 0 0 8.96 14.08L439.04 712.96a42.667 42.667 0 0 0 60.587 0 42.667 42.667 0 0 0 0-60.587l-98.134-97.706H896a42.667 42.667 0 0 0 0-85.334zM128 128a42.667 42.667 0 0 0-42.667 42.667v682.666a42.667 42.667 0 0 0 85.334 0V170.667A42.667 42.667 0 0 0 128 128z"})))})),b("top-arrow-to-top",(function(e){return K.createElement("svg",$n({viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),zn||(zn=K.createElement("path",{d:"M542.293 268.373a42.667 42.667 0 0 0-14.08-8.96 42.667 42.667 0 0 0-32.426 0 42.667 42.667 0 0 0-14.08 8.96L311.04 439.04a42.667 42.667 0 1 0 60.587 60.587l97.706-98.134V896a42.667 42.667 0 0 0 85.334 0V401.493l97.706 98.134a42.667 42.667 0 0 0 60.587 0 42.667 42.667 0 0 0 0-60.587zm268.374-183.04H213.333a42.667 42.667 0 0 0 0 85.334h597.334a42.667 42.667 0 0 0 0-85.334z"})))})),b("arrow-to-bottom",(function(e){return K.createElement("svg",_n({viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),Kn||(Kn=K.createElement("path",{d:"M810.667 853.333H213.333a42.667 42.667 0 0 0 0 85.334h597.334a42.667 42.667 0 0 0 0-85.334zm-328.96-97.706a42.667 42.667 0 0 0 14.08 8.96 40.107 40.107 0 0 0 32.426 0 42.667 42.667 0 0 0 14.08-8.96L712.96 584.96a42.667 42.667 0 0 0-60.587-60.587l-97.706 98.134V128a42.667 42.667 0 0 0-85.334 0v494.507l-97.706-98.134a42.667 42.667 0 1 0-60.587 60.587z"})))})),b("collapse-open",(function(e){return K.createElement("svg",Un({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),Vn||(Vn=K.createElement("path",{fill:"#83868C",fillRule:"nonzero",d:"M8 11 4 6h8z"})))})),b("harmmer",(function(e){return K.createElement("svg",pr({className:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},e),ur||(ur=K.createElement("path",{d:"m947.9 761.4-264-263.9c-16.3-16.3-43.1-16.3-59.4 0l-19.8 19.8-161-161L708.1 91.9H428L303.6 216.2l-12.3-12.3h-59.4v59.4l12.3 12.3L63.9 456l140 140 180.3-180.3 161.1 161.1-19.8 19.8c-16.3 16.3-16.3 43.1 0 59.4l263.9 263.9c16.3 16.3 43.1 16.3 59.4 0l99-99c16.4-16.4 16.4-43.1.1-59.5z"})))})),b("dialog",(function(e){return K.createElement("svg",hr({className:"icon",viewBox:"0 0 1155 1024",xmlns:"http://www.w3.org/2000/svg"},e),fr||(fr=K.createElement("path",{d:"M1076.512 315.077H840.204V78.769A78.77 78.77 0 0 0 761.435 0H78.77A78.77 78.77 0 0 0 0 78.77V498.87a78.77 78.77 0 0 0 78.77 78.77h14.939l-9.295 23.368a78.77 78.77 0 0 0 73.124 107.913 76.879 76.879 0 0 0 38.23-9.977l119.309-66.166v181.169a78.77 78.77 0 0 0 78.769 78.769h347.188l218.453 121.305a76.879 76.879 0 0 0 38.256 9.977 78.77 78.77 0 0 0 73.15-107.914l-9.295-23.368h14.914a78.77 78.77 0 0 0 78.769-78.77V393.847a78.77 78.77 0 0 0-78.77-78.77zm-761.435 78.769v148.873l-157.539 87.434 52.513-131.282H78.77V78.77h682.666v236.308h-367.59a78.77 78.77 0 0 0-78.768 78.769zm761.435 420.102H945.23l52.513 131.282-236.308-131.282h-367.59V393.846h682.667v420.102zm-577.64-262.564h472.614a39.385 39.385 0 0 0 0-78.77H498.871a39.385 39.385 0 0 0 0 78.77zm0 157.538h472.614a39.385 39.385 0 0 0 0-78.769H498.871a39.385 39.385 0 0 0 0 78.77z"})))})),b("setting",(function(e){return K.createElement("svg",vr({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),mr||(mr=K.createElement("g",{fill:"none",fillRule:"evenodd"},K.createElement("path",{d:"M0 0h16v16H0z"}),K.createElement("path",{d:"M11.5 2 15 8.063l-3.5 6.062h-7L1 8.063 4.5 2h7Zm-.578 1H5.077L2.155 8.064l2.922 5.06h5.845l2.924-5.06L10.922 3ZM8 6.064a2 2 0 1 1 0 4 2 2 0 0 1 0-4Zm0 1a1.001 1.001 0 0 0 0 2 1.001 1.001 0 0 0 0-2Z",fill:"#84868C",fillRule:"nonzero"}))))})),b("picker-icon",(function(e){return K.createElement("svg",br({xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),gr||(gr=K.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},K.createElement("path",{d:"M14.5 14.5h-13v-13h13v1.998"}),K.createElement("path",{d:"m12.775 4.943 1.768 1.768-1.766 1.765M13.85 6.71H8m1.694 2.525-1.768 1.768 1.766 1.766m-1.074-1.767 5.882-.001"}))))})),b("edit-full-btn",(function(e){return K.createElement("svg",qr({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),Zr||(Zr=K.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"currentColor",strokeLinejoin:"round"},K.createElement("path",{d:"m11.536 3.05 1.414 1.414-7.778 7.779-1.395.019-.02-1.434zM9.414 4.464l2.122 2.122M1.5 14h13"}))))})),b("event-setting",(function(e){return K.createElement("svg",ca({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),sa||(sa=K.createElement("g",{fill:"none",fillRule:"evenodd"},K.createElement("path",{d:"M0 0h16v16H0z"}),K.createElement("path",{d:"M7.356 14H2.333c-.552 0-1-.504-1-1.125v-9.75c0-.621.448-1.125 1-1.125h11.334c.552 0 1 .504 1 1.125v4.522",stroke:"#151B26",strokeLinecap:"round",strokeLinejoin:"round"}),K.createElement("path",{d:"M1.333 3a1 1 0 0 1 1-1h11.334a1 1 0 0 1 1 1v3H1.333V3Z",stroke:"#151B26"}),K.createElement("path",{d:"M3.333 3.333a.667.667 0 1 1 0 1.334.667.667 0 0 1 0-1.334Zm2 0a.667.667 0 1 1 0 1.334.667.667 0 0 1 0-1.334Z",fill:"#151B26",fillRule:"nonzero"}),K.createElement("g",{stroke:"#151B26",strokeLinejoin:"round"},K.createElement("path",{d:"m13.192 14.017 1.5-2.5-1.5-2.5h-3l-1.5 2.5 1.5 2.5z"}),K.createElement("path",{d:"M11.692 12.42a.912.912 0 0 0 .92-.903.912.912 0 0 0-.92-.903.912.912 0 0 0-.921.903c0 .498.412.903.92.903Z"})))))})),b("add-btn",(function(e){return K.createElement("svg",Jr({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),Yr||(Yr=K.createElement("path",{d:"M8.5 2v5.5H14v1H8.5V14h-1V8.5H2v-1h5.5V2h1Z",fill:"currentColor",fillRule:"evenodd"})))})),b("close-btn",(function(e){return K.createElement("svg",Gr({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),Xr||(Xr=K.createElement("path",{stroke:"currentColor",strokeLinejoin:"round",d:"M13.664 10.507 8.007 4.85 2.35 10.507",fill:"none",fillRule:"evenodd"})))})),b("open-btn-r",(function(e){return K.createElement("svg",ea({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),Qr||(Qr=K.createElement("path",{stroke:"currentColor",strokeLinejoin:"round",d:"m2.35 5.497 5.657 5.657 5.657-5.657",fill:"none",fillRule:"evenodd"})))})),b("delete-easy-btn",(function(e){return K.createElement("svg",na({viewBox:"0 0 17 16",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),ta||(ta=K.createElement("path",{d:"M14.333 3.499V4.5H12.83l.001 10h-9v-10H2.332V3.499h12ZM11.831 4.5h-7v9h7v-9Zm-4.5 2.999v4h-1v-4h1Zm3 0v4h-1v-4h1Zm.001-5.999v.999h-4V1.5h4Z",fill:"currentColor",fillRule:"evenodd"})))})),b("delete-bold-btn",(function(e){return K.createElement("svg",aa({viewBox:"0 0 13 14",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),ra||(ra=K.createElement("path",{d:"M12.833 2.499V3.5H11.33l.001 10h-9v-10H.832V2.499h12ZM10.331 3.5h-7v9h7v-9Zm-4.5 2.999v4h-1v-4h1Zm3 0v4h-1v-4h1ZM8.832.5v.999h-4V.5h4Z",fill:"currentColor",fillRule:"evenodd"})))})),b("drag-six-circle-btn",(function(e){return K.createElement("svg",ia({viewBox:"0 0 7 12",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),oa||(oa=K.createElement("path",{d:"M5.167 10a1 1 0 1 1 0 2 1 1 0 0 1 0-2Zm0-5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Zm0-5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Zm-4 10a1 1 0 1 1 0 2 1 1 0 0 1 0-2Zm0-5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Zm0-5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z",fill:"#84868C",fillRule:"evenodd"})))})),b("drag-btn",(function(e){return K.createElement("svg",Rr({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),Ir||(Ir=K.createElement("g",{fill:"#FFF",fillRule:"nonzero"},K.createElement("path",{d:"m10.263 4.52-.283.283a.2.2 0 0 1-.283 0L8 3.105 6.303 4.803a.2.2 0 0 1-.283 0l-.283-.283a.2.2 0 0 1 0-.283l1.98-1.98a.4.4 0 0 1 .503-.051l.063.051 1.98 1.98a.2.2 0 0 1 0 .283ZM5.737 11.473l.283-.283a.2.2 0 0 1 .283 0L8 12.888l1.697-1.698a.2.2 0 0 1 .283 0l.283.283a.2.2 0 0 1 0 .283l-1.98 1.98a.4.4 0 0 1-.503.05l-.063-.05-1.98-1.98a.2.2 0 0 1 0-.283ZM11.48 10.263l-.283-.283a.2.2 0 0 1 0-.283L12.895 8l-1.698-1.697a.2.2 0 0 1 0-.283l.283-.283a.2.2 0 0 1 .283 0l1.98 1.98a.4.4 0 0 1 .051.503l-.051.063-1.98 1.98a.2.2 0 0 1-.283 0ZM4.546 5.737l.282.283a.2.2 0 0 1 0 .283L3.131 8l1.697 1.697a.2.2 0 0 1 0 .283l-.282.283a.2.2 0 0 1-.283 0l-1.98-1.98a.4.4 0 0 1-.051-.503l.05-.063 1.98-1.98a.2.2 0 0 1 .284 0Z"}),K.createElement("path",{d:"M8.4 3v4.7h4.7v.8H8.4V13h-.8V8.5H3.1v-.8l4.5-.001V3h.8Z"}))))})),b("more-btn",(function(e){return K.createElement("svg",Cr({viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),wr||(wr=K.createElement("g",{fill:"none",fillRule:"evenodd"},K.createElement("path",{d:"M0 0h14v14H0z"}),K.createElement("circle",{fill:"#FFF",cx:2.8,cy:7,r:1}),K.createElement("circle",{fill:"#FFF",cx:11.2,cy:7,r:1}),K.createElement("circle",{fill:"#FFF",cx:7,cy:7,r:1}))))})),b("copy-btn",(function(e){return K.createElement("svg",Er({viewBox:"0 0 15 15",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),yr||(yr=K.createElement("path",{d:"M11 1.6a2.4 2.4 0 0 1 2.394 2.236L13.4 4v5a2.4 2.4 0 0 1-2.236 2.394L11 11.4l-.633.001A2.4 2.4 0 0 1 8 13.4H4A2.4 2.4 0 0 1 1.6 11V6A2.4 2.4 0 0 1 4 3.6h.632a2.392 2.392 0 0 1 2.195-1.994L6.99 1.6H11ZM8 4.4H4A1.6 1.6 0 0 0 2.4 6v5A1.6 1.6 0 0 0 4 12.6h4A1.6 1.6 0 0 0 9.6 11V6A1.6 1.6 0 0 0 8 4.4Zm-2.2 5.7c.11 0 .2.09.2.2v.4a.2.2 0 0 1-.2.2H3.717a.2.2 0 0 1-.2-.2v-.4c0-.11.09-.2.2-.2H5.8ZM11 2.4H6.99c-.743 0-1.368.51-1.542 1.2H8A2.4 2.4 0 0 1 10.4 6l-.001 4.6H11a1.6 1.6 0 0 0 1.593-1.454L12.6 9V4a1.6 1.6 0 0 0-1.454-1.593L11 2.4ZM8.3 8.1c.11 0 .2.09.2.2v.4a.2.2 0 0 1-.2.2H3.717a.2.2 0 0 1-.2-.2v-.4c0-.11.09-.2.2-.2H8.3Zm0-2c.11 0 .2.09.2.2v.4a.2.2 0 0 1-.2.2H3.717a.2.2 0 0 1-.2-.2v-.4c0-.11.09-.2.2-.2H8.3Z",fill:"#FFF",fillRule:"nonzero"})))})),b("delete-btn",(function(e){return K.createElement("svg",xr({viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),Sr||(Sr=K.createElement("path",{d:"M9.25 1.1a.4.4 0 0 1 .392.32l.008.08v1.153h3.15c.11 0 .2.09.2.2v.4a.2.2 0 0 1-.2.2h-1.65v7.044a2.4 2.4 0 0 1-2.236 2.395l-.164.005h-3.5a2.4 2.4 0 0 1-2.394-2.235l-.006-.165-.001-7.044H1.2a.2.2 0 0 1-.2-.2v-.4c0-.11.09-.2.2-.2h3.149L4.35 1.5a.4.4 0 0 1 .32-.392l.08-.008h4.5Zm1.1 2.353H3.649l.001 7.044a1.6 1.6 0 0 0 1.454 1.594l.146.006h3.5a1.6 1.6 0 0 0 1.593-1.454l.007-.146V3.453ZM4.816 4.997l.4.006a.2.2 0 0 1 .198.202l-.065 5.1a.2.2 0 0 1-.202.198l-.4-.006a.2.2 0 0 1-.198-.202l.065-5.1a.2.2 0 0 1 .202-.198Zm2 0 .4.006a.2.2 0 0 1 .198.202l-.065 5.1a.2.2 0 0 1-.202.198l-.4-.006a.2.2 0 0 1-.198-.202l.065-5.1a.2.2 0 0 1 .202-.198Zm2 0 .4.006a.2.2 0 0 1 .198.202l-.065 5.1a.2.2 0 0 1-.202.198l-.4-.006a.2.2 0 0 1-.198-.202l.065-5.1a.2.2 0 0 1 .202-.198ZM8.85 1.9h-3.7v.753h3.7V1.9Z"})))})),b("up-btn",(function(e){return K.createElement("svg",kr({viewBox:"0 0 28 29",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",className:"icon"},e),Or||(Or=K.createElement("defs",null,K.createElement("radialGradient",{cx:"69.986%",cy:"19.319%",fx:"69.986%",fy:"19.319%",r:"49.554%",gradientTransform:"scale(-1 -.71033) rotate(-39.868 -.641 1.89)",id:"up-btn_svg__e"},K.createElement("stop",{stopColor:"#FFF",offset:"0%"}),K.createElement("stop",{stopColor:"#FFF",stopOpacity:0,offset:"100%"})),K.createElement("radialGradient",{cx:"77.918%",cy:"13.589%",fx:"77.918%",fy:"13.589%",r:"45.882%",id:"up-btn_svg__j"},K.createElement("stop",{stopColor:"#FFF",offset:"0%"}),K.createElement("stop",{stopColor:"#FFF",stopOpacity:0,offset:"100%"})),K.createElement("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"up-btn_svg__a"},K.createElement("stop",{stopColor:"#0752E9",offset:"0%"}),K.createElement("stop",{stopColor:"#2468F2",offset:"100%"})),K.createElement("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"up-btn_svg__g"},K.createElement("stop",{stopColor:"#0752E9",offset:"0%"}),K.createElement("stop",{stopColor:"#2468F2",offset:"100%"})),K.createElement("filter",{x:"-75%",y:"-75%",width:"250%",height:"250%",filterUnits:"objectBoundingBox",id:"up-btn_svg__c"},K.createElement("feGaussianBlur",{stdDeviation:7,in:"SourceGraphic"})),K.createElement("filter",{x:"-100%",y:"-100%",width:"300%",height:"300%",filterUnits:"objectBoundingBox",id:"up-btn_svg__h"},K.createElement("feGaussianBlur",{stdDeviation:2,in:"SourceGraphic"})),K.createElement("circle",{id:"up-btn_svg__f",cx:3,cy:2.5,r:2.5}),K.createElement("path",{d:"m8 0 .335.276a13.981 13.981 0 0 1 5.075 11.687c1.592 1.198 2.59 3.019 2.59 5.35 0 1.991-.727 3.812-1.93 5.212l-.72-2.16a3 3 0 0 0-2.846-2.051H5.496a3 3 0 0 0-2.846 2.051l-.72 2.16A7.969 7.969 0 0 1 0 17.314c0-2.332.998-4.153 2.59-5.352A13.977 13.977 0 0 1 7.665.276L8 0Z",id:"up-btn_svg__b"}))),Nr||(Nr=K.createElement("g",{fill:"none",fillRule:"evenodd"},K.createElement("path",{d:"M14 5c7.732 0 14 6.268 14 14 0 3.728-1.457 7.116-3.834 9.625A6.967 6.967 0 0 1 20 30a6.976 6.976 0 0 1-2.799-.582 10.339 10.339 0 0 1-2.974 3.889l-.113.09-.114.088a10.34 10.34 0 0 1-3.201-4.068A6.963 6.963 0 0 1 8 30c-1.56 0-3.002-.51-4.166-1.374A13.954 13.954 0 0 1 0 19C0 11.268 6.268 5 14 5Z",fill:"url(#up-btn_svg__a)",transform:"translate(0 -5)"}),K.createElement("g",{transform:"translate(6 1.5)"},K.createElement("mask",{id:"up-btn_svg__d",fill:"#fff"},K.createElement("use",{xlinkHref:"#up-btn_svg__b"})),K.createElement("use",{fill:"#F2F2FF",xlinkHref:"#up-btn_svg__b"}),K.createElement("circle",{fill:"#2468F2",filter:"url(#up-btn_svg__c)",mask:"url(#up-btn_svg__d)",cx:19,cy:-2,r:14}),K.createElement("path",{d:"m8 0 .335.276a13.981 13.981 0 0 1 5.075 11.687c1.592 1.198 2.59 3.019 2.59 5.35 0 1.991-.727 3.812-1.93 5.212l-.72-2.16a3 3 0 0 0-2.662-2.046l-.184-.005H5.496a3 3 0 0 0-2.783 1.879l-.063.172-.72 2.16A7.969 7.969 0 0 1 0 17.314c0-2.332.998-4.153 2.59-5.352A13.977 13.977 0 0 1 7.497.416L8 0Zm0 .647-.179.15a13.472 13.472 0 0 0-4.75 10.762l.018.372.017.268-.215.162C1.354 13.52.5 15.226.5 17.314c0 1.39.38 2.72 1.077 3.874l.178.28.425-1.275.069-.187a3.5 3.5 0 0 1 3.043-2.186l.204-.006h5.024l.198.006a3.5 3.5 0 0 1 3.04 2.205l.067.182.42 1.261.012-.017a7.459 7.459 0 0 0 1.236-3.818l.007-.32c0-1.992-.778-3.638-2.185-4.79l-.205-.16-.215-.163.016-.268A13.478 13.478 0 0 0 8.303.904L8 .647Z",fillOpacity:.7,fill:"url(#up-btn_svg__e)",mask:"url(#up-btn_svg__d)"})),K.createElement("g",{transform:"translate(11 6.814)"},K.createElement("mask",{id:"up-btn_svg__i",fill:"#fff"},K.createElement("use",{xlinkHref:"#up-btn_svg__f"})),K.createElement("use",{fill:"url(#up-btn_svg__g)",xlinkHref:"#up-btn_svg__f"}),K.createElement("path",{fill:"#2468F2",filter:"url(#up-btn_svg__h)",mask:"url(#up-btn_svg__i)",d:"M3-3h6v6H3z"})),K.createElement("path",{d:"M8 11.314a2.5 2.5 0 1 1 0 5 2.5 2.5 0 0 1 0-5Zm0 .5a2 2 0 1 0 0 4 2 2 0 0 0 0-4Z",fillOpacity:.7,fill:"url(#up-btn_svg__j)",transform:"translate(6 -4.5)"}))))})),b("clear-btn",(function(e){return K.createElement("svg",Pr({className:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},e),Fr||(Fr=K.createElement("path",{d:"M452.225 146.9 111.637 487.488a33.223 33.223 0 0 1-47.132 0c-13.073-13.073-12.9-34.059 0-47.132L405.093 99.768a33.223 33.223 0 0 1 47.132 0 33.223 33.223 0 0 1 0 47.132zM924.232 618.735 583.644 959.323a33.223 33.223 0 0 1-47.132 0c-13.073-13.073-12.901-34.06 0-47.132L877.1 571.603a33.223 33.223 0 0 1 47.132 0c13.073 13.073 12.9 34.23 0 47.132zM451.193 620.799 348.157 723.835a33.223 33.223 0 0 1-47.132 0c-13.073-13.073-12.901-34.058 0-47.131L404.06 573.667a33.223 33.223 0 0 1 47.132 0c13.073 13.073 13.073 34.23 0 47.132zM298.444 524.987l-74.654 74.654a33.223 33.223 0 0 1-47.132 0c-13.073-13.073-12.9-34.059 0-47.132l74.655-74.654a33.223 33.223 0 0 1 47.131 0c12.902 13.073 12.902 34.231 0 47.132zM545.285 772l-74.654 74.653a33.223 33.223 0 0 1-47.132 0c-13.073-13.073-12.901-34.058 0-47.131l74.654-74.655a33.223 33.223 0 0 1 47.132 0 33.223 33.223 0 0 1 0 47.132z"})),Ar||(Ar=K.createElement("path",{d:"M536.34 959.323 64.505 487.66a33.223 33.223 0 0 1 0-47.132c13.073-13.073 34.06-12.9 47.132 0l471.835 471.835a33.223 33.223 0 0 1 0 47.132c-13.073 12.9-34.059 12.9-47.132-.172zM732.264 763.57 260.43 291.737a33.223 33.223 0 0 1 0-47.132c13.073-13.073 34.06-12.901 47.132 0L779.224 716.44a33.223 33.223 0 0 1 0 47.132c-12.901 13.073-34.059 12.9-46.96 0zM912.363 219.49 804.682 111.637a33.223 33.223 0 0 1 0-47.132c13.073-13.073 34.059-12.9 47.132 0l107.68 107.853a33.223 33.223 0 0 1 0 47.132c-13.072 13.073-34.23 13.073-47.131 0zM587.256 328.719 405.437 146.9a33.223 33.223 0 0 1 0-47.132c13.073-13.073 34.06-12.9 47.132 0L634.56 281.76a33.223 33.223 0 0 1 0 47.132c-13.073 12.901-34.23 12.901-47.304-.172zM877.1 618.563l-181.819-181.82a33.223 33.223 0 0 1 0-47.131c13.073-13.073 34.059-12.901 47.132 0l181.99 181.99a33.223 33.223 0 0 1 0 47.133c-13.072 12.9-34.23 12.9-47.303-.172z"})),Mr||(Mr=K.createElement("path",{d:"M959.323 219.49 742.24 436.572a33.223 33.223 0 0 1-47.132 0c-13.073-13.073-12.901-34.059 0-47.132l217.082-217.082a33.223 33.223 0 0 1 47.132 0c13.073 12.901 13.073 34.059 0 47.132zM851.642 111.637 634.388 328.72a33.223 33.223 0 0 1-47.132 0c-13.073-13.073-12.9-34.059 0-47.132L804.51 64.505a33.223 33.223 0 0 1 47.132 0c13.073 13.073 12.9 34.06 0 47.132z"})))})),b("open-btn",ma),b("merge-icon",(function(e){return K.createElement("svg",Br({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),Dr||(Dr=K.createElement("g",{fillRule:"evenodd"},K.createElement("rect",{x:1,y:1,width:22,height:3,rx:1.5}),K.createElement("rect",{x:1,y:7,width:22,height:3,rx:1.5}),K.createElement("rect",{x:1,y:20,width:22,height:3,rx:1.5}),K.createElement("path",{d:"m12.376 17.07 2.398-2.74a.5.5 0 0 0-.376-.83H9.602a.5.5 0 0 0-.376.83l2.398 2.74a.5.5 0 0 0 .752 0Z"}))))})),b("cancel-icon",(function(e){return K.createElement("svg",Tr({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),jr||(jr=K.createElement("g",{fillRule:"evenodd"},K.createElement("path",{d:"M9 10.333v-3h12V4H9V1h13a2 2 0 0 1 2 2v5.333a2 2 0 0 1-1.85 1.995l-.15.005H9ZM2 1h7v3H0V3a2 2 0 0 1 2-2Z"}),K.createElement("path",{d:"M2 1h1v9.333H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2ZM2 13.667h1V23H2a2 2 0 0 1-2-2v-5.333a2 2 0 0 1 2-2ZM6 1h3v9.333H6zM6 13.667h3V23H6zM21 13.667h1a2 2 0 0 1 2 2V21a2 2 0 0 1-2 2h-1v-9.333Z"}),K.createElement("path",{d:"M0 7.333h9v3H2a2 2 0 0 1-2-2v-1ZM9 13.667h13a2 2 0 0 1 2 2v1H9v-3ZM2 13.667h7v3H0v-1a2 2 0 0 1 2-2ZM9 20h15v1a2 2 0 0 1-2 2H9v-3ZM0 20h9v3H2a2 2 0 0 1-2-2v-1Z"}))))})),b("copy-icon",(function(e){return K.createElement("svg",Lr({viewBox:"0 0 24 23",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),Hr||(Hr=K.createElement("g",{fillRule:"evenodd"},K.createElement("rect",{x:1.5,y:7.5,width:15,height:14,rx:2}),K.createElement("path",{d:"M6 2a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4v-2.6h3v-12H9V6H6V2Z",fillRule:"nonzero"}))))})),b("delete-icon",(function(e){return K.createElement("svg",$r({viewBox:"0 0 24 23",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),zr||(zr=K.createElement("g",{fillRule:"evenodd"},K.createElement("path",{opacity:.66,d:"M11 9.5v9H8v-9zM16 9.5v9h-3v-9z"}),K.createElement("path",{d:"M16 0a2 2 0 0 1 2 2v3h4.5a1.5 1.5 0 0 1 0 3H21v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8H1.5a1.5 1.5 0 0 1 0-3H6V2a2 2 0 0 1 2-2h8Zm2 8H6v12h12V8Zm-3-5H9v2h6V3Z",fillRule:"nonzero",opacity:.6}))))})),b("fixed-icon",(function(e){return K.createElement("svg",_r({fill:"currentColor",viewBox:"0 0 1024 1024","data-spm-anchor-id":"a1z1go8z.25060599.0.i11.71e369e4cItcn5",className:"icon"},e),Kr||(Kr=K.createElement("path",{d:"m750.848 28.928 245.248 242.944a66.048 66.048 0 1 1-93.184 93.184l-25.6-19.456-249.6 353.792 78.336 78.336a66.048 66.048 0 0 1-93.184 92.672l-460.8-464.64a66.048 66.048 0 0 1 93.184-93.184l76.8 78.336 354.048-249.856-18.176-18.944a66.048 66.048 0 1 1 93.184-93.184zM380.672 732.416l-91.904-90.88c-74.24 89.6-191.488 219.904-212.736 247.04a419.84 419.84 0 0 0-70.656 128 419.84 419.84 0 0 0 128-70.144c27.136-21.248 157.44-138.496 246.528-214.016z","data-spm-anchor-id":"a1z1go8z.25060599.0.i9.71e369e4cItcn5"})))})),b("no-fixed-icon",(function(e){return K.createElement("svg",Wr({fill:"currentColor",viewBox:"0 0 1024 1024","data-spm-anchor-id":"a1z1go8z.25060599.0.i10.71e369e4cItcn5",className:"icon"},e),Vr||(Vr=K.createElement("path",{d:"M160.256 816.64C116.224 872.448 102.4 921.6 102.4 921.6s49.152-13.824 104.96-57.856c22.016-17.408 128-112.64 200.704-174.08l-73.728-73.728c-61.44 72.704-157.184 178.688-174.08 200.704zm488.448-607.232-206.336 145.92 226.304 226.304 145.92-206.336 15.872 15.872c20.992 20.992 54.784 20.992 75.776 0s20.992-54.784 0-75.776l-197.12-197.12c-20.992-20.992-54.784-20.992-75.776 0-20.992 20.992-20.992 54.784 0 75.776l15.36 15.36zm-400.896 125.44c-9.728 2.048-18.944 6.656-26.624 14.336-20.992 20.992-20.992 54.784 0 75.776L599.04 802.816c20.992 20.992 54.784 20.992 75.776 0 7.68-7.68 12.288-16.896 14.336-26.624L247.808 334.848z","data-spm-anchor-id":"a1z1go8z.25060599.0.i12.71e369e4cItcn5"})),Ur||(Ur=K.createElement("path",{d:"M840.704 879.104c-9.728 0-19.456-3.584-27.136-11.264l-657.92-657.408c-14.848-14.848-14.848-39.424 0-54.272 14.848-14.848 39.424-14.848 54.272 0l657.92 657.92c14.848 14.848 14.848 39.424 0 54.272-7.168 7.168-16.896 10.752-27.136 10.752z","data-spm-anchor-id":"a1z1go8z.25060599.0.i13.71e369e4cItcn5"})))})),b("editor-shortcut",(function(e){return K.createElement("svg",ja({className:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},e),Ba||(Ba=K.createElement("path",{d:"M32 160h960v704H32V160zm64 64v576h832V224H96zm64 160h96v64h-96v-64zm0-96h64v64h-64v-64zm128 96h64v64h-64v-64zm-32-96h64v64h-64v-64zm128 96h64v64h-64v-64zm-32-96h64v64h-64v-64zm128 96h64v64h-64v-64zm-32-96h64v64h-64v-64zm128 96h64v64h-64v-64zm-32-96h64v64h-64v-64zm128 96h64v64h-64v-64zm96 0h96v64h-96v-64zm-128-96h64v64h-64v-64zm96 0h128v64H736v-64zM160 480h128v64H160v-64zm160 0h64v64h-64v-64zm96 0h64v64h-64v-64zm96 0h64v64h-64v-64zm96 0h64v64h-64v-64zm96 0h160v64H704v-64zm-544 96h160v64H160v-64zm192 0h64v64h-64v-64zm96 0h64v64h-64v-64zm96 0h64v64h-64v-64zm96 0h224v64H640v-64zm-480 96h128v64H160v-64zm576 0h128v64H736v-64zm-416 0h384v64H320v-64z",fill:"currentColor"})))})),b("display-inline",(function(e){return K.createElement("svg",Zn({viewBox:"0 0 20 8",className:"icon"},e),Wn||(Wn=K.createElement("path",{d:"M14.814 6.25c.258.248.567.435.927.56s.76.19 1.18.19c.29 0 .51-.014.68-.042.167-.028.34-.07.53-.123.143-.04.28-.09.41-.146l.41-.19V5.13h-.153c-.07.06-.157.134-.265.22a3.337 3.337 0 0 1-.35.237 2.11 2.11 0 0 1-.484.22 1.798 1.798 0 0 1-1.1-.01 1.403 1.403 0 0 1-.523-.3 1.566 1.566 0 0 1-.38-.57c-.1-.24-.152-.54-.152-.9 0-.346.048-.638.14-.878s.217-.437.368-.58c.16-.155.33-.26.52-.33a1.786 1.786 0 0 1 1.117-.013c.165.055.317.124.458.205a4.385 4.385 0 0 1 .643.47h.17V1.52c-.107-.05-.23-.107-.37-.168a3.613 3.613 0 0 0-1.003-.27 4.736 4.736 0 0 0-.65-.04c-.436 0-.837.07-1.205.207s-.674.33-.923.59c-.26.26-.458.58-.59.95S14 3.57 14 4.02c0 .488.07.918.213 1.29s.343.683.6.933zm-3.264.608c.272-.075.52-.2.75-.377a1.5 1.5 0 0 0 .46-.56 1.72 1.72 0 0 0 .17-.77c0-.4-.11-.72-.332-.96-.22-.244-.52-.404-.896-.48v-.04a1.46 1.46 0 0 0 .623-.516c.147-.22.22-.474.22-.763 0-.25-.052-.47-.16-.66a1.152 1.152 0 0 0-.49-.46 2.06 2.06 0 0 0-.64-.212A7.67 7.67 0 0 0 10.237 1H8v5.97h2.515c.418 0 .763-.037 1.035-.112zM9.478 2.095h.14c.29 0 .517.002.678.006.162.01.296.03.404.07a.46.46 0 0 1 .253.23.69.69 0 0 1 .072.298.85.85 0 0 1-.062.34.492.492 0 0 1-.263.24 1.052 1.052 0 0 1-.39.08c-.166.006-.366.01-.6.01h-.232v-1.27zm.108 3.78h-.108V4.388h.324c.222 0 .434 0 .638.004a1.8 1.8 0 0 1 .48.056c.17.05.29.127.36.23.07.104.106.25.106.44 0 .144-.03.272-.087.383s-.17.2-.32.27-.32.1-.5.11c-.18.004-.48.004-.9.004zm-6.64-.106h2.187l.41 1.2h1.574L4.935 1.03H3.182L1 6.97h1.535l.412-1.2zM4.04 2.55l.727 2.13H3.313l.727-2.13z"})))})),b("display-block",(function(e){return K.createElement("svg",Xn({viewBox:"0 0 22 14",className:"icon"},e),qn||(qn=K.createElement("path",{opacity:.15,d:"M19 3v8H3V3h16m1-1H2v10h18V2z"})),Yn||(Yn=K.createElement("path",{d:"M19.8 1H2.2A1.2 1.2 0 0 0 1 2.2v9.6A1.2 1.2 0 0 0 2.2 13h17.6a1.2 1.2 0 0 0 1.2-1.2V2.2A1.2 1.2 0 0 0 19.8 1zm.2 11H2V2h18v10z"})),Jn||(Jn=K.createElement("path",{opacity:.35,d:"M3 3h16v8H3z"})))})),b("display-inline-block",(function(e){return K.createElement("svg",tr({viewBox:"0 0 28 14",className:"icon"},e),Gn||(Gn=K.createElement("path",{d:"M25 3v8H3V3h22m1-1H2v10h24V2z",opacity:.15})),Qn||(Qn=K.createElement("path",{opacity:.35,d:"M8.418 9.8H7.66L7.25 11h1.58l-.232-.676-.18-.525zM3 11h.567l2.916-7.94h3.15L11 6.78V3H3v8zm15.12-1.002a3.302 3.302 0 0 1-.48-.586c-.173.343-.42.653-.73.888.002 0 .004-.002.005-.003l-.008.006.003-.003a3.145 3.145 0 0 1-1.092.55c-.4.11-.825.15-1.303.15h6.017a4.416 4.416 0 0 1-1.12-.215 3.51 3.51 0 0 1-1.292-.787zM14.237 3c.49 0 .853.014 1.167.06.335.05.656.16.953.314h.003l.004.003c.365.19.694.492.898.866.13.234.197.49.24.747.16-.298.343-.58.578-.82v-.002c.358-.366.8-.643 1.287-.826a4.373 4.373 0 0 1 1.557-.272 5.67 5.67 0 0 1 1.442.18l.01.002.01.003c.205.06.4.126.59.208.15.064.283.125.407.185l.562.274v3.016h-1.54l-.28-.24a7.018 7.018 0 0 0-.233-.188 2.703 2.703 0 0 0-.26-.175 1.594 1.594 0 0 0-.277-.125h-.006l-.2-.03a.772.772 0 0 0-.26.042l-.16.102a.63.63 0 0 0-.13.22 1.486 1.486 0 0 0-.075.516c0 .266.04.436.074.513a.59.59 0 0 0 .13.212l.15.09h.003a.868.868 0 0 0 .265.045l.236-.037h.008a1.04 1.04 0 0 0 .25-.113l.007-.004.01-.005.24-.16a6.41 6.41 0 0 0 .216-.17l.285-.254h1.536v3.017l-.59.266c-.15.066-.292.13-.422.184a4.19 4.19 0 0 1-.53.19 5.918 5.918 0 0 1-.636.15c-.076.012-.16.02-.24.026H25V3H14.237z"})),er||(er=K.createElement("path",{d:"M25.8 1H2.2A1.2 1.2 0 0 0 1 2.2v9.6A1.2 1.2 0 0 0 2.2 13h23.6a1.2 1.2 0 0 0 1.2-1.2V2.2A1.2 1.2 0 0 0 25.8 1zm.2 11H2V2h24v10zm-7.186-2.72c.258.248.567.435.927.56s.76.19 1.18.19c.29 0 .51-.014.68-.042.167-.028.34-.07.53-.123.143-.04.28-.09.41-.146l.412-.19V8.16h-.154c-.07.06-.157.134-.265.22a3.337 3.337 0 0 1-.35.237 2.11 2.11 0 0 1-.485.22 1.798 1.798 0 0 1-1.1-.01 1.403 1.403 0 0 1-.523-.3c-.15-.14-.28-.33-.38-.57a2.36 2.36 0 0 1-.152-.9c0-.347.047-.64.14-.88s.216-.433.367-.58c.157-.15.33-.26.517-.325a1.786 1.786 0 0 1 1.116-.014c.164.056.316.125.457.206a4.868 4.868 0 0 1 .644.466h.17V4.54a13.03 13.03 0 0 0-.367-.168 3.667 3.667 0 0 0-1.005-.27 4.736 4.736 0 0 0-.65-.04c-.436 0-.837.07-1.205.207s-.675.333-.924.59c-.26.262-.457.58-.59.95S18 6.6 18 7.055c0 .488.07.918.213 1.29s.343.683.6.933zm-3.264.607c.272-.076.52-.2.75-.38.195-.15.35-.338.46-.567.113-.23.17-.488.17-.778 0-.4-.11-.722-.332-.967-.22-.245-.52-.406-.896-.484v-.03a1.46 1.46 0 0 0 .623-.51 1.36 1.36 0 0 0 .22-.77c0-.25-.052-.47-.16-.665a1.15 1.15 0 0 0-.49-.465 2.065 2.065 0 0 0-.64-.215A7.67 7.67 0 0 0 14.237 4H12v6h2.515c.418 0 .763-.037 1.035-.113zM13.478 5.1h.14c.29 0 .517.002.678.006s.296.027.404.07c.12.05.206.123.253.223a.69.69 0 0 1 .072.29.86.86 0 0 1-.062.34c-.042.1-.13.18-.263.24a1.05 1.05 0 0 1-.39.08c-.166.007-.366.01-.6.01h-.233V5.1zm.108 3.8h-.108V7.405h.324c.222 0 .434 0 .638.004.203 0 .363.02.48.05.17.05.29.13.36.23s.106.25.106.44c0 .144-.03.272-.087.384s-.17.2-.32.27a1.257 1.257 0 0 1-.5.104c-.18.003-.48.004-.9.004zm-6.64-.1h2.187l.41 1.2h1.574L8.935 4.06H7.182L5 10h1.535l.412-1.2zM8.04 5.58l.727 2.13H7.313l.727-2.13z"})))})),b("display-flex",(function(e){return K.createElement("svg",dr({viewBox:"0 0 23 14",className:"icon"},e),nr||(nr=K.createElement("path",{d:"M21 2v10H2V2h19zm1-1H1v12h21V1z",opacity:.15})),rr||(rr=K.createElement("path",{d:"M1.2 0A1.2 1.2 0 0 0 0 1.2v11.6A1.2 1.2 0 0 0 1.2 14h20.6a1.2 1.2 0 0 0 1.2-1.2V1.2A1.2 1.2 0 0 0 21.8 0H1.2zM22 13H1V1h21v12z"})),ar||(ar=K.createElement("path",{opacity:.4,d:"M3 3h5v8H3z"})),or||(or=K.createElement("path",{d:"M4 4v6h3V4H4zm4-1v8H3V3h5z"})),ir||(ir=K.createElement("path",{opacity:.4,d:"M9 3h5v8H9z"})),sr||(sr=K.createElement("path",{d:"M10 4v6h3V4h-3zm4-1v8H9V3h5z"})),cr||(cr=K.createElement("path",{opacity:.4,d:"M15 3h5v8h-5z"})),lr||(lr=K.createElement("path",{d:"M16 4v6h3V4h-3zm4-1v8h-5V3h5z"})))})),b("back-up",(function(e){return K.createElement("svg",ua({viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",className:"icon"},e),la||(la=K.createElement("defs",null,K.createElement("linearGradient",{x1:"100%",y1:"101.089%",x2:"0%",y2:"-14.125%",id:"back-up_svg__c"},K.createElement("stop",{stopColor:"#FFF",offset:"0%"}),K.createElement("stop",{stopColor:"#FFF8F8",offset:"46.533%"}),K.createElement("stop",{stopColor:"#DDFEEB",offset:"100%"})),K.createElement("linearGradient",{x1:"100%",y1:"51.269%",x2:"0%",y2:"48.407%",id:"back-up_svg__f"},K.createElement("stop",{stopColor:"#FFF",offset:"0%"}),K.createElement("stop",{stopColor:"#FFF8F8",offset:"46.533%"}),K.createElement("stop",{stopColor:"#DDFEEB",offset:"100%"})),K.createElement("filter",{x:"-24.3%",y:"-19.2%",width:"148.6%",height:"153.6%",filterUnits:"objectBoundingBox",id:"back-up_svg__a"},K.createElement("feOffset",{dy:1,in:"SourceAlpha",result:"shadowOffsetOuter1"}),K.createElement("feGaussianBlur",{stdDeviation:1,in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),K.createElement("feColorMatrix",{values:"0 0 0 0 0.179423161 0 0 0 0 0.342133642 0 0 0 0 0.637515745 0 0 0 0.650991587 0",in:"shadowBlurOuter1"})),K.createElement("filter",{x:"-25%",y:"-125%",width:"150%",height:"450%",filterUnits:"objectBoundingBox",id:"back-up_svg__d"},K.createElement("feOffset",{dy:1,in:"SourceAlpha",result:"shadowOffsetOuter1"}),K.createElement("feGaussianBlur",{stdDeviation:1,in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),K.createElement("feColorMatrix",{values:"0 0 0 0 0.179423161 0 0 0 0 0.342133642 0 0 0 0 0.637515745 0 0 0 0.650991587 0",in:"shadowBlurOuter1"})),K.createElement("rect",{id:"back-up_svg__e",x:0,y:0,width:14,height:2,rx:1}),K.createElement("path",{d:"M15.962 12.004c.157.01.312.056.452.139l.101.07.095.082L23 18.322a1 1 0 0 1-1.32 1.498l-.094-.083-4.61-4.315.001 8.788c0 .466-.447.843-1 .843-.512 0-.935-.325-.993-.745l-.007-.098v-8.866l-4.372 4.393a1 1 0 0 1-1.497-1.32l.083-.095 6.004-6.027a.996.996 0 0 1 .648-.29h.119Z",id:"back-up_svg__b"}))),da||(da=K.createElement("g",{fill:"none",fillRule:"evenodd"},K.createElement("rect",{fill:"#2468F2",width:32,height:32,rx:16}),K.createElement("g",{fillRule:"nonzero"},K.createElement("use",{fill:"#000",filter:"url(#back-up_svg__a)",xlinkHref:"#back-up_svg__b"}),K.createElement("use",{fill:"url(#back-up_svg__c)",xlinkHref:"#back-up_svg__b"})),K.createElement("g",{transform:"translate(9 7.702)",fillRule:"nonzero"},K.createElement("use",{fill:"#000",filter:"url(#back-up_svg__d)",xlinkHref:"#back-up_svg__e"}),K.createElement("use",{fill:"url(#back-up_svg__f)",xlinkHref:"#back-up_svg__e"})))))})),b("down-arrow",ma),b("editor-search",(function(e){return K.createElement("svg",va({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),ha||(ha=K.createElement("path",{d:"M7.5 12A4.505 4.505 0 0 1 3 7.5C3 5.019 5.019 3 7.5 3S12 5.019 12 7.5 9.981 12 7.5 12Zm6.294 1.089-2.071-2.07A5.482 5.482 0 0 0 13 7.5C13 4.468 10.533 2 7.5 2A5.506 5.506 0 0 0 2 7.5C2 10.532 4.467 13 7.5 13a5.475 5.475 0 0 0 3.516-1.274l2.071 2.071.707-.708Z",fill:"currentColor",fillRule:"evenodd"})))})),b("editor-help",(function(e){return K.createElement("svg",ba({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),ga||(ga=K.createElement("path",{d:"m7.976 1 .241.003A7 7 0 1 1 7.977 1Zm.004 1-.225.005A6 6 0 1 0 7.98 2Zm.03 8.8a.6.6 0 1 1 .004 1.2.6.6 0 0 1-.005-1.2Zm-.024-6.787c1.3-.004 2.368 1.003 2.455 2.258l.007.18c.01.33-.07.742-.325 1.15-.258.414-.656.734-1.2.922l-.272.085c-.12.049-.144.159-.146.744v.407l-1 .003v-.296c.007-1.197.136-1.59.83-1.81l.12-.034c.406-.11.663-.3.82-.55.111-.18.16-.366.171-.51l.002-.102a1.453 1.453 0 0 0-2.9-.13l-.007.14-1 .002a2.453 2.453 0 0 1 2.445-2.46Z"})))})),b("editor-fixed",(function(e){return K.createElement("svg",Ea({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),ya||(ya=K.createElement("g",{fill:"none",fillRule:"evenodd"},K.createElement("path",{d:"M0 0h16v16H0z"}),K.createElement("path",{d:"m14.333 5.928-4.26-4.26a.572.572 0 0 0-.813 0L6.475 4.455A5.698 5.698 0 0 0 2.27 5.67a.574.574 0 0 0-.047.854l3.142 3.142-3.724 3.72a.273.273 0 0 0-.08.17l-.059.643c-.015.163.114.301.275.301.009 0 .017 0 .026-.002l.643-.059a.273.273 0 0 0 .17-.079l3.724-3.724 3.14 3.141a.572.572 0 0 0 .855-.046 5.711 5.711 0 0 0 1.214-4.209l2.785-2.785a.573.573 0 0 0 0-.81Zm-3.667 2.718-.424.423.066.595a4.494 4.494 0 0 1-.526 2.661L3.678 6.217a4.471 4.471 0 0 1 2.66-.526l.595.066.424-.424 2.311-2.312 3.311 3.311-2.313 2.314Zm0 0-.424.423.066.595a4.494 4.494 0 0 1-.526 2.661L3.678 6.217a4.471 4.471 0 0 1 2.66-.526l.595.066.424-.424 2.311-2.312 3.311 3.311-2.313 2.314Z",fill:"currentColor",fillRule:"nonzero"}))))})),b("editor-no-fixed",(function(e){return K.createElement("svg",Ca({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),wa||(wa=K.createElement("g",{fillRule:"nonzero",fill:"none"},K.createElement("path",{d:"M0 0h16v16H0z"}),K.createElement("path",{d:"m14.333 5.928-4.26-4.26a.572.572 0 0 0-.813 0L6.475 4.455A5.698 5.698 0 0 0 2.27 5.67a.574.574 0 0 0-.047.854l3.142 3.142-3.724 3.72a.273.273 0 0 0-.08.17l-.059.643c-.015.163.114.301.275.301.009 0 .017 0 .026-.002l.643-.059a.273.273 0 0 0 .17-.079l3.724-3.724 3.14 3.141a.572.572 0 0 0 .855-.046 5.711 5.711 0 0 0 1.214-4.209l2.785-2.785a.573.573 0 0 0 0-.81Zm-3.667 2.718-.424.423.066.595a4.494 4.494 0 0 1-.526 2.661L3.678 6.217a4.471 4.471 0 0 1 2.66-.526l.595.066.424-.424 2.311-2.312 3.311 3.311-2.313 2.314Z",fill:"currentColor"}))))})),b("editor-renderer",(function(e){return K.createElement("svg",xa({viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),Sa||(Sa=K.createElement("g",{fill:"none",fillRule:"evenodd"},K.createElement("path",{d:"M0 0h48v48H0z"}),K.createElement("g",{strokeWidth:1.25,stroke:"currentColor",strokeLinejoin:"round"},K.createElement("path",{d:"M16.701 16.702h5.848v5.848h-5.848zM25.456 16.702h5.848v5.848h-5.848zM16.701 25.451h5.848v5.848h-5.848zM25.456 25.451h5.848v5.848h-5.848z"})))))})),b("editor-outline",(function(e){return K.createElement("svg",Ra({viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),Ia||(Ia=K.createElement("g",{fill:"none",fillRule:"evenodd"},K.createElement("path",{d:"M0 0h48v48H0z"}),K.createElement("g",{transform:"translate(14 14)"},K.createElement("path",{d:"M0 0h20v20H0z"}),K.createElement("path",{stroke:"currentColor",strokeWidth:1.25,strokeLinecap:"round",d:"M3.121 5.625v11.25M3.121 10.625h2.5M3.121 16.875h2.5"}),K.createElement("circle",{fill:"currentColor",cx:3.125,cy:4.375,r:1.875}),K.createElement("path",{stroke:"currentColor",strokeWidth:1.25,strokeLinejoin:"round",d:"M8.747 3.125h8.728v2.5H8.747zM8.747 8.75h8.728v2.5H8.747zM8.747 14.375h8.728v2.5H8.747z"})))))})),b("editor-code",(function(e){return K.createElement("svg",Na({viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),Oa||(Oa=K.createElement("g",{fill:"none",fillRule:"evenodd"},K.createElement("path",{d:"M0 0h48v48H0z"}),K.createElement("path",{d:"M14 14h20v20H14z"}),K.createElement("path",{stroke:"currentColor",strokeWidth:1.25,strokeLinejoin:"round",d:"M16.5 17.75h15v12.5h-15z"}),K.createElement("path",{stroke:"currentColor",strokeWidth:1.25,strokeLinecap:"round",d:"m25.709 20.841-3.362 6.284"}),K.createElement("path",{stroke:"currentColor",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round",d:"m27.643 22.233 1.768 1.768-1.766 1.766M20.582 22.233l-1.768 1.768 1.766 1.766"}))))})),b("editor-common-config",(function(e){return K.createElement("svg",Fa({viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),ka||(ka=K.createElement("g",{fill:"none",fillRule:"evenodd"},K.createElement("path",{d:"M0 0h20v20H0z"}),K.createElement("path",{stroke:"currentColor",strokeWidth:1.25,strokeLinejoin:"round",d:"m10 1.25 7.578 4.375v8.75L10 18.75l-7.578-4.375v-8.75z"}),K.createElement("path",{stroke:"currentColor",strokeWidth:1.25,strokeLinecap:"round",d:"m5.824 7.826 3.955 2.418M14.054 7.826l-4.275 2.418M9.779 14.845v-4.601"}))))})),b("editor-double-arrow",(function(e){return K.createElement("svg",Ma({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),Aa||(Aa=K.createElement("path",{d:"m3.713 3.001 4.95 4.95-.003.003.003.003-4.95 4.95L3 12.194l4.24-4.24L3 3.714l.713-.713Zm3.997 0 4.95 4.948-.004.004.004.003-4.95 4.95-.713-.714 4.24-4.239-4.24-4.24L7.71 3Z",fill:"currentColor",fillRule:"evenodd"})))})),b("search-clear",(function(e){return K.createElement("svg",Da({viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),Pa||(Pa=K.createElement("g",{fill:"none",fillRule:"evenodd"},K.createElement("path",{d:"M6 12A6 6 0 1 1 6 0a6 6 0 0 1 0 12Z",fill:"currentColor"}),K.createElement("path",{fill:"#FFF",d:"M8.475 4.232 6.707 6l1.768 1.768-.707.707L6 6.707 4.232 8.475l-.707-.707L5.293 6 3.525 4.232l.707-.707L6 5.293l1.768-1.768z"}))))}));var Ta=function(e){function t(t){var n=e.call(this,t)||this;n.ref=_.createRef(),n.localStorageKey="amis-editor-search-panel",n.curTagFolded={},t.searchPanelUUID&&(n.localStorageKey=t.searchPanelUUID);var r=[],a={};if(t.allResult&&t.allResult.length>0){var o=n.getResultTags(t.allResult);r=o.curResultTags,a=o.curResultByTag}return n.state={resultTags:r,resultByTag:a,curKeyword:t.externalKeyword||"",searchResult:[],searchResultByTag:{},visible:!1,curKeywordSearchHistory:n.getSearchHistory(),toggleTagFolderStatus:!0},n}return D(t,e),t.prototype.componentDidMount=function(){var e,t;(null===(t=null===(e=this.ref.current)||void 0===e?void 0:e.childNodes[0])||void 0===t?void 0:t.childNodes[0])&&(this.curInputBox=this.ref.current.childNodes[0].childNodes[0],this.curInputBox.addEventListener("keyup",this.bindEnterEvent))},t.prototype.componentWillUnmount=function(){this.curInputBox&&this.curInputBox.removeEventListener("keyup",this.bindEnterEvent)},t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=this,n=e.externalKeyword,r=e.allResult;if(n!==this.state.curKeyword&&this.setState({curKeyword:n},(function(){t.groupedResultByKeyword(n)})),r!==this.props.allResult){var a=[],o={};if(r&&r.length>0){var i=this.getResultTags(r);a=i.curResultTags,o=i.curResultByTag}this.setState({resultTags:a,resultByTag:o})}},t.prototype.getSearchHistory=function(){var e=[];if(window.localStorage){var t=window.localStorage.getItem(this.localStorageKey);if(t){var n=JSON.parse(t);n&&Array.isArray(n)&&(e=n)}}return e},t.prototype.getResultTags=function(e){var t=[],n={},r=this.props.tagKey||"tags";return e.forEach((function(e){!je(e)&&e[r]&&(Array.isArray(e[r])?e[r].concat():e[r]?[e[r]]:[M("0d98c74797e49d00bcc4c17c9d557a2b")]).forEach((function(r){t.indexOf(r)<0&&t.push(r),n[r]||(n[r]=[]),n[r].push(e)}))})),{curResultTags:t,curResultByTag:n}},t.prototype.groupedResultByKeyword=function(e){var t=this.props.allResult,n=[],r={},a=e||this.state.curKeyword,o=this.props.tagKey||"tags",i={},s=a?new RegExp(Vt(a),"i"):null;t.forEach((function(t){if(je(t)&&s&&s.test(t))n.push(t);else if(!e||["name","description","scaffold.type"].some((function(e){return t[e]&&s&&s.test(t[e])}))){if(t[o])(Array.isArray(t[o])?t[o].concat():t[o]?[t[o]]:[M("0d98c74797e49d00bcc4c17c9d557a2b")]).forEach((function(e){r[e]=i[e]||[],r[e].push(t)}));else n.push(t)}})),this.setState({searchResult:n,searchResultByTag:r})},t.prototype.bindFocusEvent=function(){this.setState({visible:!0})},t.prototype.bindBlurEvent=function(){var e=this,t=this.state.curKeyword;this.setState({visible:!1},(function(){t&&e.addSearchHistory(t),e.props.onChange(t)}))},t.prototype.updateCurKeyword=function(e){var t=this,n=e;n=n?n.trim():n,this.setState({curKeyword:n},(function(){t.groupedResultByKeyword(n),t.props.immediateChange&&t.props.onChange(n)}))},t.prototype.changeTagFoldStatus=function(e,t){t.preventDefault(),t.stopPropagation(),this.curInputBox.focus(),this.curTagFolded[e]=!this.curTagFolded[e],this.setState({toggleTagFolderStatus:!this.state.toggleTagFolderStatus})},t.prototype.bindEnterEvent=function(e){var t=this;e.preventDefault();var n=this.state.curKeyword;13===(null==e?void 0:e.keyCode)&&this.setState({visible:!1},(function(){t.addSearchHistory(n),t.props.onChange(n)}))},t.prototype.bindClearActionEvent=function(){var e=this;this.setState({curKeyword:"",searchResult:[],searchResultByTag:{}},(function(){e.props.onChange("")}))},t.prototype.bindTagClickEvent=function(e){var t,n=this,r=this.state.resultByTag[e];this.setState({visible:!1,curKeyword:e,searchResult:r,searchResultByTag:(t={},t[e]=r,t)},(function(){n.props.onTagChange&&n.props.onTagChange(e)}))},t.prototype.addSearchHistory=function(e){var t=this.state.curKeywordSearchHistory;t.indexOf(e)>-1||(10===t.length?(t.shift(),t.push(e)):t.push(e),this.updateSearchHistory())},t.prototype.clickKeywordEvent=function(e){var t=this;this.setState({visible:!1,curKeyword:e},(function(){t.groupedResultByKeyword(e),t.props.onChange(e)}))},t.prototype.deleteSearchHistory=function(e,t){e.preventDefault(),e.stopPropagation(),this.curInputBox.focus();var n=this.state.curKeywordSearchHistory,r=n.indexOf(t);n.splice(r,1),this.updateSearchHistory()},t.prototype.clearSearchHistory=function(e){var t=this;e.preventDefault(),e.stopPropagation(),this.curInputBox.focus();var n=this.state.curKeywordSearchHistory;n&&n.length>0&&this.setState({curKeywordSearchHistory:[]},(function(){t.updateSearchHistory()}))},t.prototype.updateSearchHistory=function(){if(window.localStorage){var e=this.state.curKeywordSearchHistory;window.localStorage.setItem(this.localStorageKey,JSON.stringify(e))}},t.prototype.renderNameByKeyword=function(e,t){if(t&&~e.indexOf(t)){var n=e.indexOf(t),r=n+t.length;return _.createElement("span",null,e.substring(0,n),_.createElement("span",{className:"is-keyword"},t),e.substring(r))}return e},t.prototype.resultIsHasScroll=function(e,t){var n=this,r=0;return(e?Object.keys(e):[]).map((function(t){n.curTagFolded[t]?r+=1:r+=e[t].length+1})),r>t},t.prototype.render=function(){var e=this,t=this.props,n=t.allResult,a=t.closeAutoComplete,o=t.immediateChange,i=this.state,s=i.resultTags,c=i.curKeyword,l=i.searchResult,d=i.searchResultByTag,u=i.visible,p=d?Object.keys(d):[],f=H([],L(this.state.curKeywordSearchHistory),!1).reverse(),h=!1;return u&&n&&n.length>0&&(h=!0),a&&c&&(h=!1),a&&(!s||s&&0===s.length)&&(!f||f&&0===f.length)&&(h=!1),_.createElement("div",{className:"editor-InputSearch-panel",ref:this.ref},_.createElement(m,{className:"editor-InputSearch",value:c,onChange:this.updateCurKeyword,placeholder:M("2168c5735883bd040eaf09909d0911b8"),clearable:!1,onFocus:this.bindFocusEvent,onBlur:this.bindBlurEvent},_.createElement(_.Fragment,null,o&&(c?_.createElement(r,{icon:"search-clear",className:"icon delete-btn-icon",onClick:this.bindClearActionEvent}):_.createElement(r,{icon:"editor-search",className:"icon",onClick:this.bindBlurEvent})),!o&&_.createElement(_.Fragment,null,c&&_.createElement(r,{icon:"search-clear",className:"icon delete-btn-icon margin-right",onClick:this.bindClearActionEvent}),_.createElement(r,{icon:"editor-search",className:"icon",onClick:this.bindBlurEvent})))),_.createElement("div",{className:"editor-InputSearch-content ".concat(h?"":"hidden-status")},!c&&f&&f.length>0&&_.createElement("div",{className:"search-history ".concat(s&&s.length>0?"has-border-bottom":"")},_.createElement("div",{className:"header"},_.createElement("div",{className:"header-title"},"搜索历史"),_.createElement("div",{className:"header-clear-icon",onClick:function(t){return e.clearSearchHistory(t)}},"清空")),_.createElement("div",{className:"history-cont ".concat(f.length>6?"hasScrollBtn":"")},f.map((function(t,n){return _.createElement("div",{className:"history-item",key:"".concat(t,"-").concat(n),onClick:function(){return e.clickKeywordEvent(t)}},_.createElement("div",{className:"history-keyword"},t),_.createElement("div",{className:"delete-icon",title:"点击删除这条搜索记录"},_.createElement(r,{icon:"close",onClick:function(n){return e.deleteSearchHistory(n,t)}})))})))),c&&0===l.length&&0===p.length&&_.createElement("div",{className:"search-result-list"},_.createElement("div",{className:"search-result-placeholder"},"搜索结果为空，您可以换个关键字继续查找。")),c&&l.length>0&&_.createElement("div",{className:"search-result-list ".concat(l.length>6?"hasScrollBtn":"")},l.length>1&&_.createElement("div",{className:"subRenderers-list only-one-tag"},l.map((function(t,n){return _.createElement("div",{className:"subRenderers-item",key:"subRenderers-only-one-tag-".concat(n),onClick:function(){return e.clickKeywordEvent(t.name)}},t.name||t.type)})))),c&&p.length>0&&_.createElement("div",{className:"search-result-list ".concat(this.resultIsHasScroll(d,6)?"hasScrollBtn":"")},p.length>1&&p.map((function(t,n){return _.createElement("div",{className:"multiple-subRenderers-list",key:"".concat(t,"-subRenderers-list")},_.createElement("div",{className:U("subRenderers-header",{"is-folded":!!e.curTagFolded[t]}),title:e.curTagFolded[t]?M("e4cefe7df36e92da1d7e875b92655507"):M("7ae451de83aa6f5f140e941904377391"),onClick:function(n){e.changeTagFoldStatus(t,n)}},t,_.createElement(r,{icon:"right-arrow-bold"})),_.createElement("div",{className:U("subRenderers-list",{"is-folded":!!e.curTagFolded[t]})},d[t]&&d[t].map((function(t,n){return _.createElement("div",{className:"subRenderers-item",key:n,onClick:function(){return e.clickKeywordEvent(t.name)}},e.renderNameByKeyword(t.name,c))}))))})),1===p.length&&p.map((function(t,n){return _.createElement("div",{className:"subRenderers-list only-one-tag",key:"subRenderers-tag-".concat(t)},d[t]&&d[t].map((function(t,n){return _.createElement("div",{className:"subRenderers-item",key:"subRenderers-only-one-tag-".concat(n),onClick:function(){return e.clickKeywordEvent(t.name)}},t.name||t.type)})))}))),!c&&s&&s.length>0&&_.createElement("div",{className:"tag-list"},_.createElement("div",{className:"header"},"组件分类"),_.createElement("div",{className:"tag-list-cont"},s.length?s.map((function(t,n){return _.createElement("div",{className:"tag-item",key:"".concat(t,"-").concat(n),onClick:function(){return e.bindTagClickEvent(t)}},t)})):null))))},B([Rt,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",void 0)],t.prototype,"getSearchHistory",null),B([Rt,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",void 0)],t.prototype,"bindFocusEvent",null),B([Rt,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",void 0)],t.prototype,"bindBlurEvent",null),B([Rt,j("design:type",Function),j("design:paramtypes",[String]),j("design:returntype",void 0)],t.prototype,"updateCurKeyword",null),B([Rt,j("design:type",Function),j("design:paramtypes",[String,Object]),j("design:returntype",void 0)],t.prototype,"changeTagFoldStatus",null),B([Rt,j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",void 0)],t.prototype,"bindEnterEvent",null),B([Rt,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",void 0)],t.prototype,"bindClearActionEvent",null),B([Rt,j("design:type",Function),j("design:paramtypes",[String]),j("design:returntype",void 0)],t.prototype,"bindTagClickEvent",null),B([Rt,j("design:type",Function),j("design:paramtypes",[String]),j("design:returntype",void 0)],t.prototype,"addSearchHistory",null),B([Rt,j("design:type",Function),j("design:paramtypes",[String]),j("design:returntype",void 0)],t.prototype,"clickKeywordEvent",null),B([Rt,j("design:type",Function),j("design:paramtypes",[Object,String]),j("design:returntype",void 0)],t.prototype,"deleteSearchHistory",null),B([Rt,j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",void 0)],t.prototype,"clearSearchHistory",null),B([Rt,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",void 0)],t.prototype,"updateSearchHistory",null),B([Rt,j("design:type",Function),j("design:paramtypes",[String,String]),j("design:returntype",void 0)],t.prototype,"renderNameByKeyword",null),B([Rt,j("design:type",Function),j("design:paramtypes",[Object,Number]),j("design:returntype",void 0)],t.prototype,"resultIsHasScroll",null),t=B([de,j("design:paramtypes",[Object])],t)}(_.Component),Ha=function(e){function t(t){var n=e.call(this,t)||this;n.localStorageKey="amis-editor-renderer-search-history";var r=t.store.subRenderersByOrder;r=r.filter((function(e){return!e.disabledRendererPlugin}));var a=t.store,o=a.subRenderersKeywords,i=a.subRenderersTag;return n.state={subRenderersByOrder:r,defaultKeyword:o||i||""},n.lastSubRenderersTag=t.store.subRenderersTag,n.changeSubRenderersTag=n.changeSubRenderersTag.bind(n),n}return D(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=e.store.subRenderersTag,n=e.store.subRenderersKeywords;t===this.lastSubRenderersTag||n||(this.lastSubRenderersTag=t,this.setState({defaultKeyword:t}))},t.prototype.changeSubRenderersTag=function(e){this.lastSubRenderersTag=e,this.props.store.changeSubRenderersTag(e)},t.prototype.render=function(){var e=this.state,t=e.subRenderersByOrder,n=e.defaultKeyword,r=this.props.store.changeSubRenderersKeywords;return _.createElement(Ta,{allResult:t,externalKeyword:n,searchPanelUUID:this.localStorageKey,onChange:r,onTagChange:this.changeSubRenderersTag,immediateChange:!0,closeAutoComplete:!0})},t=B([de,j("design:paramtypes",[Object])],t)}(_.Component),La=function(e){function t(t){var n=e.call(this,t)||this;n.localStorageKey="amis-editor-custom-renderer-search-history";var r=t.store.customRenderersByOrder;r=r.filter((function(e){return!e.disabledRendererPlugin}));var a=t.store,o=a.customRenderersKeywords,i=a.customRenderersTag;return n.state={customRenderersByOrder:r,defaultKeyword:o||i||""},n}return D(t,e),t.prototype.render=function(){var e=this.state,t=e.customRenderersByOrder,n=e.defaultKeyword,r=this.props.store,a=r.changeCustomRenderersKeywords,o=r.changeCustomRenderersTag;return t&&t.length>0?_.createElement(Ta,{allResult:t,externalKeyword:n,searchPanelUUID:this.localStorageKey,onChange:a,onTagChange:o}):null},t=B([de,j("design:paramtypes",[Object])],t)}(_.Component),za=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={toggleCollapseFolderStatus:!1},t.curCollapseFolded={},t}return D(t,e),t.prototype.handleRegionFilterClick=function(e){var t=e.currentTarget.getAttribute("data-value"),n=this.props,r=n.store,a=n.manager;t=t===r.subRendererRegion?"":t,a.switchToRegion(t)},t.prototype.handleDragStart=function(e,t){var n=e.currentTarget.getAttribute("data-id");e.dataTransfer.setData('dnd-dom/[data-id="'.concat(n,'"]'),"")},t.prototype.handleClick=function(e){var t=e.currentTarget.getAttribute("data-dnd-id");this.props.manager.addElem(t)},t.prototype.changeCollapseFoldStatus=function(e,t){this.curCollapseFolded[e]=!this.curCollapseFolded[e],this.setState({toggleCollapseFolderStatus:!this.state.toggleCollapseFolderStatus}),t.preventDefault(),t.stopPropagation()},t.prototype.renderThumb=function(e){var t=this.props.manager;return e?i(e,{onAction:Ue},t.env):_.createElement("p",null,"没有预览图")},t.prototype.render=function(){var e=this,t=this.props,n=t.store,a=t.searchRendererType,o=t.className,i=this.props.groupedRenderers||{},s=Object.keys(i);return _.createElement("div",{className:U("ae-RendererList",o)},"renderer"===a&&_.createElement(Ha,{store:n}),"custom-renderer"===a&&_.createElement(La,{store:n}),_.createElement("hr",{className:"margin-top"}),_.createElement("div",{className:"ae-RendererList-groupWrap hoverShowScrollBar"},s.length?s.map((function(t,a){var o=i[t];return o&&o.length?_.createElement(_.Fragment,{key:t},_.createElement("div",{key:"".concat(t,"-head"),className:"ae-RendererList-head collapse-header",onClick:function(n){e.changeCollapseFoldStatus(t,n)}},t,_.createElement("div",{className:U("expander-icon",{"is-folded":!!e.curCollapseFolded[t]}),title:e.curCollapseFolded[t]?M("e4cefe7df36e92da1d7e875b92655507"):M("7ae451de83aa6f5f140e941904377391")},_.createElement(r,{icon:"right-arrow-bold"}))),_.createElement("div",{key:"".concat(t,"-content"),className:U("ae-RendererList-group collapse-content",{"is-folded":!!e.curCollapseFolded[t]})},o.map((function(t){var o="".concat(a,"_").concat(t.id),i=$t(t);return _.createElement("div",{key:o,className:"ae-RendererList-item",draggable:!0,"data-id":o,"data-dnd-type":"subrenderer","data-dnd-id":t.id,"data-dnd-data":JSON.stringify(t.scaffold||{type:t.type}),onDragStart:function(n){return e.handleDragStart(n,t.name)}},_.createElement("div",{className:"icon-box","data-dnd-id":t.id,title:"点击添加「".concat(t.name,"」"),onClick:e.handleClick},i&&_.createElement(r,{icon:t.pluginIcon}),!i&&_.createElement("i",{className:U("fa-fw",t.icon||"fa fa-circle-thin")})),_.createElement("div",{className:"ae-RendererInfo","data-dnd-id":t.id,onClick:e.handleClick},t.name),_.createElement(y,{tooltipClassName:"ae-RendererThumb",trigger:"hover",rootClose:!0,placement:"right",tooltip:{offset:[10,0],children:function(){return _.createElement("div",null,_.createElement("div",{className:"ae-Renderer-title"},t.name),t.description||t.docLink?_.createElement("div",{className:"ae-Renderer-info"},_.createElement(v,{html:t.description?t.description:""}),t.docLink&&_.createElement("a",{target:"_blank",href:n.amisDocHost+t.docLink},"详情")):null,_.createElement("div",{className:"ae-Renderer-preview"},e.renderThumb(t.previewSchema)))}}},_.createElement("div",{className:"ae-RendererIcon"},_.createElement(r,{icon:"editor-help",className:"icon"}))))})))):null})):_.createElement("span",null,"没有找到可用组件，您可以换个关键字继续查找。")))},B([Rt,j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",void 0)],t.prototype,"handleRegionFilterClick",null),B([Rt,j("design:type",Function),j("design:paramtypes",[Object,String]),j("design:returntype",void 0)],t.prototype,"handleDragStart",null),B([Rt,j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",void 0)],t.prototype,"handleClick",null),B([Rt,j("design:type",Function),j("design:paramtypes",[String,Object]),j("design:returntype",void 0)],t.prototype,"changeCollapseFoldStatus",null),t=B([de],t)}(_.Component),$a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return D(t,e),t.prototype.handleSelect=function(e){e&&this.props.store.changeRenderersTabsKey(e)},t.prototype.render=function(){var e=this.props,t=e.store,n=e.manager,r=t.renderersTabsKey||"base-renderers",a=t.theme,o=t.customRenderersByOrder||[],i=t.groupedSubRenderers||{},s=t.groupedCustomRenderers||{};return _.createElement("div",{className:"ae-RendererPanel"},_.createElement("div",{className:"panel-header"},"组件"),_.createElement("div",{className:"ae-RendererPanel-content"},t.showCustomRenderersPanel&&o.length>0&&_.createElement(E,{theme:a,tabsMode:"line",className:"ae-RendererList-tabs",linksClassName:"ae-RendererList-tabs-header",contentClassName:"ae-RendererList-tabs-content",activeKey:r,onSelect:this.handleSelect},_.createElement(w,{key:"base-renderers",eventKey:"base-renderers",title:M("5cb297585d4c81bb8fdbd31210a30d6f"),className:"ae-RendererList-tabs-panel base-renderers",mountOnEnter:!0,unmountOnExit:!1},_.createElement(za,{groupedRenderers:i,store:t,manager:n,searchRendererType:"renderer"})),_.createElement(w,{key:"custom-renderers",eventKey:"custom-renderers",title:M("6fce1c9aa3654ae2f0eedcc068a7e189"),className:"ae-RendererList-tabs-panel custom-renderers",mountOnEnter:!0,unmountOnExit:!1},_.createElement(za,{groupedRenderers:s,store:t,manager:n,searchRendererType:"custom-renderer"}))),(!t.showCustomRenderersPanel||Object.keys(s).length<1)&&_.createElement(za,{className:"only-base-component",groupedRenderers:i,store:t,manager:n,searchRendererType:"renderer"})))},B([Rt,j("design:type",Function),j("design:paramtypes",[String]),j("design:returntype",void 0)],t.prototype,"handleSelect",null),t=B([de],t)}(_.Component),Ka=he.model("EditorRoot",{isMobile:!1,isSubEditor:!1,amisDocHost:he.optional(he.string,"https://baidu.gitee.io"),root:he.optional(an,{id:"root",label:"Root"}),theme:"cxd",hoverId:"",hoverRegion:"",activeId:"",activeRegion:"",mouseMoveRegion:"",selections:he.optional(he.frozen(),[]),contextId:"",dragMode:"move",dragId:"",dragType:"",dragSchema:he.frozen(),dropId:"",dropRegion:"",planDropId:"",planDropRegion:"",insertId:"",insertRegion:"",insertRenderers:he.optional(he.frozen(),[]),insertRenderersKeywords:"",insertTag:M("a8b0c20416853bda54120bf19477ad11"),insertSelected:"",insertMode:"insert",insertOrigId:"",insertBeforeId:"",showInsertRenderer:!1,schema:he.frozen(),versionId:0,schemaHistory:he.optional(he.array(he.frozen()),[]),toolbars:he.optional(he.frozen(),[]),panels:he.optional(he.frozen(),[]),showCustomRenderersPanel:!1,renderersTabsKey:"base-renderers",subRenderers:he.optional(he.frozen(),[]),subRenderersKeywords:"",subRenderersTag:"",subRendererRegion:"",customRenderersKeywords:"",customRenderersTag:"",panelKey:"",leftPanelKey:"",leftPanelOpenStatus:!0,jsonSchemaUri:"",scaffoldForm:he.maybe(he.frozen()),scaffoldFormBuzy:!1,scaffoldError:"",popOverForm:he.maybe(he.frozen()),subEditorContext:he.maybe(he.frozen()),superEditorData:he.maybe(he.frozen()),calculateStarted:!1,targetNames:he.optional(he.array(he.frozen()),[]),ctx:he.frozen(),i18nEnabled:he.optional(he.boolean,!1),appLocale:he.optional(he.string,"zh-CN"),appCorpusData:he.optional(he.frozen(),{}),appLocaleState:he.optional(he.number,0)}).views((function(e){return{get filteredSchema(){var t,n,r;return Et(null!==(r=null===(n=(t=be(e)).schemaFilter)||void 0===n?void 0:n.call(t,e.schema))&&void 0!==r?r:e.schema)},get filteredSchemaForPreview(){var t,n,r,a=et(e.schema);return null!==(r=null===(n=(t=be(e)).schemaFilter)||void 0===n?void 0:n.call(t,a))&&void 0!==r?r:a},isRootSchema:function(e){var t=this.getSchema();return!(!t||t.$$id!==e)},getRootId:function(){var e=this.getSchema();return null==e?void 0:e.$$id},isHoved:function(t){return t&&e.hoverId===t},isActive:function(t){return t&&!this.dragging&&!e.insertOrigId&&e.insertBeforeId!==t&&e.activeId===t},isContextOn:function(t){return t&&e.contextId===t},get activeContainerId(){var t;if(!e.activeId)return"";for(var n=this.getNodeById(e.activeId);n;){if(n.childRegions.length||(null===(t=n.info)||void 0===t?void 0:t.regions))return n.id;n=n.host}return""},isRegionHighlighted:function(t,n){return!e.insertOrigId&&t===e.hoverId&&n===e.hoverRegion||t===e.activeId&&e.activeRegion===n||t===e.dropId&&e.dropRegion===n||!e.insertOrigId&&t===e.insertId&&e.insertRegion===n},isRegionHighlightHover:function(t,n){return t===e.hoverId&&n===e.mouseMoveRegion},isRegionActive:function(t,n){return this.isActive(t)||t===e.dropId||this.isRegionHighlighted(t,n)||this.isRegionHighlightHover(t,n)},isRegionDragEnter:function(t,n){return this.isRegionActive(t,n)&&n===e.dropRegion},get highlightNodes(){var t=this,n=[];!e.hoverId||e.dragId||e.contextId||e.activeId===e.hoverId&&!e.hoverRegion||e.selections.includes(e.hoverId)||n.push(e.hoverId),e.contextId&&n.push(e.contextId),!e.activeId&&!e.selections.length||e.dragId&&!this.draggableContainer(e.dragId)||e.insertOrigId||e.insertId||e.hoverId&&e.hoverRegion||(e.activeId?n.push(e.activeId):n.push.apply(n,e.selections));var r=this.parentIsFreeContainer(e.activeId);return r&&n.push(r),"insert"===e.insertMode&&e.insertId&&n.push(e.insertId),e.insertOrigId&&n.push(e.insertOrigId),e.dropId&&n.push(e.dropId),e.insertBeforeId&&n.push(e.insertBeforeId),n.filter((function(e,t,n){return e&&t===n.indexOf(e)})).map((function(e){return t.getNodeById(e)})).filter((function(e){return e}))},getNodeById:function(t,n){for(var r=e.root.children.concat();r.length;){var a=r.shift();if(a.id===t&&(!n||a.region===n||a.type===n))return a;a.children.length&&r.push.apply(r,a.children)}},get activeNodeInfo(){var t;return null===(t=this.getNodeById(e.activeId))||void 0===t?void 0:t.info},getSchema:function(t,n){return t?at(e.schema,t,n):e.schema},getSchemaParentById:function(t,n){return void 0===n&&(n=!1),ot(e.schema,t,n)},getSchemaPath:function(t){var n=rt(e.schema,t);return Array.isArray(n)?n.join("/"):""},getSimpleSchema:function(t){var n,r,a,o=et(t);return null!==(a=null===(r=(n=be(e)).schemaFilter)||void 0===r?void 0:r.call(n,o))&&void 0!==a?a:o},getPanelKey:function(){var t,n=e.panelKey;if("none"===n)return n;var r=this.getPanels();return we(r,(function(e){return n&&e.key===n}))?n:(null===(t=r[0])||void 0===t?void 0:t.key)||"none"},getLeftPanelKey:function(){var t=e.leftPanelKey;if(this.dragging)return"outline";if("none"===t)return t;var n=this.getLeftPanels();return we(n,(function(e){return t&&e.key===t}))?t:"renderers"},get leftPanels(){return e.panels.filter((function(e){return"left"===e.position}))},get rightPanels(){return e.panels.filter((function(e){return"left"!==e.position&&"contextmenu"!==e.key}))},get contextMenuPanel(){return e.panels.find((function(e){return"contextmenu"===e.key}))},getPanels:function(){return[].concat(this.rightPanels||[]).sort((function(e,t){return e.order-t.order}))},getLeftPanels:function(){var t=[].concat(this.leftPanels||[]);return e.insertId&&e.insertRegion&&t.push({key:"insert",icon:"fa fa-bolt",position:"left",title:"replace"===e.insertMode?M("1dd554cdfc1ddf7dce13453805523c16"):M("9bdb07e72d3a9a6084201a7398523f5a"),component:jn,order:9999}),t.push({key:"insertRenderer",icon:"fa fa-bolt",position:"left",title:M("a82240ce09faf0b972a8aa5c9e93d209"),component:$a,order:9999}),t.sort((function(e,t){return e.order-t.order}))},get sortedToolbars(){return e.toolbars.filter((function(e){return"secondary"!==e.level&&"special"!==e.level})).sort((function(e,t){return e.order-t.order}))},get sortedSecondaryToolbars(){return e.toolbars.filter((function(e){return"secondary"===e.level})).sort((function(e,t){return e.order-t.order}))},get sortedSpecialToolbars(){return e.toolbars.filter((function(e){return"special"===e.level})).sort((function(e,t){return e.order-t.order}))},get value(){if(e.activeId)return this.getValueOf(e.activeId)},getValueOf:function(t){return et(at(e.schema,t),!1)},get valueWithoutHiddenProps(){if(e.activeId)return et(at(e.schema,e.activeId),be(e).isHiddenProps||function(e,t){return"$$"===e.substring(0,2)&&"$$comments"!==e&&"$$commonSchema"!==e||"function"==typeof t||"__"===e.substring(0,2)||"css"===e||"editorState"===e})},get outline(){return e.root.children},get bcn(){var t=[];return e.activeId&&re(e.root.children,(function(n,r,a,o){return n.id===e.activeId&&(t=o.concat(n),!0)})),t.filter((function(e){return!e.isSecondFactor}))},get activePath(){return this.getNodePathById(e.activeId)},getNodePathById:function(t){var n=[];if(!t)return n;var r=function(e,a){return void 0===a&&(a=[]),e.every((function(e){return e.id===t?(n=a.concat(e),!1):!e.children||!e.children.length||r(e.children,a.concat(e))}))};return r(e.root.children),n},get dragging(){return!this.draggableContainer(e.dragId)&&!(!e.dragId&&!e.dropId)},get needPatch(){var t=function(e){return e.some((function(e){return!e.patched&&!e.isRegion||!!e.children.length&&t(e.children)}))};return t(e.root.children)},get schemaRaw(){return et(e.schema)},get subRenderersByOrder(){return e.subRenderers.filter((function(t){return!(!t.disabledRendererPlugin&&e.showCustomRenderersPanel)||t.isBaseComponent})).sort((function(e,t){return e.order-t.order}))},get customRenderersByOrder(){return e.subRenderers.filter((function(e){return!e.disabledRendererPlugin&&!e.isBaseComponent})).sort((function(e,t){return e.order-t.order}))},groupedRenderersByKeyword:function(e,t){var n=e,r={},a=t?new RegExp(Vt(t),"i"):null;return n.forEach((function(e){t&&!["name","description","scaffold.type","searchKeywords"].some((function(t){return C(t,e)&&a&&a.test(C(t,e))}))||(Array.isArray(e.tags)?e.tags.concat():e.tags?[e.tags]:[M("0d98c74797e49d00bcc4c17c9d557a2b")]).forEach((function(t){r[t]=r[t]||[],r[t].push(e)}))})),r},groupedSubRenderersByKeyword:function(e,t){var n=e||this.subRenderersByOrder;return this.groupedRenderersByKeyword(n,t)},get groupedSubRenderers(){if(e.subRenderersTag){var t={},n=this.groupedSubRenderersByKeyword()[e.subRenderersTag];return n&&(t[e.subRenderersTag]=n),t}return this.groupedSubRenderersByKeyword(this.subRenderersByOrder,e.subRenderersKeywords)},groupedCustomRenderersByKeyword:function(e,t){var n=e||this.customRenderersByOrder;return this.groupedRenderersByKeyword(n,t)},get groupedCustomRenderers(){if(e.customRenderersTag){var t={},n=this.groupedCustomRenderersByKeyword()[e.customRenderersTag];return n&&(t[e.customRenderersTag]=n),t}return this.groupedCustomRenderersByKeyword(this.customRenderersByOrder,e.customRenderersKeywords)},getSubRendererById:function(t){return we(e.subRenderers||[],(function(e){return e.id===t}))},get groupedInsertRenderers(){var t={"全部":[]},n=e.insertRenderersKeywords,r=new RegExp(Vt(n),"i");return e.insertRenderers.concat().sort((function(e,t){return e.order-t.order})).forEach((function(e){n&&!["name","description","scaffold.type"].some((function(t){return C(t,e)&&r.test(C(t,e))}))||((Array.isArray(e.tags)?e.tags.concat():e.tags?[e.tags]:[M("0d98c74797e49d00bcc4c17c9d557a2b")]).forEach((function(n){t[n]=t[n]||[],t[n].push(e)})),t[M("a8b0c20416853bda54120bf19477ad11")].push(e))})),t},get selectedInsertRendererInfo(){return we(e.insertRenderers,(function(t){return t.id===e.insertSelected}))},get subEditorSlotPath(){var t,n=null===(t=e.subEditorContext)||void 0===t?void 0:t.slot;if(!n)return"";var r=[],a=function(e,t){return void 0===t&&(t=[]),!(!Array.isArray(e)||!e.some((function(e,n){return a(e,t.concat("".concat(n)))})))||(J(e)?Object.keys(e).some((function(n){return a(e[n],t.concat(n))})):"$$"===e&&(r=t.concat(),!0))};return a(n),r.length?r.join("/"):""},get subEditorValue(){if(e.subEditorContext)return e.subEditorContext.slot?P(P({},se(e.subEditorContext.slot,(function(t){return"$$"===t?e.subEditorContext.value:t}))),{isSlot:!0}):e.subEditorContext.value},get canUndo(){return 0!==e.schemaHistory.findIndex((function(t){return t.versionId===e.versionId}))},get canRedo(){return e.schemaHistory.findIndex((function(t){return t.versionId===e.versionId}))<e.schemaHistory.length-1},isFlexContainer:function(t){var n,r,a=null!=t?t:e.activeId,o=this.getSchema(a);return"flex"===(null===(n=null==o?void 0:o.style)||void 0===n?void 0:n.display)||"inline-flex"===(null===(r=null==o?void 0:o.style)||void 0===r?void 0:r.display)},isFlexItem:function(t){var n,r,a=null!=t?t:e.activeId,o=this.getSchemaParentById(a,!0);return"flex"===(null==o?void 0:o.type)||"flex"===(null===(n=null==o?void 0:o.style)||void 0===n?void 0:n.display)||"inline-flex"===(null===(r=null==o?void 0:o.style)||void 0===r?void 0:r.display)},isFlexColumnItem:function(t){var n,r,a,o,i=null!=t?t:e.activeId,s=this.getSchemaParentById(i,!0),c="flex"===(null==s?void 0:s.type)||"flex"===(null===(n=null==s?void 0:s.style)||void 0===n?void 0:n.display)||"inline-flex"===(null===(r=null==s?void 0:s.style)||void 0===r?void 0:r.display),l="column"===(null==s?void 0:s.direction)||"column-reverse"===(null==s?void 0:s.direction)||"column"===(null===(a=null==s?void 0:s.style)||void 0===a?void 0:a.flexDirection)||"column-reverse"===(null===(o=null==s?void 0:s.style)||void 0===o?void 0:o.flexDirection);return!(!c||!l)},draggableContainer:function(t){var n=t||e.activeId,r=this.getSchema(n),a=(null==r?void 0:r.style)||{};return"fixed"===(null==a?void 0:a.position)||"absolute"===(null==a?void 0:a.position)},parentIsFreeContainer:function(t){var n=null!=t?t:e.activeId,r=this.getNodeById(n),a=null==r?void 0:r.parent;if(!a)return!1;var o=this.getSchema(a.id);return!!(null==o?void 0:o.isFreeContainer)&&a.id},get getSuperEditorData(){return e.superEditorData||{}},getComponentTreeSource:function(){var t;return te(null!==(t=e.root.children)&&void 0!==t?t:[],(function(t){var n,r,a,o=t.id?at(e.schema,t.id):e.schema,i="",s=qt(null==t?void 0:t.label),c=qt(null==o?void 0:o.label),l=qt(null==o?void 0:o.title);if(null==t?void 0:t.region)i=s;else{var d="cell"!==t.type?"<".concat(s,">"):"<列>";i="".concat(d).concat(null!==(n=null!=c?c:l)&&void 0!==n?n:s)}return i=null!=i?i:s,{id:t.id,label:i,value:null!==(r=null==o?void 0:o.id)&&void 0!==r?r:t.id,type:null!==(a=null==o?void 0:o.type)&&void 0!==a?a:t.type,schema:o,disabled:!!t.region,visible:!t.region||!!(null==t?void 0:t.children.length),children:null==t?void 0:t.children}}),1,!0)}}})).actions((function(e){be(e);var t=0,n=null,r=void 0,a=document,o=void 0;return{setLayer:function(e){r=e},getLayer:function(){return r},setDoc:function(e){a=e},getDoc:function(){return a},setIframe:function(e){o=e},getIframe:function(){return o},setIsMobile:function(t){e.isMobile=!!t},setCtx:function(t){e.ctx=t},setTheme:function(t){e.theme=t},setIsSubEditor:function(t){e.isSubEditor=t},setShowCustomRenderersPanel:function(t){e.showCustomRenderersPanel=t},setSchema:function(t){var n,r=Qe(t||{});if(e.schema){var a=Mt(e.schema,r,(function(e,t){return"$$id"===t})),o=Pt(e.schema,a);if("A"===(null===(n=null==a?void 0:a[0])||void 0===n?void 0:n.kind)&&("D"===a[0].item.kind||"N"===a[0].item.kind)&&Array.isArray(a[0].path)){var i=a[0].path,s=i.pop(),c=i.reduce((function(e,t){return e[t]}),o);c[s]=c[s].map((function(e){return P(P({},e),{$$id:ze()})}))}e.schema=o}else e.schema=r;this.resetHistory(),this.updateTargetName()},insertSchema:function(t){var n,r=t.context.id,a=t.context.region,o=at(e.schema,r);if(o){var i=Qe(t.context.data);(null==o?void 0:o.isFreeContainer)&&(i.style={position:"absolute",inset:"10px auto auto 10px"},Ut(i.type)&&(i.style.width="300px"));var s=Array.isArray(o[a])?o[a].concat():o[a]?[o[a]]:[];if(t.context.beforeId){var c=xe(s,(function(e){return e.$$id===t.context.beforeId}));~c?s.splice(c,0,i):s.push(i)}else s.push(i);return this.traceableSetSchema(it(e.schema,r,((n={})[a]=s,n))),t.context.data=i,i}},moveSchema:function(t){var n,r=t.context,a=e.schema;if(r.sourceId!==r.beforeId){var o=at(a,r.sourceId);a=st(a,r.sourceId,void 0,!0);var i=r.region,s=at(a,r.id)[i];if(s=Array.isArray(s)?s.concat():s?[s]:[],r.beforeId){var c=xe(s,(function(e){return e.$$id===r.beforeId}));if(!~c)throw new Error(M("eadc8c8d4a8776893672330598babca0"));s.splice(c,0,o)}else s.push(o);this.traceableSetSchema(it(a,r.id,((n={})[i]=s,n)))}},setActiveId:function(t,n,r){void 0===n&&(n=""),void 0===r&&(r=[]);var a=t?e.getNodeById(t):void 0;!1===(null==a?void 0:a.clickable)||t&&!a||(e.activeId=t,e.activeRegion=n,e.selections=r)},setSelections:function(t){e.activeId="",e.activeRegion="",e.selections=t?t.concat():[]},clearSelection:function(){e.selections=[]},setHoverId:function(t,n){var r=t?e.getNodeById(t):void 0;!1!==(null==r?void 0:r.clickable)&&(e.hoverId=t,e.hoverRegion=n||"")},setMouseMoveRegion:function(t){e.mouseMoveRegion=t},setInsertId:function(t){e.insertId=t},setContextId:function(t){e.contextId=t},setDragId:function(t,n,r,a){void 0===n&&(n="move"),void 0===r&&(r="schema"),e.dragId=t,e.dragMode=n,e.dragType=r,e.dragSchema=a||(t?e.getSchema(t):null)},setDropId:function(t,n){void 0===n&&(n=""),e.dropId=t,e.dropRegion=n,e.planDropId="",e.planDropRegion=""},setPlanDropId:function(t,n){e.planDropId=t,e.planDropRegion=n},setActiveToolbars:function(t){e.toolbars=t},setPanels:function(t){e.panels=t},setSubRenderers:function(t){e.subRenderers=t},changeSubRenderersKeywords:function(t){e.subRenderersKeywords=t,e.subRenderersTag=""},changeSubRenderersTag:function(t){e.subRenderersKeywords="",e.subRenderersTag=t},resetSubRenderersKeywords:function(){e.subRenderersKeywords="",e.subRenderersTag=""},changeCustomRenderersKeywords:function(t){e.customRenderersKeywords=t,e.customRenderersTag=""},changeCustomRenderersTag:function(t){e.customRenderersKeywords="",e.customRenderersTag=t},resetCustomRenderersKeywords:function(){e.customRenderersKeywords="",e.customRenderersTag=""},changeSubRendererRegion:function(t){e.subRendererRegion=t},changePanelKey:function(t){t!==e.getPanelKey()&&(e.panelKey=t)},changeLeftPanelKey:function(t){"insert"!==t&&"insert"!==e.panelKey&&t!==e.getLeftPanelKey()&&(e.leftPanelKey=t)},changeRenderersTabsKey:function(t){t!==e.renderersTabsKey&&(e.renderersTabsKey=t)},changeLeftPanelOpenStatus:function(t){t!==e.leftPanelOpenStatus&&(e.leftPanelOpenStatus=t)},showRendererPanel:function(t,n){"renderers"!==e.getLeftPanelKey()?e.leftPanelKey="renderers":t!==e.subRenderersTag&&t||s.info(n||M("f3c057f37fb9a4e7dd44b04919c12578")),e.renderersTabsKey="base-renderers",t&&this.changeSubRenderersTag(t),this.changeLeftPanelOpenStatus(!0)},changeValue:function(t,n){e.activeId&&this.changeValueById(e.activeId,t,n)},changeValueById:function(t,n,r,a,o){var i=at(e.schema,t);if(i)if(r){var s=Pt(i,r);this.traceableSetSchema(it(e.schema,t,tt(Qe(s)),!0),o)}else this.traceableSetSchema(it(e.schema,t,tt(Qe(n)),a),o)},updateContainerStyleByDrag:function(t,n,r){var a=t||e.dragId;if(a){var o=e.getSchema(a),i=(null==o?void 0:o.style)||{};if(a&&"fixed"===(null==i?void 0:i.position)||"absolute"===(null==i?void 0:i.position)){var s=(i.inset||"auto").split(" "),c={top:s[0]||"auto",right:s[1]||"auto",bottom:s[2]||s[0]||"auto",left:s[3]||s[1]||"auto"},l="".concat("auto"!==c.top?_t(c.top,r):"auto"," ").concat("auto"!==c.right?_t(c.right,-n):"auto"," ").concat("auto"!==c.bottom?_t(c.bottom,-r):"auto"," ").concat("auto"!==c.left?_t(c.left,n):"auto");this.changeValueById(a,P(P({},o),{style:P(P({},i),{inset:l})})),this.calculateHighlightBox([a])}}},moveUp:function(t){t&&this.traceableSetSchema(ut(e.schema,t))},moveDown:function(t){t&&this.traceableSetSchema(ft(e.schema,t))},del:function(t){var n,r;if(t===e.activeId){var a=null===(n=e.getNodeById(t))||void 0===n?void 0:n.host;this.setActiveId(a?a.id:"")}else if(e.activeId){var o=at(e.schema,t);if(at(o,e.activeId)){a=null===(r=e.getNodeById(t))||void 0===r?void 0:r.host;this.setActiveId(a?a.id:"")}}this.traceableSetSchema(st(e.schema,t))},delMulti:function(t){var n=this;(Array.isArray(t)?t:[t]).forEach((function(t){var r,a;if(t===e.activeId){var o=null===(r=e.getNodeById(t))||void 0===r?void 0:r.host;n.setActiveId(o?o.id:"")}else if(e.activeId){var i=at(e.schema,t);if(at(i,e.activeId)){o=null===(a=e.getNodeById(t))||void 0===a?void 0:a.host;n.setActiveId(o?o.id:"")}}})),this.traceableSetSchema(t.reduce((function(e,t){return st(e,t)}),e.schema))},duplicate:function(t){this.traceableSetSchema((Array.isArray(t)?t:[t]).reduce((function(e,t){return ht(e,t)}),e.schema))},emptyRegion:function(t,n){var r;this.traceableSetSchema(it(e.schema,t,((r={})[n]=[],r)))},replaceChild:function(t,n){this.traceableSetSchema(it(e.schema,t,Qe(n),!0))},setInsertRegion:function(t,n,r,a,o,i){void 0===n&&(n=""),void 0===r&&(r=M("a8b0c20416853bda54120bf19477ad11")),void 0===a&&(a="insert"),void 0===o&&(o=""),e.insertId=n,e.insertRegion=t,e.insertTag=r,e.insertMode=a,e.insertOrigId=o,e.insertBeforeId=i||""},closeInsertPanel:function(){e.insertOrigId="",e.insertId="",e.insertRegion="",e.insertSelected="",e.insertRenderersKeywords="",e.insertBeforeId=""},showInsertRendererPanel:function(){e.showInsertRenderer=!0},closeInsertRendererPanel:function(){e.showInsertRenderer=!1},setInsertRenderers:function(t){e.insertRenderers=t},changeInsertRenderersKeywords:function(t){e.insertRenderersKeywords=t},resetInsertRenderersKeywords:function(){e.insertRenderersKeywords=""},setInsertTag:function(t){e.insertTag=t},setInsertSelected:function(t){e.insertSelected=t},setJSONSchemaUri:function(t){e.jsonSchemaUri=t},openSubEditor:function(t){e.activeId&&(e.subEditorContext=P(P({},t),{data:ce(t.data,{__curCmptTreeWrap:{label:t.title,disabled:!0},__superCmptTreeSource:e.getComponentTreeSource()})}))},confirmSubEditor:function(t){var n,r=L(t,1)[0],a=e.subEditorContext,o=a.onChange,i=a.slot,s=r.schema,c=(null===(n=r.__pristine)||void 0===n?void 0:n.schema)||s;if(i){var l=e.subEditorSlotPath.replace(/(?:\/)/g,".");s=le(s,l),c=le(c,l),Array.isArray(s)&&1===s.length&&!Array.isArray(c)&&(s=s[0])}o(s,o.length>1?Mt(c,s):void 0),e.subEditorContext=void 0},closeSubEditor:function(){e.subEditorContext=void 0},subEditorOnChange:function(){n&&(e.subEditorContext=P(P({},e.subEditorContext),{canUndo:n.canUndo(),canRedo:n.canRedo()}))},undoSubEditor:function(){n&&n.undo()},redoSubEditor:function(){n&&n.redo()},subEditorRef:function(e){n=e},openScaffoldForm:function(t){e.scaffoldForm=t},closeScaffoldForm:function(){e.scaffoldForm=void 0},setScaffoldBuzy:function(t){e.scaffoldFormBuzy=!!t},setScaffoldError:function(t){void 0===t&&(t=""),e.scaffoldError=t},openPopOverForm:function(t){e.popOverForm=t},closePopOverForm:function(){e.popOverForm=void 0},calculateHighlightBox:function(t){e.calculateStarted=!0,t.forEach((function(t){var n=e.getNodeById(t);null==n||n.calculateHighlightBox(e)}))},resetHighlightBox:function(t){t.forEach((function(t){var n=e.getNodeById(t);null==n||n.resetHighlightBox(e)}))},updateTargetName:function(){var t=[];Dt(e.schema,(function(e,n,r){return"name"===n&&e&&r&&("crud"===r.type||"form"===r.type||"page"===r.type||"service"===r.type||"chart"===r.type||"wizard"===r.type)&&t.push({type:r.type,name:e,editorId:r.$$id}),e})),e.targetNames=ye(t)},traceableSetSchema:function(n,r){var a=e.schemaHistory.findIndex((function(t){return t.versionId===e.versionId}));~a&&e.schemaHistory.splice(a+1,e.schemaHistory.length-a-1),r&&e.schemaHistory.pop(),e.schemaHistory.push({versionId:e.versionId=t++,schema:n}),e.schema=n,this.updateTargetName()},undo:function(){var t=e.schemaHistory.findIndex((function(t){return t.versionId===e.versionId}));if(t>0){var n=e.schemaHistory[t-1];e.versionId=n.versionId,e.schema=n.schema,this.updateTargetName(),this.autoSelectRoot()}},redo:function(){var t=e.schemaHistory.findIndex((function(t){return t.versionId===e.versionId}));if(t<e.schemaHistory.length-1){var n=e.schemaHistory[t+1];e.versionId=n.versionId,e.schema=n.schema,this.updateTargetName(),this.autoSelectRoot()}},autoSelectRoot:function(){e.getSchema(e.activeId)||this.setActiveId(e.getRootId())},resetHistory:function(){t=0,e.versionId=t++,e.schemaHistory.replace([{versionId:e.versionId,schema:e.schema}]),this.autoSelectRoot()},applyPatches:function(t){var n=e.schema;t.forEach((function(e){var t,r;if("update"===e.op)n=it(n,e.target,e.value);else if("replace"===e.op)n=it(n,e.target,e.value,!0);else if("delete"===e.op)n=st(n,e.target);else if("push"===e.op){var a=(o=at(n,e.target))[e.key];(a=Array.isArray(a)?a.concat():a?[a]:[]).push(e.value),o=P(P({},o),((t={})[e.key]=a,t)),n=it(n,e.target,o)}else if("splice"===e.op){var o;a=(o=at(n,e.target))[e.key];(a=Array.isArray(a)?a.concat():a?[a]:[]).splice.apply(a,H([],L(e.args),!1)),o=P(P({},o),((r={})[e.key]=a,r)),n=it(n,e.target,o)}})),this.traceableSetSchema(n)},updateAppLocaleState:function(){e.appLocaleState+=1},setAppLocale:function(t){t&&(e.appLocale=t,this.updateAppLocaleState())},setAppCorpusData:function(t){void 0===t&&(t={}),e.appCorpusData=t,this.updateAppLocaleState()}}})),_a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return D(t,e),t.prototype.afterResolveEditorInfo=function(e){var t,n,r,a,o,i,s=this.props.store,c=e.context;if(null===(t=s.subEditorContext)||void 0===t?void 0:t.slot){var l=s.subEditorSlotPath;!~c.schemaPath.indexOf(l)&&c.data?(c.data.editable=!1,c.data.memberImmutable=!Array.isArray(null===(a=s.subEditorContext)||void 0===a?void 0:a.value),c.data.memberImmutable||(c.data.name=M("22c799040acdb2601b437ed5449de076"))):c.schemaPath===l&&c.data&&(Array.isArray(null===(o=s.subEditorContext)||void 0===o?void 0:o.value)||(c.data.movable=!1,c.data.removable=!1),c.data.typeMutable=null===(i=s.subEditorContext)||void 0===i?void 0:i.typeMutable)}else c.data&&!c.schemaPath&&(null===(n=s.subEditorContext)||void 0===n?void 0:n.memberImmutable)&&(c.data.memberImmutable=null===(r=s.subEditorContext)||void 0===r?void 0:r.memberImmutable)},t.prototype.handleBuildPanels=function(e){var t,n;if(null===(n=this.props.store.subEditorContext)||void 0===n?void 0:n.slot){var r=e.context;if(r.info.memberImmutable){var a=r.data.concat();r.data.splice(0,r.data.length);var o=a.filter((function(e){return"renderers"!==e.key}));o&&(t=r.data).push.apply(t,H([],L(o),!1)),r.changeLeftPanelKey="outline"}}},t.prototype.buildSchema=function(){var e,t=this,n=this.props,r=n.store,a=n.manager,o=n.amisEnv,i=r.subEditorContext,s=a.config,c=r.superEditorData;return i&&(c=G(r.superEditorData,null==i?void 0:i.data)),{size:"full",title:null===(e=r.subEditorContext)||void 0===e?void 0:e.title,onClose:r.closeSubEditor,onConfirm:r.confirmSubEditor,body:r.subEditorContext?{type:"form",mode:"normal",wrapperComponent:"div",onValidate:function(e){return z(t,void 0,void 0,(function(){var t,n,a;return $(this,(function(o){switch(o.label){case 0:return[4,null===(a=null===(n=r.subEditorContext)||void 0===n?void 0:n.validate)||void 0===a?void 0:a.call(n,e)];case 1:return(t=o.sent())?[2,{schema:t}]:[2]}}))}))},onChange:r.subEditorOnChange,body:[{name:"schema",asFormItem:!0,children:function(e){var n,i,l=e.value,d=e.onChange;return _.createElement(Qa,{autoFocus:!0,value:l,ref:r.subEditorRef,onChange:d,data:null===(n=r.subEditorContext)||void 0===n?void 0:n.data,superEditorData:c,schemaFilter:a.config.schemaFilter,theme:a.env.theme,afterResolveEditorInfo:t.afterResolveEditorInfo,onBuildPanels:t.handleBuildPanels,isMobile:r.isMobile,isSubEditor:!0,iframeUrl:s.iframeUrl,ctx:r.ctx,amisEnv:o||s.amisEnv,appLocale:s.appLocale,i18nEnabled:s.i18nEnabled,plugins:s.plugins,actionOptions:s.actionOptions,showCustomRenderersPanel:null===(i=r.showCustomRenderersPanel)||void 0===i||i,isHiddenProps:s.isHiddenProps,$schemaUrl:s.$schemaUrl})}}]}:{type:"tpl",tpl:"Loading..."},actions:[[{children:i?_.createElement("div",{className:"ae-DialogToolbar"},_.createElement("button",{type:"button","data-tooltip":"撤销",disabled:!i.canUndo,onClick:r.undoSubEditor},_.createElement("i",{className:"fa fa-undo"})),_.createElement("button",{type:"button","data-tooltip":"重做",disabled:!i.canRedo,onClick:r.redoSubEditor},_.createElement("i",{className:"fa fa-rotate-right"}))):null},{type:"submit",label:M("e83a256e4f5bb4ff8b3d804b5473217a"),level:"primary"},{type:"button",label:M("625fb26b4b3340f7872b411f401e754c"),actionType:"close"}]],closeOnEsc:!1,bodyClassName:"ae-dialog subEditor-dialog"}},t.prototype.render=function(){var e=this.props,t=e.store,n=e.theme,r=e.manager;return i(P({type:"dialog"},this.buildSchema()),{show:!!t.subEditorContext,data:{schema:t.subEditorValue}},P(P({},Re(r.env,"replaceText")),{session:"editor-dialog",theme:n}))},B([Rt,j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",void 0)],t.prototype,"afterResolveEditorInfo",null),B([Rt,j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",void 0)],t.prototype,"handleBuildPanels",null),t=B([de],t)}(_.Component),Va=function(e){function t(t){var n=e.call(this,t)||this;return n.breadcrumbRef=_.createRef(),n.bcnContentRef=_.createRef(),n.state={showLeftScrollBtn:!1,showRightScrollBtn:!1},n.unReaction=Z((function(){return n.props.store.bcn}),(function(){n.refreshHandleScroll(!0)})),n}return D(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.getCurBreadcrumb(),n=this.getBreadcrumbContainer();t&&n&&(this.unSensor=f(n,(function(){e.refreshHandleScroll()})))},t.prototype.componentWillUnmount=function(){this.unReaction(),this.unSensor&&(this.unSensor(),delete this.unSensor)},t.prototype.refreshHandleScroll=function(e){var t=this;setTimeout((function(){t.HandleScroll(e)}),0)},t.prototype.getCurBreadcrumb=function(){return this.bcnContentRef.current},t.prototype.getBreadcrumbContainer=function(){return this.breadcrumbRef.current},t.prototype.getScrollLeft=function(){var e=this.getCurBreadcrumb();return e?e.style.left:"0"},t.prototype.toNumber=function(e){return e?Number.parseInt(e):0},t.prototype.HandleScroll=function(e){var t=this.getCurBreadcrumb(),n=this.getBreadcrumbContainer();if(t&&n){var r=this.toNumber(this.getScrollLeft()),a=t.offsetWidth-n.offsetWidth;e&&(t.style.left="0"),this.setState({showLeftScrollBtn:r<0,showRightScrollBtn:r>-a})}},t.prototype.handleScrollToLeft=function(){var e=this.getCurBreadcrumb();if(e){var t=this.toNumber(this.getScrollLeft());t>=-50&&t<0?(e.style.left="0",this.refreshHandleScroll()):t<-50&&(e.style.left="".concat(t+50,"px"),this.refreshHandleScroll())}},t.prototype.handleScrollToRight=function(){var e=this.getCurBreadcrumb(),t=this.getBreadcrumbContainer();if(e&&t){var n=this.toNumber(this.getScrollLeft()),r=e.offsetWidth-t.offsetWidth;e.style.left=n-50>-r?"".concat(n-50,"px"):"-".concat(r,"px"),this.refreshHandleScroll()}},t.prototype.handleClick=function(e){var t,n=e.currentTarget,r=n.getAttribute("data-node-id"),a=n.getAttribute("data-node-region"),o=this.props.store;this.props.manager;var i=o.getNodeById(r);!1!==(null===(t=null==i?void 0:i.info)||void 0===t?void 0:t.editable)&&(a?o.setActiveId(r,a):o.setActiveId(r))},t.prototype.handleMouseEnter=function(e){var t=e.currentTarget,n=t.getAttribute("data-node-id"),r=t.getAttribute("data-node-region");this.props.store.setHoverId(n,r)},t.prototype.render=function(){var e=this,t=this.props.store,n=this.state,a=n.showLeftScrollBtn,o=n.showRightScrollBtn,i=t.bcn;return _.createElement("div",{className:"ae-Breadcrumb",ref:this.breadcrumbRef},a&&_.createElement("div",{className:"ae-Breadcrumb-scrollLeft-btn",onClick:this.handleScrollToLeft},_.createElement(r,{icon:"editor-double-arrow",className:"icon"})),_.createElement("div",{className:"ae-Breadcrumb-content",ref:this.bcnContentRef},i.length?_.createElement("ul",null,i.map((function(t,n){var r,a=null===(r=t.parent)||void 0===r?void 0:r.uniqueChildren;return _.createElement("li",{key:n},_.createElement("span",{"data-node-id":t.id,"data-node-region":t.region,onClick:e.handleClick,onMouseEnter:e.handleMouseEnter},t.label),(null==a?void 0:a.length)>1?_.createElement("ul",{className:"hoverShowScrollBar"},a.map((function(n){return _.createElement("li",{key:"".concat(n.id,"-").concat(n.region)},_.createElement("span",{"data-node-id":n.id,"data-node-region":n.region,onClick:e.handleClick,onMouseEnter:e.handleMouseEnter,className:n.id===t.id&&n.region===t.region?"is-active":""},n.label))}))):null)}))):null),o&&_.createElement("div",{className:"ae-Breadcrumb-scrollRight-btn",onClick:this.handleScrollToRight},_.createElement(r,{icon:"editor-double-arrow",className:"icon"})))},B([Rt,j("design:type",Function),j("design:paramtypes",[Boolean]),j("design:returntype",void 0)],t.prototype,"refreshHandleScroll",null),B([Rt,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",void 0)],t.prototype,"getCurBreadcrumb",null),B([Rt,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",void 0)],t.prototype,"getBreadcrumbContainer",null),B([Rt,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",String)],t.prototype,"getScrollLeft",null),B([Rt,j("design:type",Function),j("design:paramtypes",[String]),j("design:returntype",Number)],t.prototype,"toNumber",null),B([Rt,j("design:type",Function),j("design:paramtypes",[Boolean]),j("design:returntype",void 0)],t.prototype,"HandleScroll",null),B([Rt,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",void 0)],t.prototype,"handleScrollToLeft",null),B([Rt,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",void 0)],t.prototype,"handleScrollToRight",null),B([Rt,j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",void 0)],t.prototype,"handleClick",null),B([Rt,j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",void 0)],t.prototype,"handleMouseEnter",null),t=B([de,j("design:paramtypes",[Object])],t)}(_.Component),Ua=function(e){function t(t){var n=e.call(this,t)||this;return n.state={step:0},n}return D(t,e),t.prototype.handleConfirm=function(e){var t,n,r,a=L(e,1)[0],o=this.props.store;if(a=P(P({},null===(t=o.scaffoldForm)||void 0===t?void 0:t.value),a),null===(n=o.scaffoldForm)||void 0===n?void 0:n.pipeOut){var i=o.scaffoldForm.pipeOut(a);a=P({},i)}null===(r=o.scaffoldForm)||void 0===r||r.callback(a),o.closeScaffoldForm(),this.setState({step:0})},t.prototype.buildSchema=function(){var e,t,n,r=this.props.store.scaffoldForm,a=null!==(t=r.controls)&&void 0!==t?t:r.body;return r.stepsBody&&(a=H([{type:"steps",name:"__steps",className:"ae-Steps",steps:a.map((function(e,t){return{title:e.title,value:t,iconClassName:"ae-Steps-Icon"}}))}],L(a.map((function(e,t){return{type:"container",visibleOn:"__step === ".concat(t),body:e.body}}))),!1)),n=Ht(r.mode)?r.mode:{mode:r.mode||"normal"},P(P({type:"form",wrapWithPanel:!1,initApi:r.initApi,api:r.api},n),((e={wrapperComponent:"div",data:{__step:0}})[r.controls?"controls":"body"]=a,e))},t.prototype.scopeRef=function(e){this.amisScope=e},t.prototype.goToNextStep=function(){var e,t=null===(e=this.amisScope)||void 0===e?void 0:e.getComponents()[0].props.store,n=this.state.step+1;t.setValueByName("__step",n),this.setState({step:n})},t.prototype.goToPrevStep=function(){var e,t=null===(e=this.amisScope)||void 0===e?void 0:e.getComponents()[0].props.store,n=this.state.step-1;t.setValueByName("__step",n),this.setState({step:n})},t.prototype.handleConfirmClick=function(){var e;return z(this,void 0,void 0,(function(){var t,n,r,a;return $(this,(function(o){switch(o.label){case 0:if(!(t=null===(e=this.amisScope)||void 0===e?void 0:e.getComponents()[0]))return[2];n=this.props.store,o.label=1;case 1:return o.trys.push([1,3,4,5]),n.setScaffoldBuzy(!0),[4,t.doAction({type:"submit"},t.props.data,!0)];case 2:return r=o.sent(),this.handleConfirm([r]),[3,5];case 3:return a=o.sent(),console.log(a.stack),n.setScaffoldError(a.message),[3,5];case 4:return n.setScaffoldBuzy(!1),[7];case 5:return[2]}}))}))},t.prototype.handleCancelClick=function(){this.props.store.closeScaffoldForm(),this.setState({step:0})},t.prototype.render=function(){var e=this.props,t=e.store,n=e.theme,a=e.manager,o=t.scaffoldForm,s=S(n||"cxd").classnames,c=!!(null==o?void 0:o.stepsBody),l=c&&this.state.step===o.body.length-1,d=c&&0===this.state.step;return _.createElement(x,{size:(null==o?void 0:o.size)||"md",contentClassName:null==o?void 0:o.className,show:!!o,onHide:t.closeScaffoldForm,closeOnEsc:!t.scaffoldFormBuzy},_.createElement("div",{className:s("Modal-header")},t.scaffoldFormBuzy?null:_.createElement("a",{"data-position":"left",onClick:t.closeScaffoldForm,className:s("Modal-close")},_.createElement(r,{icon:"close",className:"icon"})),_.createElement("div",{className:s("Modal-title")},null==o?void 0:o.title)),_.createElement("div",{className:s("Modal-body")},o?i(this.buildSchema(),{data:G(t.ctx,P(P({},(null==o?void 0:o.value)||{}),{__step:0})),onValidate:o.validate,scopeRef:this.scopeRef},P(P({},a.env),{session:"scaffold-dialog",theme:n})):_.createElement("p",null,"Loading...")),_.createElement("div",{className:s("Modal-footer")},t.scaffoldFormBuzy||t.scaffoldError?_.createElement("div",{className:s("Dialog-info"),key:"info"},_.createElement(I,{size:"sm",key:"info",show:t.scaffoldFormBuzy}),t.scaffoldError?_.createElement("span",{className:s("Dialog-error")},t.scaffoldError):null):null,c&&!d&&_.createElement(g,{level:"primary",onClick:this.goToPrevStep},"上一步"),c&&!l&&_.createElement(g,{level:"primary",onClick:this.goToNextStep},"下一步"),(!c||l)&&_.createElement(g,{level:"primary",onClick:this.handleConfirmClick,disabled:t.scaffoldFormBuzy},"确认"),_.createElement(g,{onClick:this.handleCancelClick},"取消")))},B([Rt,j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",void 0)],t.prototype,"handleConfirm",null),B([Rt,j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",void 0)],t.prototype,"scopeRef",null),B([Rt,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",void 0)],t.prototype,"goToNextStep",null),B([Rt,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",void 0)],t.prototype,"goToPrevStep",null),B([Rt,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",Promise)],t.prototype,"handleConfirmClick",null),B([Rt,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",void 0)],t.prototype,"handleCancelClick",null),t=B([de,j("design:paramtypes",[Object])],t)}(_.Component),Wa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.overlay=_.createRef(),t}return D(t,e),t.prototype.buildSchema=function(){var e=this,t=this.props.store.popOverForm;return{type:"form",wrapWithPanel:!1,mode:"normal",wrapperComponent:"div",body:t.body,submitOnChange:!0,autoFocus:!0,onFinished:function(n){var r;null===(r=t.callback)||void 0===r||r.call(t,n,Mt(t.value,n)),setTimeout((function(){var t;return null===(t=e.overlay.current)||void 0===t?void 0:t.updatePosition()}),200)}}},t.prototype.render=function(){var e=this.props,t=e.store,n=e.theme,r=e.manager,a=t.popOverForm;return _.createElement(R,{target:null==a?void 0:a.target,placement:"left-bottom-left-top left-top-left-bottom right-bottom-right-top right-top-right-bottom center",show:!!a,ref:this.overlay},_.createElement(O,{overlay:!0,className:"ae-Editor-popOverForm",onHide:t.closePopOverForm},a?i(this.buildSchema(),{data:G(t.ctx,null==a?void 0:a.value)},P(P({},r.env),{session:"popover-form",theme:n})):_.createElement("p",null,"Loading...")))},t=B([de],t)}(_.Component),Za=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return D(t,e),t.prototype.render=function(){var e=this.props.store.contextMenuPanel,t=e&&e.menus?e.menus:[];return t&&t.length>0?_.createElement("div",{className:"context-menu-setting"},_.createElement("div",{className:"setting-header"},"批量操作"),_.createElement("div",{className:"setting-body"},t.map((function(e){return e.label&&_.createElement("div",{key:e.label,className:"setting-item ".concat(e.disabled?"disabled":""),onClick:e.disabled?null:e.onSelect},_.createElement("div",{className:"icon-box"},_.createElement(r,{icon:e.icon,className:"menu-icon"})),_.createElement("div",{className:"setting-info"},e.label))})))):null},t=B([de],t)}(_.Component),qa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return D(t,e),t.prototype.getPopOverContainer=function(){return ue(this)},t.prototype.render=function(){var e=this.props,t=e.store,n=e.manager,r=e.node,a=e.panelItem,o=e.theme,i=t.activeId;return _.createElement(N,{position:"left",size:"md",theme:o,show:!!a,onHide:t.closeInsertPanel,className:"ae-InsertPanel-drawer"},a&&a.component?_.createElement(a.component,{key:a.key,id:i,info:null==r?void 0:r.info,path:null==r?void 0:r.path,value:t.value,onChange:n.panelChangeValue,store:t,manager:n,popOverContainer:this.getPopOverContainer}):null)},B([Rt,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",void 0)],t.prototype,"getPopOverContainer",null),t=B([de],t)}(_.Component),Ya=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return D(t,e),t.prototype.getPopOverContainer=function(){return ue(this)},t.prototype.render=function(){var e=this.props,t=e.store,n=e.manager,r=e.node,a=e.panelItem,o=e.theme,i=t.activeId,s=t.showInsertRenderer;return _.createElement(N,{position:"left",size:"md",theme:o,show:s,onHide:t.closeInsertRendererPanel,className:"ae-InsertRendererPanel-drawer",bodyClassName:"ae-drawer-renderers"},a.title&&_.createElement("div",{className:"ae-drawer-title"},a.title),a&&a.component?_.createElement(a.component,{key:a.key,id:i,info:null==r?void 0:r.info,path:null==r?void 0:r.path,value:t.value,onChange:n.panelChangeValue,store:t,manager:n,popOverContainer:this.getPopOverContainer}):null)},B([Rt,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",void 0)],t.prototype,"getPopOverContainer",null),t=B([de],t)}(_.Component),Ja=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isFixedStatus:!1},n}return D(t,e),t.prototype.handleHidden=function(){var e=this.props.store,t=e.changeLeftPanelOpenStatus,n=e.leftPanelOpenStatus,r=e.changeLeftPanelKey,a=!n;t(a),r(a?"outline":"none")},t.prototype.handleFixed=function(){this.setState({isFixedStatus:!this.state.isFixedStatus})},t.prototype.handleSelect=function(e){var t=this.props.store,n=t.changeLeftPanelOpenStatus,r=t.changeLeftPanelKey;e&&(n(!0),r(e))},t.prototype.getPopOverContainer=function(){return ue(this)},t.prototype.render=function(){var e=this,t=this.props,n=t.store,a=t.manager,o=t.theme,i=this.state.isFixedStatus,s=n.leftPanelOpenStatus,c=n.getLeftPanels(),l=n.activeId,d=n.getNodeById(l),u=n.getLeftPanelKey(),p=n.insertId&&n.insertRegion&&we(c,(function(e){return"insert"===e.key})),f=we(c,(function(e){return"insertRenderer"===e.key}));return _.createElement(_.Fragment,null,c.length>0&&_.createElement("div",{className:U("editor-left-panel width-draggable",s?"":"hidden-status",i?"fixed-status":"")},_.createElement("div",{className:"editor-panel-btn","editor-tooltip":M(i?"95509c09bdef4bb7842a9b957ab1f971":"426480bb614633c8c3ba8faa0338b72f"),"tooltip-position":"right"},_.createElement(r,{icon:i?"editor-fixed":"editor-no-fixed",className:"panel-btn",onClick:this.handleFixed})),_.createElement(E,{className:"editorPanel-tabs",linksClassName:"editorPanel-tabs-header",contentClassName:"editorPanel-tabs-content",theme:o,activeKey:u,onSelect:this.handleSelect,tabsMode:"sidebar",sidePosition:"left"},c.map((function(t){return"insert"!==t.key&&"insertRenderer"!==t.key?_.createElement(w,{key:t.key,eventKey:t.key,title:t.title,className:"editorPanel-tabs-pane ae-Editor-".concat(t.key,"Pane"),mountOnEnter:!0,unmountOnExit:!1},function(t){return t.render?t.render({id:l,info:null==d?void 0:d.info,path:null==d?void 0:d.path,node:d,value:n.value,onChange:a.panelChangeValue,store:n,manager:a,popOverContainer:e.getPopOverContainer}):t.component?_.createElement(t.component,{node:d,key:t.key,id:l,info:null==d?void 0:d.info,path:null==d?void 0:d.path,value:n.value,onChange:a.panelChangeValue,store:n,manager:a,popOverContainer:e.getPopOverContainer}):null}(t)):null}))),_.createElement("div",{className:U("left-panel-arrow",s?"":"hidden-status"),onClick:this.handleHidden})),i&&_.createElement("div",{className:"editor-left-panel-fixed-placeholder"}),_.createElement(qa,{store:n,manager:a,node:d,panelItem:p,theme:o}),_.createElement(Ya,{store:n,manager:a,node:d,panelItem:f,theme:o}))},B([Rt,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",void 0)],t.prototype,"handleHidden",null),B([Rt,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",void 0)],t.prototype,"handleFixed",null),B([Rt,j("design:type",Function),j("design:paramtypes",[String]),j("design:returntype",void 0)],t.prototype,"handleSelect",null),B([Rt,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",void 0)],t.prototype,"getPopOverContainer",null),t=B([de,j("design:paramtypes",[Object])],t)}(_.Component),Xa=function(e){function t(t){var n=e.call(this,t)||this;return n.handleResizeMouseDown=n.handleResizeMouseDown.bind(n),n.handleResizeMouseMove=n.handleResizeMouseMove.bind(n),n.handleResizeMouseUp=n.handleResizeMouseUp.bind(n),n}return D(t,e),t.prototype.handleResizeMouseDown=function(e){3==e.nativeEvent.which||(this.dragWrap=e.currentTarget.parentElement,document.addEventListener("mousemove",this.handleResizeMouseMove),document.addEventListener("mouseup",this.handleResizeMouseUp),this.startX=e.clientX,this.startWidth=this.dragWrap.offsetWidth)},t.prototype.handleResizeMouseMove=function(e){var t=this.props.isLeftDragIcon,n=e.clientX-this.startX;this.dragWrap.style.cssText+="width: ".concat(Math.max(t?this.startWidth-n:this.startWidth+n,260),"px")},t.prototype.handleResizeMouseUp=function(){document.removeEventListener("mousemove",this.handleResizeMouseMove),document.removeEventListener("mouseup",this.handleResizeMouseUp)},t.prototype.render=function(){var e=this.props,t=e.isLeftDragIcon,n=e.className;return _.createElement("div",{onMouseDown:this.handleResizeMouseDown,className:U("width-draggable-icon",n,t?"leftBtn":"")})},t}(_.Component),Ga=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isOpenStatus:!0,isFixedStatus:!1},n}return D(t,e),t.prototype.handleFixed=function(){this.setState({isFixedStatus:!this.state.isFixedStatus})},t.prototype.handleSelect=function(e){this.props.store.changePanelKey(e)},t.prototype.handleHidden=function(){this.setState({isOpenStatus:!this.state.isOpenStatus})},t.prototype.getPopOverContainer=function(){return ue(this)},t.prototype.render=function(){var e=this,t=this.props,n=t.store,a=t.manager,o=t.theme,i=this.state,s=i.isOpenStatus,c=i.isFixedStatus,l=n.getPanels(),d=n.activeId,u=n.getNodeById(d),p=n.getPanelKey(),f=function(t){return t.render?t.render({id:d,info:null==u?void 0:u.info,path:null==u?void 0:u.path,node:u,value:n.value,onChange:a.panelChangeValue,store:n,manager:a,popOverContainer:e.getPopOverContainer}):t.component?_.createElement(t.component,{node:u,key:t.key,id:d,info:null==u?void 0:u.info,path:null==u?void 0:u.path,value:n.value,onChange:a.panelChangeValue,store:n,manager:a,popOverContainer:e.getPopOverContainer}):null};return l.length>0?_.createElement("div",{className:U("editor-right-panel width-draggable",l.length>1?"mul-tabs-panel":"",s?"":"hidden-status",c?"fixed-status":"")},_.createElement("div",{className:"editor-panel-btn","editor-tooltip":M(c?"95509c09bdef4bb7842a9b957ab1f971":"426480bb614633c8c3ba8faa0338b72f"),"tooltip-position":"left"},_.createElement(r,{icon:c?"editor-fixed":"editor-no-fixed",className:"panel-btn",onClick:this.handleFixed})),_.createElement("div",{className:"editorPanel-inner"},1===l.length?f(l[0]):_.createElement(E,{theme:o,tabsMode:"sidebar",sidePosition:"right",className:"editorPanel-tabs",linksClassName:"editorPanel-tabs-header",contentClassName:"editorPanel-tabs-content",activeKey:p,onSelect:this.handleSelect},l.map((function(e){var t=$t(e);return _.createElement(w,{key:e.key,eventKey:e.key,title:_.createElement("span",{className:"editor-tab-icon","editor-tooltip":e.title,"tooltip-position":"left"},t&&_.createElement(r,{icon:e.pluginIcon,className:"pluginIcon"}),!t&&_.createElement("i",{className:"fa ".concat(e.icon)})),className:"editorPanel-tabs-pane ae-Editor-".concat(e.key,"Pane"),mountOnEnter:!0,unmountOnExit:!1},f(e))})))),_.createElement(Xa,{isLeftDragIcon:!0}),_.createElement("div",{className:U("right-panel-arrow",s?"":"hidden-status"),onClick:this.handleHidden})):null},B([Rt,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",void 0)],t.prototype,"handleFixed",null),B([Rt,j("design:type",Function),j("design:paramtypes",[String]),j("design:returntype",void 0)],t.prototype,"handleSelect",null),B([Rt,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",void 0)],t.prototype,"handleHidden",null),B([Rt,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",void 0)],t.prototype,"getPopOverContainer",null),t=B([de,j("design:paramtypes",[Object])],t)}(_.Component),Qa=function(e){function t(t){var n,r,a=this;(a=e.call(this,t)||this).mainRef=_.createRef(),a.isInternalChange=!1;var o=t.value,i=t.isSubEditor,s=void 0!==i&&i;t.onChange;var c=t.showCustomRenderersPanel,l=t.superEditorData,d=T(t,["value","isSubEditor","onChange","showCustomRenderersPanel","superEditorData"]),u=P({},d);return a.store=Ka.create({isMobile:t.isMobile,theme:t.theme,isSubEditor:s,amisDocHost:t.amisDocHost,ctx:t.ctx,superEditorData:l,appLocale:t.appLocale,appCorpusData:null===(n=null==t?void 0:t.amisEnv)||void 0===n?void 0:n.replaceText,i18nEnabled:null!==(r=null==t?void 0:t.i18nEnabled)&&void 0!==r&&r},u),a.store.setSchema(o),void 0!==c&&a.store.setShowCustomRenderersPanel(c),a.manager=new Rn(u,a.store),t.isSubEditor&&window.editorStore||(window.editorStore=a.store),document.addEventListener("keydown",a.handleKeyDown),window.addEventListener("message",a.handleMessage,!1),a.unReaction=Z((function(){return a.store.schemaRaw}),(function(e){a.lastResult=e,a.isInternalChange||t.onChange(e)})),a}return D(t,e),t.prototype.componentDidMount=function(){this.props.isSubEditor||this.manager.trigger("init",{data:this.manager})},t.prototype.componentDidUpdate=function(e){var t,n,r,a=this.props;a.value!==e.value&&a.value!==this.lastResult&&(this.isInternalChange=!0,this.store.setSchema(a.value),this.isInternalChange=!1),a.isMobile!==e.isMobile&&this.store.setIsMobile(a.isMobile),a.ctx!==e.ctx&&this.store.setCtx(a.ctx),a.appLocale!==e.appLocale&&this.store.setAppLocale(a.appLocale),(null===(t=null==a?void 0:a.amisEnv)||void 0===t?void 0:t.replaceText)!==(null===(n=null==e?void 0:e.amisEnv)||void 0===n?void 0:n.replaceText)&&this.store.setAppCorpusData(null===(r=null==a?void 0:a.amisEnv)||void 0===r?void 0:r.replaceText)},t.prototype.componentWillUnmount=function(){document.removeEventListener("keydown",this.handleKeyDown),window.removeEventListener("message",this.handleMessage),this.unReaction(),this.manager.dispose(),Ee(this.store)},t.prototype.handleKeyDown=function(e){if(!this.props.isSubEditor){var t=this.manager.store;if("BODY"===e.target.tagName&&("z"===e.key||"Z"===e.key)&&(e.metaKey||e.ctrlKey)&&e.shiftKey)return e.preventDefault(),void this.redo();if("BODY"===e.target.tagName&&("z"===e.key||"Z"===e.key)&&(e.metaKey||e.ctrlKey))return e.preventDefault(),void this.undo();if("BODY"===e.target.tagName&&("s"===e.key||"S"===e.key)&&(e.metaKey||e.ctrlKey))return e.preventDefault(),void this.save();if("BODY"===e.target.tagName&&("c"===e.key||"C"===e.key)&&(e.metaKey||e.ctrlKey))return e.preventDefault(),void this.copy();if("BODY"===e.target.tagName&&("v"===e.key||"V"===e.key)&&(e.metaKey||e.ctrlKey))return e.preventDefault(),void(this.curCopySchemaData&&this.paste());if("BODY"===e.target.tagName&&"x"===e.key&&(e.metaKey||e.ctrlKey))e.preventDefault(),this.store.activeId&&((n=t.getNodeById(this.store.activeId))&&t.activeRegion?s.warning(M("d6f73c6f3b92be5a64f7ea0163501284")):t.isRootSchema(this.store.activeId)?s.warning(M("4fda4f585214d469c04466e2fc98b796")):n&&n.moveable?(this.copy(),this.manager.del(this.store.activeId)):s.warning(M("657bbe06d3922b23552817df7fa8268e")));else if("BODY"===e.target.tagName&&"p"===e.key&&(e.metaKey||e.ctrlKey))e.preventDefault(),this.preview();else if("BODY"===e.target.tagName&&"ArrowUp"===e.key&&(e.metaKey||e.ctrlKey)){if(e.preventDefault(),this.store.activeId)(n=t.getNodeById(this.store.activeId))&&n.canMoveUp?this.manager.moveUp():s.warning(M("416445a316595bdeb44b661c7de875a8"))}else if("BODY"===e.target.tagName&&"ArrowDown"===e.key&&(e.metaKey||e.ctrlKey)){if(e.preventDefault(),this.store.activeId)(n=t.getNodeById(this.store.activeId))&&n.canMoveDown?this.manager.moveDown():s.warning(M("6ac88d87b2fd118ba7beab8c17880470"))}else if("BODY"===e.target.tagName&&("Backspace"===e.key||"Delete"===e.key)){var n;if(e.preventDefault(),this.store.activeId)(n=t.getNodeById(this.store.activeId))&&t.activeRegion?s.warning(M("fdb3cba60407b2f1aea0230cca644573")):t.isRootSchema(this.store.activeId)?s.warning(M("8a4b4e2e3b0382007e0c69ed1fe6fe71")):n&&n.moveable?this.manager.del(this.store.activeId):s.warning(M("22f031f3de2e55c430a818d8c588f7a1"));return}}},t.prototype.handleMessage=function(e){e.data&&"amis-widget-register-event"===e.data.type&&e.data.editorPluginName&&(console.info(M("55c56d01a7747ffe0346d42145b62d97"),e.data.editorPluginName),this.manager.dynamicAddPlugin(e.data.editorPluginName))},t.prototype.handleContextMenu=function(e){var t,n,r,a="",o="";if(this.store.activeId?a=null===(t=e.target.closest('[data-editor-id="'.concat(this.store.activeId,'"]')))||void 0===t?void 0:t.getAttribute("data-editor-id"):this.store.selections.length&&(a=null===(n=e.target.closest(this.store.selections.map((function(e){return'[data-editor-id="'.concat(e,'"]')})).join(",")))||void 0===n?void 0:n.getAttribute("data-editor-id")),a||(a=null===(r=e.target.closest("[data-editor-id]"))||void 0===r?void 0:r.getAttribute("data-editor-id")),!a){var i=e.target.closest("[data-node-id]");if(!(a=null==i?void 0:i.getAttribute("data-node-id")))return;o=i.getAttribute("data-node-region")}e.preventDefault(),e.stopPropagation(),this.manager.openContextMenu(a,o,{x:window.scrollX+e.clientX,y:window.scrollY+e.clientY})},t.prototype.canUndo=function(){return this.store.canUndo},t.prototype.canRedo=function(){return this.store.canRedo},t.prototype.undo=function(){this.props.onUndo?this.props.onUndo():this.store.undo()},t.prototype.redo=function(){this.props.onRedo?this.props.onRedo():this.store.redo()},t.prototype.save=function(){this.props.onSave&&this.props.onSave()},t.prototype.preview=function(){this.props.onPreview&&this.props.onPreview(!0)},t.prototype.copy=function(){this.store.activeId&&(this.curCopySchemaData=this.store.getSchema(this.store.activeId))},t.prototype.paste=function(){if(this.store.activeId&&this.curCopySchemaData){if(!this.curCopySchemaData)return;var e=this.store.getSimpleSchema(this.curCopySchemaData);this.store.activeId===this.curCopySchemaData.$$id?this.manager.appendSiblingSchema(mt(e)):this.manager.addElem(mt(e))}},t.prototype.getToolbarContainer=function(){return this.mainRef.current},t.prototype.render=function(){var e=this.props,t=e.preview,n=e.isMobile,r=e.className,a=e.theme,o=e.appLocale,i=e.data,s=e.iframeUrl,c=e.previewProps,l=e.autoFocus;e.isSubEditor;var d=e.amisEnv;return _.createElement("div",{ref:this.mainRef,className:U("ae-Editor",{preview:t},r)},_.createElement("div",{className:"ae-Editor-inner",onContextMenu:this.handleContextMenu},!t&&_.createElement(Ja,{store:this.store,manager:this.manager,theme:a}),_.createElement("div",{className:"ae-Main"},!t&&_.createElement(Va,{store:this.store,manager:this.manager}),_.createElement(Pn,P({},c,{iframeUrl:s,editable:!t,isMobile:n,store:this.store,manager:this.manager,theme:a,appLocale:o,data:i,amisEnv:d,autoFocus:l,toolbarContainer:this.getToolbarContainer}))),!t&&_.createElement(Ga,{store:this.store,manager:this.manager,theme:a,appLocale:o,amisEnv:d}),!t&&_.createElement(Za,{store:this.store})),_.createElement(_a,{store:this.store,manager:this.manager,theme:a,amisEnv:d}),_.createElement(Ua,{store:this.store,manager:this.manager,theme:a}),_.createElement(Wa,{store:this.store,manager:this.manager,theme:a}))},t.defaultProps={autoFocus:!0},B([Rt,j("design:type",Function),j("design:paramtypes",[KeyboardEvent]),j("design:returntype",void 0)],t.prototype,"handleKeyDown",null),B([Rt,j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",void 0)],t.prototype,"handleMessage",null),B([Rt,j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",void 0)],t.prototype,"handleContextMenu",null),B([Rt,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",void 0)],t.prototype,"getToolbarContainer",null),t}(V),eo=[{label:M("4e7f76261f8c4c6d78998f85fc1f4c6e"),children:[{label:M("16a20243f9b741c08216dc9548de2968"),children:[{label:M("23ecf42cada8bf2715792d718544d107"),value:"m-xs"},{label:M("391b8fa9c747a1799353ab856e666ad5"),value:"m-sm"},{label:M("fd6e80f1e0199d6ecc3ee81ae04aa9ef"),value:"m"},{label:M("aed1dfbc31703955e64806b799b67645"),value:"m-md"},{label:M("ab18e30c0dc4093ceeda8961fac3d1f4"),value:"m-lg"}]},{label:M("461d364c67ec6a45e011ed13f2f7154f"),children:[{label:M("23ecf42cada8bf2715792d718544d107"),value:"m-t-xs"},{label:M("391b8fa9c747a1799353ab856e666ad5"),value:"m-t-sm"},{label:M("fd6e80f1e0199d6ecc3ee81ae04aa9ef"),value:"m-t"},{label:M("aed1dfbc31703955e64806b799b67645"),value:"m-t-md"},{label:M("ab18e30c0dc4093ceeda8961fac3d1f4"),value:"m-t-lg"}]},{label:M("31e3752986d64c8b36897c8641c8628d"),children:[{label:M("23ecf42cada8bf2715792d718544d107"),value:"m-r-xs"},{label:M("391b8fa9c747a1799353ab856e666ad5"),value:"m-r-sm"},{label:M("fd6e80f1e0199d6ecc3ee81ae04aa9ef"),value:"m-r"},{label:M("aed1dfbc31703955e64806b799b67645"),value:"m-r-md"},{label:M("ab18e30c0dc4093ceeda8961fac3d1f4"),value:"m-r-lg"}]},{label:M("eabe91d9426b6446f707cea3e7ab2418"),children:[{label:M("23ecf42cada8bf2715792d718544d107"),value:"m-b-xs"},{label:M("391b8fa9c747a1799353ab856e666ad5"),value:"m-b-sm"},{label:M("fd6e80f1e0199d6ecc3ee81ae04aa9ef"),value:"m-b"},{label:M("aed1dfbc31703955e64806b799b67645"),value:"m-b-md"},{label:M("ab18e30c0dc4093ceeda8961fac3d1f4"),value:"m-b-lg"}]},{label:M("2e46d251ee6188bb1b3ff20656276572"),children:[{label:M("23ecf42cada8bf2715792d718544d107"),value:"m-l-xs"},{label:M("391b8fa9c747a1799353ab856e666ad5"),value:"m-l-sm"},{label:M("fd6e80f1e0199d6ecc3ee81ae04aa9ef"),value:"m-l"},{label:M("aed1dfbc31703955e64806b799b67645"),value:"m-l-md"},{label:M("ab18e30c0dc4093ceeda8961fac3d1f4"),value:"m-l-lg"}]},{label:M("3dc4038d0f0a2d2b3c2b2e29a5ec6dde"),children:[{label:M("a8b0c20416853bda54120bf19477ad11"),value:"m-none"},"|",{label:M("af767b7e4ae069d54f9ea839858d4c6d"),value:"m-t-none"},{label:M("4d9c32c23df5d234e629c922c58d8e12"),value:"m-r-none"},{label:M("3850a186c3235bc646d4c2f79cebac36"),value:"m-b-none"},{label:M("d2aff1417831aa621c16cd5b95306b4b"),value:"m-l-none"}]}]},{label:M("841d77223f0ec8cd0b530ed8e0775b20"),children:[{label:M("16a20243f9b741c08216dc9548de2968"),children:[{label:M("23ecf42cada8bf2715792d718544d107"),value:"p-xs"},{label:M("391b8fa9c747a1799353ab856e666ad5"),value:"p-sm"},{label:M("fd6e80f1e0199d6ecc3ee81ae04aa9ef"),value:"p"},{label:M("aed1dfbc31703955e64806b799b67645"),value:"p-md"},{label:M("ab18e30c0dc4093ceeda8961fac3d1f4"),value:"p-lg"}]},{label:M("461d364c67ec6a45e011ed13f2f7154f"),children:[{label:M("23ecf42cada8bf2715792d718544d107"),value:"p-t-xs"},{label:M("391b8fa9c747a1799353ab856e666ad5"),value:"p-t-sm"},{label:M("fd6e80f1e0199d6ecc3ee81ae04aa9ef"),value:"p-t"},{label:M("aed1dfbc31703955e64806b799b67645"),value:"p-t-md"},{label:M("ab18e30c0dc4093ceeda8961fac3d1f4"),value:"p-t-lg"}]},{label:M("31e3752986d64c8b36897c8641c8628d"),children:[{label:M("23ecf42cada8bf2715792d718544d107"),value:"p-r-xs"},{label:M("391b8fa9c747a1799353ab856e666ad5"),value:"p-r-sm"},{label:M("fd6e80f1e0199d6ecc3ee81ae04aa9ef"),value:"p-r"},{label:M("aed1dfbc31703955e64806b799b67645"),value:"p-r-md"},{label:M("ab18e30c0dc4093ceeda8961fac3d1f4"),value:"p-r-lg"}]},{label:M("eabe91d9426b6446f707cea3e7ab2418"),children:[{label:M("23ecf42cada8bf2715792d718544d107"),value:"p-b-xs"},{label:M("391b8fa9c747a1799353ab856e666ad5"),value:"p-b-sm"},{label:M("fd6e80f1e0199d6ecc3ee81ae04aa9ef"),value:"p-b"},{label:M("aed1dfbc31703955e64806b799b67645"),value:"p-b-md"},{label:M("ab18e30c0dc4093ceeda8961fac3d1f4"),value:"p-b-lg"}]},{label:M("2e46d251ee6188bb1b3ff20656276572"),children:[{label:M("23ecf42cada8bf2715792d718544d107"),value:"p-l-xs"},{label:M("391b8fa9c747a1799353ab856e666ad5"),value:"p-l-sm"},{label:M("fd6e80f1e0199d6ecc3ee81ae04aa9ef"),value:"p-l"},{label:M("aed1dfbc31703955e64806b799b67645"),value:"p-l-md"},{label:M("ab18e30c0dc4093ceeda8961fac3d1f4"),value:"p-l-lg"}]},{label:M("3dc4038d0f0a2d2b3c2b2e29a5ec6dde"),children:[{label:M("a8b0c20416853bda54120bf19477ad11"),value:"p-none"},"|",{label:M("af767b7e4ae069d54f9ea839858d4c6d"),value:"p-t-none"},{label:M("4d9c32c23df5d234e629c922c58d8e12"),value:"p-r-none"},{label:M("3850a186c3235bc646d4c2f79cebac36"),value:"p-b-none"},{label:M("d2aff1417831aa621c16cd5b95306b4b"),value:"p-l-none"}]}]},{label:M("961534b4ea37e4e88aada736b299d063"),className:"w2x",children:[{label:M("d4d2a66820d30e07b44c850eb3f116c0"),children:[{label:M("a8b0c20416853bda54120bf19477ad11"),value:"b-a"},"|",{label:M("af767b7e4ae069d54f9ea839858d4c6d"),value:"b-t"},{label:M("4d9c32c23df5d234e629c922c58d8e12"),value:"b-r"},{label:M("3850a186c3235bc646d4c2f79cebac36"),value:"b-b"},{label:M("d2aff1417831aa621c16cd5b95306b4b"),value:"b-l"},"|",{label:M("3dc4038d0f0a2d2b3c2b2e29a5ec6dde"),value:"no-border"}]},{label:M("58f966670529f4753fb3c5a0647606be"),children:[{label:"2x",value:"b-2x"},{label:"3x",value:"b-3x"},{label:"4x",value:"b-4x"},{label:"5x",value:"b-5x"}]},{label:M("6b36c6f7ec834692ec6c8e3816349fdd"),children:[{label:M("fbae87bcc352f6933541fb77a07418ed"),value:"b-primary",className:"bg-primary"},{label:M("d8c7e04c8e2be23dd3b81a31db6e04f1"),value:"b-info",className:"bg-info"},{label:M("900c70fa5f7dbc014e6f762d5e0e885c"),value:"b-warning",className:"bg-warning"},{label:M("540f84ddc0883866b229f71c2844199a"),value:"b-danger",className:"bg-danger"},{label:M("330363dfc524cff2488f2ebde0500896"),value:"b-success",className:"bg-success"},{label:M("2fc96b2704b05d6a9f299c442573ee77"),value:"b-white",className:"bg-white"},{label:M("adb7e5312abdb9a44297e48d63815fa3"),value:"b-dark",className:"bg-dark"},{label:M("48d0a09bdd5fe7e89f0a445b0ffdf14f"),value:"b-light",className:"bg-light"}]}]},{label:M("0d98c74797e49d00bcc4c17c9d557a2b"),className:"w2x",children:[{label:M("0103eb2d3dca70270d1a74e9ec987ac9"),children:[{label:M("a8b0c20416853bda54120bf19477ad11"),value:"r"},"|",{label:M("af767b7e4ae069d54f9ea839858d4c6d"),value:"r-t"},{label:M("4d9c32c23df5d234e629c922c58d8e12"),value:"r-r"},{label:M("3850a186c3235bc646d4c2f79cebac36"),value:"r-b"},{label:M("d2aff1417831aa621c16cd5b95306b4b"),value:"r-l"},"|",{label:"2x",value:"r-2x"},{label:"3x",value:"r-3x"}]},{label:M("8456bc40d48da5af833f1c63385e9879"),children:[{label:M("fd6e80f1e0199d6ecc3ee81ae04aa9ef"),value:"font-normal"},{label:M("b3b2682579133673d3fe08c156d565dc"),value:"font-thin"},{label:M("56dce5d1cbb97439d291c458e50107e0"),value:"font-bold"},"|",{label:M("23ecf42cada8bf2715792d718544d107"),value:"text-xs"},{label:M("391b8fa9c747a1799353ab856e666ad5"),value:"text-sm"},{label:M("fd6e80f1e0199d6ecc3ee81ae04aa9ef"),value:"text-base"},{label:M("aed1dfbc31703955e64806b799b67645"),value:"text-md"},{label:M("ab18e30c0dc4093ceeda8961fac3d1f4"),value:"text-lg"}]},{label:M("6b36c6f7ec834692ec6c8e3816349fdd"),children:[{label:M("fbae87bcc352f6933541fb77a07418ed"),value:"text-primary",className:"text-primary"},{label:M("d8c7e04c8e2be23dd3b81a31db6e04f1"),value:"text-info",className:"text-info"},{label:M("900c70fa5f7dbc014e6f762d5e0e885c"),value:"text-warning",className:"text-warning"},{label:M("540f84ddc0883866b229f71c2844199a"),value:"text-danger",className:"text-danger"},{label:M("330363dfc524cff2488f2ebde0500896"),value:"text-success",className:"text-success"},{label:M("2fc96b2704b05d6a9f299c442573ee77"),value:"text-white",className:"text-white bg-dark"},{label:M("adb7e5312abdb9a44297e48d63815fa3"),value:"text-dark",className:"text-dark"},{label:M("49a79f4047b81186c069ed1c9c151c66"),value:"text-muted",className:"text-muted"}]},{label:M("8e1b944f4389bdaab6f11d5bc83190c8"),children:[{label:M("fbae87bcc352f6933541fb77a07418ed"),value:"bg-primary",className:"bg-primary"},{label:M("d8c7e04c8e2be23dd3b81a31db6e04f1"),value:"bg-info",className:"bg-info"},{label:M("900c70fa5f7dbc014e6f762d5e0e885c"),value:"bg-warning",className:"bg-warning"},{label:M("540f84ddc0883866b229f71c2844199a"),value:"bg-danger",className:"bg-danger"},{label:M("330363dfc524cff2488f2ebde0500896"),value:"bg-success",className:"bg-success"},{label:M("2fc96b2704b05d6a9f299c442573ee77"),value:"bg-white",className:"bg-white"},{label:M("adb7e5312abdb9a44297e48d63815fa3"),value:"bg-dark",className:"bg-dark"},{label:M("48d0a09bdd5fe7e89f0a445b0ffdf14f"),value:"bg-light",className:"bg-light"},"|",{label:M("3dc4038d0f0a2d2b3c2b2e29a5ec6dde"),value:"no-bg"}]},{label:M("c28479019e24e0e4745f4948e9e97ee7"),children:[{label:M("f72ce9ad683cc82e0eab557ffc9c67a0"),value:"w-xxs"},{label:M("23ecf42cada8bf2715792d718544d107"),value:"w-xs"},{label:M("391b8fa9c747a1799353ab856e666ad5"),value:"w-sm"},{label:M("fd6e80f1e0199d6ecc3ee81ae04aa9ef"),value:"w"},{label:M("aed1dfbc31703955e64806b799b67645"),value:"w-md"},{label:M("ab18e30c0dc4093ceeda8961fac3d1f4"),value:"w-lg"},{label:M("b95c462d7697958c25861193fc89ae07"),value:"w-xl"},{label:M("3386da5f56fac758ed0f18e024ecb943"),value:"w-xxl"},{label:M("ffaa96ef7232cb6d8ee4d7e673dbf4ac"),value:"w-full"}]}]}];!function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={isFocused:!1,isOpened:!1},e.values=[],e}D(n,t),n.prototype.open=function(){this.setState({isOpened:!0})},n.prototype.close=function(){this.setState({isOpened:!1})},n.prototype.toggle=function(){this.setState({isOpened:!this.state.isOpened})},n.prototype.handleFocus=function(e){this.setState({isFocused:!0}),this.props.onFocus&&this.props.onFocus(e)},n.prototype.handleBlur=function(e){this.setState({isFocused:!1}),this.props.onBlur&&this.props.onBlur(e)},n.prototype.handleChange=function(e){(0,this.props.onChange)(e.currentTarget.value)},n.prototype.getParent=function(){return ue(this)},n.prototype.getTarget=function(){return ue(this)},n.prototype.handlePopOverChange=function(e){var t=this.props.value||"",n=t.replace(/\s+/g," ").split(/\s+/),r=n.indexOf(e.value),a=this.props.onChange;if(~r)n.splice(r,1),t=n.join(" ");else{if(/(?:^|\s)(m|p)\-(t|r|b|l)(?:\-(?:xs|sm|md|lg))?(?:$|\s)/.test(e.value)){var o=new RegExp("(?:^|\\s)".concat(RegExp.$1,"\\-").concat(RegExp.$2,"(?:\\-(?:xs|sm|md|lg))?(?=(\\s|$))"),"ig");t=t.replace(o,"")}else if(/(?:^|\s)(m|p)(?:\-(xs|sm|md|lg))?(?:$|\s)/.test(e.value)){o=new RegExp("(?:^|\\s)".concat(RegExp.$1,"(?:\\-(?:xs|sm|md|lg))?(?=(\\s|$))"),"ig");t=t.replace(o,"")}else if(/(?:^|\s)(m|p)(?:\-(t|r|b|l))?\-none(?:$|\s)/.test(e.value)){o=new RegExp(RegExp.$2?"(?:^|\\s)".concat(RegExp.$1,"(?:(?:\\-").concat(RegExp.$2,"(?:\\-(?:xs|sm|md|lg)))|\\-none)?(?=(\\s|$))"):"(?:^|\\s)".concat(RegExp.$1,"(?:[^\\s$]+)?(?=(\\s|$))"),"ig");t=t.replace(o,"$1")}else/(?:^|\s)w(?:\-\w+)?(?:$|\s)/.test(e.value)?t=t.replace(/(?:^|\s)w(?:\-\w+)?(?=(\s|$))/g,""):"b-a"===e.value?t=(t=t.replace(/(?:^|\s)b\-(?:t|r|b|l)(?=(\s|$))/g,"")).replace(/(?:^|\s)no\-border(?=(\s|$))/g,""):/(?:^|\s)b\-(?:t|r|b|l)?(?:$|\s)/.test(e.value)?t=(t=t.replace(/(?:^|\s)b\-a(?=(\s|$))/g,"")).replace(/(?:^|\s)no\-border(?=(\s|$))/g,""):/(?:^|\s)b\-\dx(?:$|\s)/.test(e.value)?t=t.replace(/(?:^|\s)b\-\dx(?=(\s|$))/g,""):"no-border"===e.value?t=t.replace(/(?:^|\s)b\-(?:\dx|\w+)(?=(\s|$))/g,""):/(?:^|\s)b\-(?:primary|info|warning|danger|success|white|dark|light)(?:$|\s)/.test(e.value)?t=t.replace(/(?:^|\s)b\-(?:primary|info|warning|danger|success|white|dark|light)(?=(\s|$))/g,""):"r"===e.value?t=t.replace(/(?:^|\s)r\-(?:t|r|b|l)(?=(\s|$))/g,""):/(?:^|\s)r\-(?:t|r|b|l)?(?:$|\s)/.test(e.value)?t=t.replace(/(?:^|\s)r(?=(\s|$))/g,""):/(?:^|\s)r\-\dx(?:$|\s)/.test(e.value)?t=t.replace(/(?:^|\s)r\-\dx(?=(\s|$))/g,""):/(?:^|\s)text\-(?:xs|sm|base|md|lg)(?:$|\s)/.test(e.value)?t=t.replace(/(?:^|\s)text\-(?:xs|sm|base|md|lg)(?=(\s|$))/g,""):/(?:^|\s)font\-(?:normal|thin|bold)(?:$|\s)/.test(e.value)?t=t.replace(/(?:^|\s)font\-(?:normal|thin|bold)(?=(\s|$))/g,""):/(?:^|\s)text\-(?:primary|info|warning|danger|success|white|dark|light)(?:$|\s)/.test(e.value)?t=t.replace(/(?:^|\s)text\-(?:primary|info|warning|danger|success|white|dark|light)(?=(\s|$))/g,""):/(?:^|\s)bg\-(?:primary|info|warning|danger|success|white|dark|light)(?:$|\s)/.test(e.value)?t=(t=t.replace(/(?:^|\s)bg\-(?:primary|info|warning|danger|success|white|dark|light)(?=(\s|$))/g,"")).replace(/(?:^|\s)no\-bg(?=(\s|$))/g,""):"no-bg"===e.value&&(t=t.replace(/(?:^|\s)bg\-(?:primary|info|warning|danger|success|white|dark|light)(?=(\s|$))/g,""));t=t.replace(/\s+/g," ").trim(),t+=(t?" ":"")+e.value}a(t)},n.prototype.renderGroup=function(e,t){var n=this,r=this.props.classnames;return _.createElement("div",{key:t,className:r("ae-ClassNameControl-group",e.className)},_.createElement("label",{className:r("ae-ClassNameControl-groupLabel",e.labelClassName)},e.label),e.children&&e.children.length?e.children[0].value?this.renderOptions(e.children,t):e.children.map((function(e,t){return n.renderGroup(e,t)})):null)},n.prototype.renderOptions=function(e,t){var n=this,r=this.props.classnames;return function(e){for(var t=[],n=t[0]=[],r=0,a=e.length;r<a;r++){var o=e[r];"|"===o?(n=[],t.push(n)):n.push(o)}return t}(e).map((function(e,t){return _.createElement("div",{className:r("ButtonGroup"),key:t},e.map((function(e,t){return _.createElement("div",{key:t,onClick:function(){return n.handlePopOverChange(e)},className:r("Button Button--size-xs",e.className,~n.values.indexOf(e.value)?"Button--primary":"Button--default")},e.label)})))}))},n.prototype.renderPopover=function(){var e=this,t=this.props.value;return this.values="string"==typeof t?t.split(" "):[],_.createElement("div",null,eo.map((function(t,n){return e.renderGroup(t,n)})))},n.prototype.render=function(){var e,t=this.props,n=t.classnames,r=t.readOnly,a=t.disabled,o=t.value,i=t.className,s=t.name,c=t.popOverContainer;return _.createElement("div",{className:i},_.createElement("div",{className:n("TextControl",(e={},e["TextControl--withAddOn"]=!0,e["is-focused"]=this.state.isFocused,e["is-disabled"]=a,e))},_.createElement("div",{className:n("TextControl-input")},_.createElement("input",{name:s,placeholder:"请输入 css 类名",disabled:a,readOnly:r,type:"text",autoComplete:"off",onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,value:null==o?"":"string"==typeof o?o:JSON.stringify(o)})),_.createElement("div",{className:n("TextControl-button")},_.createElement(g,{onClick:this.toggle},_.createElement("i",{className:"fa fa-cog"})))),_.createElement(R,{placement:"right-bottom-right-top  right-top-right-bottom right-bottom-right-top",target:this.getTarget,container:c||this.getParent,rootClose:!1,show:this.state.isOpened,watchTargetSizeChange:!1},_.createElement(O,{className:"ae-ClassNamePicker-popover",onHide:this.close,overlay:!0},this.renderPopover())))},B([e.autobind,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",void 0)],n.prototype,"open",null),B([e.autobind,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",void 0)],n.prototype,"close",null),B([e.autobind,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",void 0)],n.prototype,"toggle",null),B([e.autobind,j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",void 0)],n.prototype,"handleFocus",null),B([e.autobind,j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",void 0)],n.prototype,"handleBlur",null),B([e.autobind,j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",void 0)],n.prototype,"handleChange",null),B([e.autobind,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",void 0)],n.prototype,"getParent",null),B([e.autobind,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",void 0)],n.prototype,"getTarget",null),n=B([k({type:"ae-classname"})],n)}(_.Component);var to=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.order=-9999,t}return D(t,e),t.prototype.buildEditorPanel=function(e,t){var n=this.manager.store;e.selections.length||n.subRenderers.length&&t.push({key:"renderers",icon:"png-icon renderers-png",title:_.createElement("span",{className:"editor-tab-icon","editor-tooltip":"组件"},_.createElement(r,{icon:"editor-renderer"})),component:$a,position:"left",order:-9999})},t.scene=["layout"],t}(tn);function no(e,t){return function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return D(r,n),r.prototype.render=function(){return _.createElement(_.Fragment,null,_.createElement(e,P({},this.props)),_.createElement(Xa,{isLeftDragIcon:t}))},r}(_.Component)}Sn(to),Sn(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.order=-9999,t}return D(t,e),t.prototype.buildEditorToolbar=function(e,t){var n,r,a,o,i=this,s=e.id,c=e.schema,l=e.info,d=this.manager.store,u=d.getNodeById(s),p=d.getSchemaParentById(s),f=this.manager.draggableContainer(s),h=(null==c?void 0:c.isSorptionContainer)||!1,m=u.parent;if(Array.isArray(p)&&(null==m?void 0:m.isRegion)||f){var v=u.host;!u.draggable&&!f||h||t.push({iconSvg:"drag-btn",icon:"fa fa-arrows",tooltip:M("7f2f0461a58c43667d7245ce92bb2e77"),placement:"bottom",draggable:!0,order:-1e3,onDragStart:this.manager.startDrag.bind(this.manager,s)});var g=null==p?void 0:p.indexOf(c);if(!(null==v?void 0:v.memberImmutable(m.region))&&d.panels.some((function(e){return"renderers"===e.key}))){var b=null===(n=p[g+1])||void 0===n?void 0:n.$$id;t.push({iconSvg:"left-arrow-to-left",tooltip:M("78c1c38b91c672da1113fa2564c14ea6"),placement:"bottom",onClick:function(){return i.manager.showInsertPanel(m.region,m.id,m.preferTag,"insert",void 0,s)}},{iconSvg:"arrow-to-right",tooltip:M("87f48bbadfbef5ef4554e06b7e141d37"),placement:"bottom",onClick:function(){return i.manager.showInsertPanel(m.region,m.id,m.preferTag,"insert",void 0,b)}})}}u.isVitualRenderer||!u.info.plugin.popOverBody&&!u.info.plugin.popOverBodyCreator||t.push({icon:"fa fa-pencil",tooltip:M("95b351c86267f3aedf89520959bce689"),placement:"bottom",onClick:function(e){return i.manager.openNodePopOverForm(u.id)}}),(u.removable||void 0===u.removable)&&t.push({iconSvg:"delete-btn",icon:"fa",tooltip:M("2f4aaddde33c9b93c36fd2503f3d122b"),placement:"bottom",order:999,onClick:this.manager.del.bind(this.manager,s)}),t.push({iconSvg:"more-btn",icon:"fa fa-cog",tooltip:M("0ec9eaf9c3525eb110db58aae5912210"),placement:"bottom",order:1e3,onClick:function(e){if(!e.defaultPrevented){var t=e.target.parentElement.getBoundingClientRect();i.manager.openContextMenu(s,"",{x:window.scrollX+t.left+t.width-155,y:window.scrollY+t.top+t.height+8})}}}),(null!==(a=null===(r=l.scaffoldForm)||void 0===r?void 0:r.canRebuild)&&void 0!==a?a:null===(o=l.plugin.scaffoldForm)||void 0===o?void 0:o.canRebuild)&&t.push({iconSvg:"harmmer",tooltip:"快速构建「".concat(l.plugin.name,"」"),placement:"bottom",onClick:function(){return i.manager.reScaffoldV2(s)}})},t.prototype.buildEditorContextMenu=function(e,t){var n,r,a,o=this,i=e.id,s=e.schema,c=e.region,l=e.info,d=e.selections,u=this.manager,p=u.store,f=p.getSchemaParentById(i),h=p.getNodeById(i),m=p.getNodePathById(i),v=m.pop();if(h.host,h.parent,d.length)t.push({label:M("417db09508befe7dbe9f84a517a6edec"),icon:"copy-icon",disabled:d.some((function(e){return!e.node.duplicatable})),onSelect:function(){return u.duplicate(d.map((function(e){return e.id})))}}),t.push({label:M("99b81127ef28368151621cdfccce69f8"),icon:"cancel-icon",onSelect:function(){return p.setActiveId(i)}}),t.push({label:M("2f4aaddde33c9b93c36fd2503f3d122b"),icon:"delete-icon",disabled:d.some((function(e){return!e.node.removable})),className:"text-danger",onSelect:function(){return u.del(d.map((function(e){return e.id})))}});else if(c){(y=p.panels.find((function(e){return"renderers"===e.key})))&&(t.push({label:M("205f45ee17394bd5668412780eaa55e2"),onHighlight:function(e){return e&&p.setHoverId(i,c)},onSelect:function(){return p.showInsertRendererPanel()}}),t.push({label:M("288f0c404c4e546aa3683ff5054e85e2"),onSelect:function(){return u.emptyRegion(i,c)}}),t.push({label:M("eafbece1016a6af76cce466e55ad9f00"),onSelect:function(){return u.paste(i,c)}}))}else{if(t.push({label:"选中".concat(v.label),disabled:p.activeId===v.id,data:i,onSelect:function(e){return p.setActiveId(e)},onHighlight:function(e,t){return e&&p.setHoverId(t)}}),m.length){var g=m.filter((function(e){var t;return!e.isRegion&&!1!==(null===(t=e.info)||void 0===t?void 0:t.editable)})).reverse().map((function(e){return{label:e.label,data:e.id,onSelect:function(e){return p.setActiveId(e)},onHighlight:function(e,t){return e&&p.setHoverId(t)}}}));g.length&&t.push({label:M("7ad78e0991f34ff3a345c59a2fc31572"),children:g})}t.push({label:M("aafda9e8f6b7b613680677c513edb7a6"),disabled:!p.activeId||p.activeId!==i,onSelect:function(){return p.setActiveId("")}}),t.push("|"),t.push({label:M("417db09508befe7dbe9f84a517a6edec"),disabled:!h.duplicatable,onSelect:function(){return u.duplicate(i)}}),t.push({label:M("b58d101f52531c845f15db63d7212115"),onSelect:function(){return u.copy(i)}}),t.push({label:M("74e2bc6615b7dbbb11fd5e1e212263ae"),disabled:!h.removable,onSelect:function(){return u.cut(i)}}),t.push({label:M("e2f401af580d1354ae00ec4ca19e2e24"),disabled:!Array.isArray(f)||!h.parent||!1===(null===(n=h.info)||void 0===n?void 0:n.typeMutable)||!h.replaceable,onSelect:function(){return u.paste(i)}}),t.push({label:M("2f4aaddde33c9b93c36fd2503f3d122b"),disabled:!h.removable,className:"text-danger",onSelect:function(){return u.del(i)}}),t.push("|");var b=Array.isArray(f)?f.indexOf(s):-1;t.push({label:M("21462ae22216eec41dc688cc4a8ae64b"),disabled:!(Array.isArray(f)&&b>0&&h.moveable),onSelect:function(){return u.moveUp()}}),t.push({label:M("ed2bc13d8bbd99e16e017dd5f5393393"),disabled:!(Array.isArray(f)&&b<f.length-1&&h.moveable),onSelect:function(){return u.moveDown()}}),t.push("|"),t.push({label:M("9e54f3e4ee3330299c5fdc910c2e8d3c"),disabled:!p.canUndo,onSelect:function(){return p.undo()}}),t.push({label:M("ae8e86e426c2ba00da274b66dc372a8b"),disabled:!p.canRedo,onSelect:function(){return p.redo()}});var y=p.panels.find((function(e){return"renderers"===e.key}));v.childRegions.length&&y&&(v.childRegions.length>1?t.push({label:M("205f45ee17394bd5668412780eaa55e2"),children:v.childRegions.map((function(e){return{label:"".concat(e.label),data:e.region,onHighlight:function(e,t){return e?p.setHoverId(i,t):p.setHoverId("")},onSelect:function(){return p.showInsertRendererPanel()}}}))}):t.push({label:M("205f45ee17394bd5668412780eaa55e2"),data:v.childRegions[0].region,onHighlight:function(e,t){return e?p.setHoverId(i,t):p.setHoverId("")},onSelect:function(){return p.showInsertRendererPanel()}}))}d.length||!(null===(r=l.plugin.scaffoldForm)||void 0===r?void 0:r.canRebuild)&&!(null===(a=l.scaffoldForm)||void 0===a?void 0:a.canRebuild)||t.push({label:"快速构建「".concat(l.plugin.name,"」"),disabled:s.$$commonSchema,onSelect:function(){return o.manager.reScaffold(i,l.scaffoldForm||l.plugin.scaffoldForm,s)}})},t.prototype.buildEditorPanel=function(e,t){if(e.selections.length){var n=this.manager.store,r=[],a=P(P({},e),{data:r,region:""});(r=this.manager.buildContextMenus(a)).length&&t.push({key:"contextmenu",icon:"fa fa-cog",title:M("2b6bc0f293f5ca01b006206c2535ccbc"),menus:r,render:this.manager.makeSchemaFormRender({body:[{type:"button-group",buttons:r.filter((function(e){return"|"!==e})).map((function(e){return P(P({},e),{type:"button",onClick:e.onSelect})}))}],panelById:n.activeId})})}},t.prototype.afterInsert=function(e){var t,n,r=this,a=e.context;if(a.node&&(null===(n=null===(t=a.subRenderer)||void 0===t?void 0:t.plugin)||void 0===n?void 0:n.popOverBody)){var o=a.data.$$id;o&&setTimeout((function(){r.manager.setActiveId(o),requestAnimationFrame((function(){r.manager.openNodePopOverForm(o)}))}),200)}},t.scene=["layout"],t}(tn));var ro=/^\/schemas\/(.*).json$/;function ao(e,t,n,r){return z(this,void 0,void 0,(function(){var a,o,i,s,c,l,d;return $(this,(function(u){switch(u.label){case 0:return a=Array.isArray(r)?r.concat():[],"production"===process.env.NODE_ENV?[3,3]:a.some((function(t){return t.uri===e}))?[3,2]:(i=(o=a).push,d={uri:e},[4,import("amis/schema.json").then((function(e){return e.default}))]);case 1:i.apply(o,[(d.schema=u.sent(),d)]),u.label=2;case 2:u.label=3;case 3:return ro.test(t)&&(s=RegExp.$1,c="".concat(e.replace(/^(\w+\:\/\/[^\/]+)\/.*$/,"$1"),"/schemas/").concat(s,".json"),l=xe(a,(function(e){var t;return(null===(t=e.fileMatch)||void 0===t?void 0:t[0])===n})),~l&&a.splice(l,1),a.push({uri:c,fileMatch:[n],schema:{$schema:"http://json-schema.org/draft-07/schema#",$ref:"".concat(e,"#/definitions/").concat(s)}})),[2,a]}}))}))}var oo=Ne((function(e){s.warning("代码有误，错误的地方是\n ".concat(e.toString().split("\n")[1]))}),3e3),io=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={wrongSchema:"",value:t.props.value,contents:t.obj2str(t.props.value,t.props)},t.toDispose=[],t.uri="isuda://schema/".concat(ze(),".json"),t.emitChange=Ne((function(){var e=t.props,n=e.onChange,r=e.value,a=t.str2obj(t.state.contents);if(a&&J(a)){t.setState({wrongSchema:""}),delete a.$schema,a=yt(a,t.props.value);var o=Mt(t.lastResult||r,a);t.lastResult=a,n(a,o)}else t.setState({wrongSchema:t.state.contents})}),250,{trailing:!0,leading:!1}),t.editorFactory=function(e,n,r){var a=n.Uri.parse(t.uri);return t.model=n.editor.createModel(t.state.contents,"json",a),n.editor.create(e,P(P({autoIndent:!0,formatOnType:!0,formatOnPaste:!0,selectOnLineNumbers:!0,scrollBeyondLastLine:!1,folding:!0,scrollbar:{alwaysConsumeMouseWheel:!1},minimap:{enabled:!1}},r),{model:t.model}))},t.editorDidMount=function(e,n){t.editor=e,t.monaco=n,t.changeJsonOptions(t.props),t.props.onPaste&&t.toDispose.push(t.editor.onDidPaste(t.props.onPaste).dispose)},t.editorWillUnmount=function(e,n){t.toDispose.forEach((function(e){return e()})),t.toDispose=[]},t.handleChange=function(e){t.setState({contents:e},t.emitChange)},t.handleBlur=function(){return z(t,void 0,void 0,(function(){var e,t,n;return $(this,(function(r){switch(r.label){case 0:return e=this.state,t=e.wrongSchema,n=e.value,t?[4,F([{className:"w-full",type:"tpl",label:!1,tpl:M("7e4b38ba0ab9cbfcabd9dd859e36b601")},{type:"switch",label:!1,option:M("af86ad9dd8a221f931dcdc5a63382b6f"),name:"diff",value:!1},{visibleOn:"this.diff",label:!1,type:"diff-editor",allowFullscreen:!0,disabled:!0,name:"newValue",size:"xxl",language:"json",diffValue:"${oldValue}"}],{oldValue:n,newValue:t},M("43d586cd6cf1a512c0bcb85ed9efde51"))]:[2];case 1:return r.sent()?this.setState({wrongSchema:"",contents:ke(n)}):this.editor.focus(),[2]}}))}))},t}return D(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props;e.$schema!==t.$schema&&this.monaco&&this.changeJsonOptions(t),Ke(t.value,e.value)&&Ke(t.value,this.lastResult)&&(this.lastResult=null,this.setState({value:t.value,contents:this.obj2str(t.value,t)}))},t.prototype.obj2str=function(e,t){var n;return e=yt(e),!(e=P({type:null==e?void 0:e.type},e)).type&&(null===(n=t.$schema)||void 0===n?void 0:n.match(/PageSchema/i))?e.type="page":e.type||delete e.type,delete e.$schema,ke(e)},t.prototype.str2obj=function(e){try{if(""===e)return{};var t=Fe(e);return oo&&oo.cancel(),t}catch(e){return oo(e),null}},t.prototype.changeJsonOptions=function(e){var t;return void 0===e&&(e=this.props),z(this,void 0,void 0,(function(){var n,r,a;return $(this,(function(o){switch(o.label){case 0:return n=this.monaco,0===(r=e.$schemaUrl||"".concat(window.location.protocol,"//").concat(window.location.host,"/schema.json")).indexOf("/")&&(r="".concat(window.location.protocol,"//").concat(window.location.host).concat(r)),[4,ao(r,e.$schema,n.Uri.parse(this.uri).toString(),null===(t=n.languages.json)||void 0===t?void 0:t.jsonDefaults.diagnosticsOptions.schemas)];case 1:return a=o.sent(),n.languages.json.jsonDefaults.setDiagnosticsOptions({schemas:a,validate:!0,enableSchemaRequest:!0,allowComments:!0}),[2]}}))}))},t.prototype.render=function(){var e=this.props,t=e.disabled,n=e.className,r=e.theme;return _.createElement(Te,{className:U("amis-code-editor",n),value:this.state.contents,onChange:this.handleChange,onBlur:this.handleBlur,language:"json",theme:r,editorFactory:this.editorFactory,editorDidMount:this.editorDidMount,editorWillUnmount:this.editorWillUnmount,options:{automaticLayout:!0,lineNumbers:"off",glyphMargin:!1,tabSize:2,wordWrap:"on",lineDecorationsWidth:0,lineNumbersMinChars:0,selectOnLineNumbers:!0,scrollBeyondLastLine:!1,folding:!0,minimap:{enabled:!1},readOnly:t}})},t}(_.Component),so=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return D(t,e),t.prototype.handleCodePaste=function(){var e=this;setTimeout((function(){e.props.manager.patchSchema(!0)}),500)},t.prototype.render=function(){var e=this.props,t=e.onChange,n=e.manager,r=e.store;return _.createElement("div",{className:"ae-CodePanel"},_.createElement("div",{className:"panel-header"},"源码"),_.createElement("div",{className:"ae-CodePanel-content"},_.createElement(io,{value:r.valueWithoutHiddenProps,onChange:t,$schema:r.jsonSchemaUri,$schemaUrl:n.config.$schemaUrl,onPaste:this.handleCodePaste})))},B([Rt,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",void 0)],t.prototype,"handleCodePaste",null),t}(_.Component);Sn(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.order=-9999,t}return D(t,e),t.prototype.buildJSONSchema=function(e){return e.info.$schema},t.prototype.buildEditorPanel=function(e,t){e.info;var n=e.selections;this.manager.store.jsonSchemaUri&&!n.length&&t.push({key:"code",icon:"png-icon code-png",title:_.createElement("span",{className:"editor-tab-icon","editor-tooltip":"代码"},_.createElement(r,{icon:"editor-code"})),position:"left",component:no(so),order:5e3})},t.scene=["layout"],t}(tn)),Sn(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dataViewer={type:"json",name:"ctx",asFormItem:!0,className:"m-b-none",component:function(e){for(var t=e.value,n=e.onChange,r=e.readOnly,a=L(_.useState(0),2),o=a[0],i=a[1],s=t||{},c=[s];Object.getPrototypeOf(s)!==Object.prototype;){var l=Object.getPrototypeOf(s);if("[object Object]"!==Object.prototype.toString.call(l))break;c.push(l),s=l}function d(e){var t=Object.create(c[1]||Object.prototype);Object.keys(e.updated_src).forEach((function(n){return t[n]=e.updated_src[n]})),n(t)}return _.createElement("div",{className:"aeDataChain"},_.createElement("div",{className:"aeDataChain-aside"},_.createElement("ul",null,c.map((function(e,t){return _.createElement("li",{className:t===o?"is-active":"",key:t,onClick:function(){return i(t)}},0===t?M("48ac479789304b37afa2f1b06642f4da"):1===t?M("9bc16c658ab8a8c4eddc5e24d85bef20"):"上".concat(t,"层"))})))),_.createElement("div",{className:"aeDataChain-main"},_.createElement(He,{name:!1,src:c[o],enableClipboard:!1,iconStyle:"square",onAdd:0===o&&!r&&d,onEdit:0===o&&!r&&d,onDelete:0===o&&!r&&d,collapsed:2})))}},t}return D(t,e),t.prototype.buildEditorToolbar=function(e,t){var n=this;e.id,e.schema;var r=e.node.getComponent();if(r&&r.props&&r.props.data&&r.props.store){var a=r.props.store;t.push({icon:"fa fa-bug",order:-1e3,placement:"bottom",tooltip:M("aa920263020f14211a44ea172efc7253"),onClick:function(){return n.openDebugForm(r.props.data,a.updateData&&a.data===r.props.data?function(e){return a.updateData(e)}:void 0)}})}},t.prototype.openDebugForm=function(e,t){return z(this,void 0,void 0,(function(){var n;return $(this,(function(r){switch(r.label){case 0:return[4,this.manager.scaffold({title:M("aa920263020f14211a44ea172efc7253"),body:[P(P({},this.dataViewer),{readOnly:!t})]},{ctx:e})];case 1:return n=r.sent(),null==t||t(n.ctx),[2]}}))}))},t.scene=["layout"],t.id="data-debug",t}(tn)),Sn(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.order=-9999,t.rendererName="error",t.name="Error",t.isBaseComponent=!0,t}return D(t,e),t.scene=["layout"],t}(tn));var co=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={curSearchElemKey:""},t}return D(t,e),t.prototype.handleClick=function(e){var t=this.props.store,n=e.currentTarget,r=n.getAttribute("data-node-id"),a=n.getAttribute("data-node-region");this.props.manager,a?t.activeId===r&&t.activeRegion===a?t.setActiveId(r):t.setActiveId(r,a):t.setActiveId(r)},t.prototype.handleEnter=function(e){var t=e.currentTarget,n=t.getAttribute("data-node-id"),r=t.getAttribute("data-node-region");this.props.store.setHoverId(n,r)},t.prototype.handleDragStart=function(e){var t=e.currentTarget.getAttribute("data-node-id");t&&this.props.manager.startDrag(t,e)},t.prototype.handleDragOver=function(e){var t=e.target.closest("[data-node-id][data-node-region]");if(t){var n=this.props.manager,r=t.getAttribute("data-node-id"),a=t.getAttribute("data-node-region");e.preventDefault(),r&&a&&n.dnd.switchToRegion(e.nativeEvent,r,a)}},t.prototype.handleDrop=function(e){this.props.manager.dnd.drop(e.nativeEvent)},t.prototype.handleSearchElemKeyChange=function(e){this.setState({curSearchElemKey:e})},t.prototype.clearSearchElemKey=function(){this.setState({curSearchElemKey:""})},t.prototype.renderTitleByKeyword=function(e,t){if(t&&~e.indexOf(t)){var n=e.indexOf(t),r=n+t.length;return _.createElement("span",null,e.substring(0,n),_.createElement("span",{className:"has-keywords"},t),e.substring(r))}return e},t.prototype.renderItem=function(e,t){var n,a=this,o=this.props.store,i=this.state.curSearchElemKey,s=!o.dragging&&e.singleRegion?e.uniqueChildren[0].uniqueChildren:e.uniqueChildren,c=s.length;return!o.dragging||e.isRegion||e.children.length?_.createElement("li",{className:U("ae-Outline-node",{"is-folded":e.folded,"is-active":o.activeId===e.id&&!e.region||e.isRegion&&o.dropId===e.id&&o.dropRegion===e.region||e.isRegion&&o.activeId===e.id&&o.activeRegion===e.region,"is-region":e.isRegion,"is-hover":!e.isRegion&&(o.isHoved(e.id)||o.isContextOn(e.id)),"has-children":c,"is-dragging":o.dragId===e.id&&"schema"===o.dragType}),key:t},_.createElement("a",{onClick:this.handleClick,onMouseEnter:this.handleEnter,"data-node-id":e.id,"data-node-region":e.region,"data-node-common-config":null===(n=e.schema)||void 0===n?void 0:n.$$commonSchema,draggable:e.draggable,onDragStart:this.handleDragStart},c?_.createElement("span",{onClick:e.toggleFold,className:U("ae-Outline-expander ae-Outline-node-icon",{"is-folded":e.folded}),"data-node-id":e.id,"data-node-region":e.region},_.createElement(r,{icon:"down-arrow"})):null,_.createElement("span",{className:"ae-Outline-node-text"},e.isCommonConfig?"".concat(e.label,"-[公共配置]"):this.renderTitleByKeyword(e.label,i))),c?_.createElement("ul",{className:"ae-Outline-sublist"},s.map((function(e,t){return a.renderItem(e,t)}))):null):null},t.prototype.render=function(){var e=this,t=this.state.curSearchElemKey,n=this.props.store,a=n.outline;return _.createElement("div",{className:"ae-Outline-panel"},_.createElement("div",{className:"panel-header"},"大纲"),_.createElement(m,{className:"editor-InputSearch",value:t,onChange:this.handleSearchElemKeyChange,placeholder:M("962d43ff8d39c381d8e2c73838412111"),clearable:!1},t?_.createElement("a",{onClick:this.clearSearchElemKey},_.createElement(r,{icon:"close",className:"icon"})):_.createElement(r,{icon:"editor-search",className:"icon"})),_.createElement("hr",{className:"margin-top"}),_.createElement("div",{className:U("ae-Outline","hoverShowScrollBar",{"ae-Outline--draging":n.dragging}),onDragOver:this.handleDragOver,onDrop:this.handleDrop},n.dragging?_.createElement("div",{className:"ae-Outline-tip"},"将目标拖入导航中的节点可以切换容器"):null,a.length?_.createElement("ul",{className:"ae-Outline-list"},a.map((function(t,n){return e.renderItem(t,n)}))):_.createElement("div",null,"加载中，请稍等...")))},B([Rt,j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",void 0)],t.prototype,"handleClick",null),B([Rt,j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",void 0)],t.prototype,"handleEnter",null),B([Rt,j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",void 0)],t.prototype,"handleDragStart",null),B([Rt,j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",void 0)],t.prototype,"handleDragOver",null),B([Rt,j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",void 0)],t.prototype,"handleDrop",null),B([Rt,j("design:type",Function),j("design:paramtypes",[String]),j("design:returntype",void 0)],t.prototype,"handleSearchElemKeyChange",null),B([Rt,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",void 0)],t.prototype,"clearSearchElemKey",null),B([Rt,j("design:type",Function),j("design:paramtypes",[String,String]),j("design:returntype",void 0)],t.prototype,"renderTitleByKeyword",null),t=B([de],t)}(_.Component);Sn(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.order=-9999,t}return D(t,e),t.prototype.buildEditorPanel=function(e,t){var n=this.manager.store;if(n&&e.selections.length){var a=n.changeLeftPanelOpenStatus,o=n.changeLeftPanelKey;a(!0),o("outline")}t.push({key:"outline",icon:"png-icon outline-png",title:_.createElement("span",{className:"editor-tab-icon","editor-tooltip":"大纲"},_.createElement(r,{icon:"editor-outline"})),component:no(co),position:"left",order:4e3})},t.scene=["layout"],t}(tn)),Sn(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.order=9999,t}return D(t,e),t.prototype.getRendererInfo=function(e){var t=e.renderer,n=e.schema,r=e.path;if(n.$$id&&t){if(/(^|\/)static\-field/.test(r))return;if("card-item"===t.name||"list-item-field"===t.name)return;return{name:"Unkown",$schema:"/schemas/UnkownSchema.json"}}},t.scene=["layout"],t}(tn));var lo,uo,po={};function fo(e,t,n){var r=po[e]||{};return"function"==typeof r?r(t,n):t?P(P({},r),t):r}function ho(e,t){po[e]=t}function mo(e){try{if("undefined"===e)return;return JSON.parse(e)}catch(t){return e}}function vo(e){return Array.isArray(e)?e.length?e:void 0:"string"==typeof e?e||void 0:"object"==typeof e?Object.keys(e).length?e:void 0:e}function go(e,t){return void 0===t&&(t=!0),t?function(t){return void 0===t?e:t}:function(t){return t||e}}function bo(e,t,n){return{type:"tooltip-wrapper",tooltip:t,tooltipTheme:"dark",placement:"top",tooltipStyle:P({fontSize:"12px"},n||{}),className:"ae-formItemControl-label-tip",body:e}}function yo(e){var t="data:image/svg+xml,%3C%3Fxml version='1.0' standalone='no'%3F%3E%3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E%3Csvg t='1631083237695' class='icon' viewBox='0 0 1024 1024' version='1.1' xmlns='http://www.w3.org/2000/svg' p-id='2420' xmlns:xlink='http://www.w3.org/1999/xlink' width='1024' height='1024'%3E%3Cdefs%3E%3Cstyle type='text/css'%3E%3C/style%3E%3C/defs%3E%3Cpath d='M959.872 128c0.032 0.032 0.096 0.064 0.128 0.128v767.776c-0.032 0.032-0.064 0.096-0.128 0.128H64.096c-0.032-0.032-0.096-0.064-0.128-0.128V128.128c0.032-0.032 0.064-0.096 0.128-0.128h895.776zM960 64H64C28.8 64 0 92.8 0 128v768c0 35.2 28.8 64 64 64h896c35.2 0 64-28.8 64-64V128c0-35.2-28.8-64-64-64z' p-id='2421' fill='%23bfbfbf'%3E%3C/path%3E%3Cpath d='M832 288c0 53.024-42.976 96-96 96s-96-42.976-96-96 42.976-96 96-96 96 42.976 96 96zM896 832H128V704l224-384 256 320h64l224-192z' p-id='2422' fill='%23bfbfbf'%3E%3C/path%3E%3C/svg%3E";return"date"===e.type||"datetime"===e.type||"time"===e.type||"month"===e.type||"static-date"===e.type||"static-datetime"===e.type||"static-time"===e.type||"static-month"===e.type?Le().format("X"):"image"===e.type||"static-image"===e.type?t:"images"===e.type||"static-images"===e.type?[t]:M("6cb01692eea2fa7066d20fe2b6ccaea3")}!function(e){e.create="create",e.view="view",e.update="update",e.table="table",e.filter="filter"}(lo||(lo={})),function(e){e.entity="entity",e.list="list",e.piece="piece"}(uo||(uo={}));var Eo={List:{value:"list",label:M("3712972d84adf48acbd6ad24b4d75ad0")},Insert:{value:"insert",label:M("66ab5e9f24c8f46012a25c89919fb191")},View:{value:"view",label:M("f26225bde6a250894a04db4c53ea03d0")},Edit:{value:"edit",label:M("95b351c86267f3aedf89520959bce689")},Delete:{value:"delete",label:M("2f4aaddde33c9b93c36fd2503f3d122b")},BulkEdit:{value:"bulkEdit",label:M("e73cefac9d030927da1618c7b15c98c9")},BulkDelete:{value:"bulkDelete",label:M("7fb62b30119c3797a843a48368463314")},Import:{value:"import",label:M("8d9a071ee2ef45e045968e117a205c07")},Export:{value:"export",label:M("55405ea6ff6fd823ffab7e6b10ddfa95")},SimpleQuery:{value:"simpleQuery",label:M("c26996a6506adf397f0668d376d0b40b")},FuzzyQuery:{value:"fuzzyQuery",label:M("6ff4bf3d567e977aa4c90c27dff1e6db")},AdvancedQuery:{value:"advancedQuery",label:M("9c4666fd08c2738eb9611a3721cb5f0f")}},wo=function(){},Co={},So=function(e){Co[e.type]=e},xo=function(){function e(e,t){var n=this;this.builders={},Object.values(Co).filter((function(n){var r,a;return null===(a=null===(r=n.accessable)||void 0===r?void 0:r.call(n,e,t))||void 0===a||a})).forEach((function(e){n.builders[e.type]=new e}))}return Object.defineProperty(e.prototype,"builderNum",{get:function(){return Object.keys(this.builders).length},enumerable:!1,configurable:!0}),e.prototype.resolveBuilderBySetting=function(e){return this.builders[e.dsType]||Object.values(this.builders)[0]},e.prototype.resolveBuilderBySchema=function(e,t){var n=Object.values(this.builders);return n.find((function(n){return n.match(e[t])}))||n[0]},e.prototype.getDefaultBuilderName=function(){return Object.entries(this.builders).map((function(e){var t=L(e,2);return{value:t[0],order:t[1].order}})).sort((function(e,t){var n,r;return(null!==(n=e.order)&&void 0!==n?n:0)-(null!==(r=t.order)&&void 0!==r?r:0)}))[0].value},e.prototype.getDSSwitch=function(e){void 0===e&&(e={});var t=this.builderNum>1,n=Object.entries(this.builders).map((function(e){var t=L(e,2),n=t[0],r=t[1];return{label:r.name,value:n,order:r.order}}));return n.sort((function(e,t){var n,r;return(null!==(n=e.order)&&void 0!==n?n:0)-(null!==(r=t.order)&&void 0!==r?r:0)})),P({type:"radios",label:M("a094e5b7699ea4b61094cc4120170423"),name:"dsType",visible:t,selectFirst:!0,options:n},e)},e.prototype.collectFromBuilders=function(e){return Object.entries(this.builders).map((function(t){var n=L(t,2),r=n[0],a=n[1];return e(a,r)}))},e}();function Io(e,t){return function(n){Sn(function(n){function r(r){var a=n.call(this,r)||this;return a.rendererName=e,a.name=a.tipName||t.name,a.description=t.description,a.scaffold=t.scaffold||{type:t.type},a.previewSchema=t.previewSchema||a.scaffold,a.settingsSchema&&(a.panelTitle=a.settingsSchema.title,a.panelControls=a.settingsSchema.body),a}return D(r,n),r}(n))}}So(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name=M("54ea89b497ec3bb319c68844dfa3687f"),t.order=0,t.match=function(e,t){return!!("string"==typeof e&&/^(get|post|put|delete|option):/.test(e)||"object"==typeof e&&e.url)},t.features=["List","Insert","View","Edit","Delete","BulkEdit","BulkDelete","Import","Export","SimpleQuery","FuzzyQuery"],t}return D(t,e),t.prototype.makeSourceSettingForm=function(e){var t=e.name,n=e.label,r=e.feat,a=e.inCrud,o=e.inScaffold;if(["Import","Export","SimpleQuery","FuzzyQuery"].includes(r))return[];n=null!=n?n:a&&"List"!==r?Eo[r].label+M("54ea89b497ec3bb319c68844dfa3687f"):M("54ea89b497ec3bb319c68844dfa3687f"),t=null!=t?t:o?Eo[r].value+"Api":"api";switch(r){case"Insert":n=bo(n,"用来保存数据, 表单提交后将数据传入此接口。 <br/>\n          接口响应体要求(如果data中有数据，该数据将被合并到表单上下文中)：<br/>\n          ".concat(JSON.stringify({status:0,msg:"",data:{}},null,"<br/>")));break;case"List":n=bo(n,"接口响应体要求：<br/>\n          ".concat(JSON.stringify({status:0,msg:"",items:{},page:0,total:0},null,"<br/>")))}return[fo("apiControl",{label:n,name:t,sampleBuilder:null,apiDesc:null})].concat("Edit"!==r||a?null:fo("apiControl",{label:bo(M("b4bc91701b86fe8543d649e97daea602"),"接口响应体要求：<br/>\n          ".concat(JSON.stringify({status:0,msg:"",data:{}},null,"<br/>"))),name:"initApi"})).concat("List"===r&&a&&o?this.makeFieldsSettingForm({feat:r,setting:!0}):null).filter(Boolean)},t.prototype.getContextFileds=function(e){return z(this,void 0,void 0,(function(){return $(this,(function(t){return[2,e.schema.__fields]}))}))},t.prototype.getAvailableContextFileds=function(e,t){return z(this,void 0,void 0,(function(){return $(this,(function(e){return[2]}))}))},t.prototype.onFieldsInit=function(e,t){this.features.forEach((function(n){var r="".concat(Eo[n].value,"Fields"),a=t.getValueByName(r),o=Me(e||[]).map((function(e){var t=null==a?void 0:a.find((function(t){return t.name===e.name}));return P(P({},e),{checked:!t||t.checked})}));t.setValueByName(r,o)}))},t.prototype.makeFieldsSettingForm=function(e){var t=this,n=e.sourceKey,r=e.feat,a=e.inCrud,o=e.setting,i=e.inScaffold;if(!1===i||["Import","Export","FuzzyQuery"].includes(r))return[];n=null!=n?n:"".concat(Eo[r].value,"Api");var c=o?"__fields":"".concat(Eo[r].value,"Fields"),l=["Edit","Insert"].includes(r)||a&&"List"===r,d=["View","List"].includes(r);return[].concat(a&&"List"!==r?this.makeSourceSettingForm({feat:r,inScaffold:i,inCrud:a}):null).concat([{type:"combo",className:"mb-0 ae-Fields-Setting",joinValues:!1,name:c,label:a?"".concat(Eo[r].label,"字段"):M("9caecd931b956381e0763d05aa42835c"),multiple:!0,draggable:!0,addable:!1,removable:!1,itemClassName:"ae-Fields-Setting-Item",hidden:o||!a||["Delete","BulkDelete"].includes(r),items:{type:"container",body:[{name:"checked",label:!1,mode:"inline",className:"m-0 ml-1",type:"checkbox"},{type:"tpl",className:"ae-Fields-Setting-Item-label",tpl:"${label}"}]}},{type:"input-table",label:M("9caecd931b956381e0763d05aa42835c"),className:"mb-0",name:c,visible:null!=o?o:!a,removable:!0,columnsTogglable:!1,needConfirm:!1,onChange:function(e,n,r,a){return t.onFieldsInit(e,a)},columns:[{type:"switch",name:"checked",value:!0,label:M("47cd88592f6ef2b258f02c0690d267ed"),visible:!1},{type:"input-text",name:"label",label:M("32c65d8d7431e76029678ec7bb73a5ab")},{type:"input-text",name:"name",label:M("020586d0c69f8211840ddf9ee9bbf6ab")},{type:"select",name:"type",label:M("226b0912184333c81babf2f1894ec0c1"),visible:d,value:"tpl",options:[{value:"tpl",label:M("97d07614380da93d257f9fbf81aa56fb"),typeKey:"tpl"},{value:"image",label:M("20def7942674282277c3714ed7ea6ce0"),typeKey:"src"},{value:"date",label:M("4ff1e74e43a3586339251494117185ad"),typeKey:"value"},{value:"progress",label:M("c7bff79d059a0b7ff9b02441959d8be2"),typeKey:"value"},{value:"status",label:M("3fea7ca76cdece641436d7ab0d02ab1b"),typeKey:"value"},{value:"mapping",label:M("9da188491dd34c4382a5b9f006194e41"),typeKey:"value"}],autoFill:{typeKey:"${typeKey}"}},{type:"select",name:"inputType",label:M("b3e55578af5dd473bab62641bb2f5f8e"),visible:l,value:"input-text",options:[{label:M("9b6425cd2d496c9cb5a6c6b8ff125d1b"),value:"input-text"},{label:M("15d169d28cd48c97fe751e4cc92ca926"),value:"textarea"},{label:M("9597dcaf432ceba92a160d61cb1ef65f"),value:"input-number"},{label:M("9913107b19cb6012250134ff91377430"),value:"radios"},{label:M("454e60f5759903d7d3dba58e3f9bd590"),value:"checkbox"},{label:M("db98f889ce6bc235e66bd4b2a788d137"),value:"checkboxes"},{label:M("006ded9fa277cf030592021f595a07d5"),value:"select"},{label:M("a6beb974cc0b50eebd18120b8110a88b"),value:"switch"},{label:M("4ff1e74e43a3586339251494117185ad"),value:"input-date"},{label:M("b339aa87104709397ba68e7ebbc6e5ba"),value:"input-table"},{label:M("481e034e6026969aae4ce7ce7c8a7b6f"),value:"input-file"},{label:M("6bfb9bb2218ff32b6139e98bc93707c0"),value:"input-image"},{label:M("24b6d4c0892a8f3ee2a982e3ab0afe38"),value:"input-rich-text"}]}]},{type:"group",visible:null!=o?o:!a,label:"",body:[{type:"grid",columns:[{body:[{type:"button",label:M("4484fa04e7b71db4c8293e5bcb53eca4"),target:c,className:"ae-Button--link",level:"link",icon:"plus",actionType:"add"}]},{columnClassName:"text-right",body:[{type:"button",label:M("4cc6a76c146c0360a41ceaf5e212c891"),visible:"Edit"===r||"List"===r,className:"ae-Button--link",level:"link",onClick:function(e,o){return z(t,void 0,void 0,(function(){var e,t,i,l,d,u,p,f,h,m;return $(this,(function(v){switch(v.label){case 0:return e=o.data,t=be(window.editorStore).schemaFilter,i=e["Edit"!==r||a?n:"initApi"],t&&(i=t({api:i}).api),i||s.warning(M("a9fea442707e26dee478b34a2f2ce263")),[4,o.env.fetcher(i,e)];case 1:return l=v.sent(),d=[],"List"===r?(p=(null===(h=l.data)||void 0===h?void 0:h.rows)||(null===(m=l.data)||void 0===m?void 0:m.items),u=null==p?void 0:p[0]):u=l.data,u?(Object.entries(u).forEach((function(e){var t=L(e,2),n=t[0],r=t[1];d.push({label:n,type:"tpl",inputType:"number"==typeof r?"input-number":"input-text",name:n})})),o.formStore.setValues(((f={})[c]=d,f)),this.onFieldsInit(d,o.formStore)):s.warning(M("91aa2166ee4811414381c8d94e6567e6")),[2]}}))}))}}]}]}]}])},t.prototype.makeFieldFilterSetting=function(e){return z(this,void 0,void 0,(function(){return $(this,(function(e){return[2,[]]}))}))},t.prototype.resolveSourceSchema=function(e){var t=e.name,n=e.setting,r=e.schema,a=e.feat;r[t=null!=t?t:"api"]=n[a?"".concat(Eo[a].value,"Api"):"api"],"Edit"===a&&(r.initApi=n.initApi)},t.prototype.resolveViewSchema=function(e){var t=e.setting,n=e.feat;return(t["".concat(Eo[void 0===n?"Edit":n].value,"Fields")]||[]).filter((function(e){return e.checked})).map((function(e){var t;return(t={type:e.type})[e.typeKey||"value"]="${"+e.name+"}",t}))},t.prototype.resolveTableSchema=function(e){var t=e.schema,n=e.setting.listFields.filter((function(e){return e.checked}))||[];t.columns=this.makeTableColumnsByFields(n)},t.prototype.makeTableColumnsByFields=function(e){return e.map((function(e){var t;return(t={type:e.type,title:e.label,name:e.name})[e.typeKey||"value"]="${"+e.name+"}",t}))},t.prototype.resolveCreateSchema=function(e){var t=e.schema,n=e.setting,r=e.feat,a=e.name,o=n["".concat(Eo[r].value,"Fields")]||[];t[null!=a?a:"api"]=n[Eo[r].value+"Api"],t.initApi=n.initApi,t.body=o.filter((function(e){return e.checked})).map((function(e){return{type:e.inputType,name:e.name,label:e.label}}))},t.prototype.resolveDeleteSchema=function(e){var t,n=e.schema,r=e.setting,a=e.feat;n.onEvent=Object.assign(null!==(t=n.onEvent)&&void 0!==t?t:{},{click:{actions:[]}});var o=P({},r["".concat(Eo[a].value,"Api")]||{});o.data="Delete"===a?{id:"${item.id}"}:{ids:"${ARRAYMAP(selectedItems, item=> item.id)}"},n.onEvent.click.actions.push({actionType:"ajax",args:{api:o}})},t.prototype.resolveSimpleFilterSchema=function(e){return(e.setting.simpleQueryFields||[]).filter((function(e){return e.checked})).map((function(e){return{type:e.inputType,name:e.name,label:e.label}}))},t.prototype.resolveAdvancedFilterSchema=function(e){},t.type="api",t.accessable=function(e,t){return!0},t}(wo));var Ro=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return D(t,e),t}(tn),Oo=function(e){function t(t){var n=e.call(this,t)||this;return n.manager.on("build-panels",n.buildPanels),n}return D(t,e),t.prototype.componentWillUnmount=function(){this.manager.off("build-panels",this.buildPanels)},t.prototype.buildPanels=function(e){var t=e.context.data;Array.isArray(t)&&t.splice(0,t.length)},t.prototype.render=function(){var e=this.props,t=e.preview,n=e.className,r=e.theme,a=e.data,o=e.isMobile,i=e.autoFocus,s=e.previewProps;return _.createElement("div",{className:U("ae-Editor",{preview:t},n)},_.createElement("div",{className:"ae-Editor-inner",onContextMenu:this.handleContextMenu},_.createElement("div",{className:"ae-Main"},_.createElement(Pn,P({},s,{isMobile:o,editable:!t,store:this.store,manager:this.manager,theme:r,data:a,autoFocus:i})))),_.createElement(_a,{store:this.store,manager:this.manager,theme:r}),_.createElement(Ua,{store:this.store,manager:this.manager,theme:r}))},B([Rt,j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",void 0)],t.prototype,"buildPanels",null),t}(Qa),No=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return D(t,e),t.prototype.UNSAFE_componentWillMount=function(){var e=this,t=this.props;t.data,t.path;var n=t.widthMutable,r=T(t,["data","path","widthMutable"]),a=this.context;this.editorNode=a.addChild({id:r.id,type:r.type,label:r.name,path:this.props.path,schemaPath:r.schemaPath,info:r,getData:function(){return e.props.data},widthMutable:n,memberIndex:r.memberIndex})},t.prototype.componentDidMount=function(){this.markDom(this.editorNode.id)},t.prototype.componentDidUpdate=function(){this.markDom(this.editorNode.id)},t.prototype.componentWillUnmount=function(){this.editorNode&&ve(this.editorNode)&&this.context.removeChild(this.editorNode)},t.prototype.markDom=function(e){var t=ue(this);if(t){var n=this.editorNode.info,r=n.wrapperResolve?n.wrapperResolve(t):t;(Array.isArray(r)?r:r?[r]:[]).forEach((function(t){return t.setAttribute("data-editor-id",e)}))}},t.prototype.render=function(){return _.createElement(on.Provider,{value:this.editorNode},this.props.children)},t.contextType=on,t}(_.Component),ko=[{title:M("79d3abe929f67f0644a78bf32adb3a89"),letters:["⌘","c"],tooltip:M("b7d817611230d382f6ef92b41848a342")},{title:M("eafbece1016a6af76cce466e55ad9f00"),letters:["⌘","v"],tooltip:M("e0b9bb8e41eccd3ce6b282664643d7f8")},{title:M("43fc77886b7fbcd658f0ccdba36bd5a0"),letters:["⌘","x"],tooltip:M("a6be4ad12e9612811963c44466af3218")},{title:M("bd9fcf46b4e5993f97fe04ee9ebcd7ed"),letters:["⌘","z"],tooltip:M("58887132871b71b015c3a391e7755815")},{title:M("c3c873d33f1c6482c79b0ffd862786cd"),letters:["⌘","Shift","z"],tooltip:M("58887132871b71b015c3a391e7755815")},{title:M("be5fbbe34ce9979bfb6576d9eddc5612"),letters:["⌘","s"],tooltip:M("1f81fd4598e9151538f29c41b8aa0020")},{title:M("645dbc5504e722a30896486085a06b32"),letters:["⌘","p"],tooltip:M("5bc425ac8b75c571093a63eb6073c354")},{title:M("2f4aaddde33c9b93c36fd2503f3d122b"),letters:["Delete"],tooltip:M("426cd14ebd62a4922186527d07ba37f3")},{title:M("2f4aaddde33c9b93c36fd2503f3d122b"),letters:["Backspace"],tooltip:M("426cd14ebd62a4922186527d07ba37f3")},{title:M("499e58e764420aeed2d1476a56d8fa34"),letters:["⌘","↑"],tooltip:M("d040485f0e3887f0b297f8f772db03e4")},{title:M("08ad565f066d30572d1f8e2ee17cbe12"),letters:["⌘","↓"],tooltip:M("6348dc0e83d6ab391a8816f67d0e5ceb")}],Fo=function(e){function t(t){var n=e.call(this,t)||this;return n.state={visible:!1},n}return D(t,e),t.prototype.closeShortcutKeyModal=function(){this.setState({visible:!1})},t.prototype.showShortcutKeyModal=function(){this.setState({visible:!0})},t.prototype.render=function(){var e=this.props,t=e.title,n=e.size,a=e.closeOnEsc,o=e.closeOnOutside,i=this.props.ShortcutKeyList||ko;return _.createElement(_.Fragment,null,_.createElement("div",{className:"shortcut-icon-btn","editor-tooltip":"点击查看当前可用快捷键","tooltip-position":"bottom"},_.createElement(r,{icon:"editor-shortcut",onClick:this.showShortcutKeyModal})),_.createElement(x,{size:n||"xs",show:this.state.visible,closeOnEsc:null==a||a,closeOnOutside:null==o||o,onHide:this.closeShortcutKeyModal,contentClassName:"shortcut-list-modal"},_.createElement("div",{className:"shortcut-modal-header"},_.createElement("div",{className:"shortcut-modal-title"},t||M("9c3f1278ffa822835bb3a677f02bca27")),_.createElement(r,{icon:"close",className:"shortcut-modal-icon",onClick:this.closeShortcutKeyModal})),_.createElement("div",{className:"shortcut-modal-body"},i&&i.length>0&&_.createElement("div",{className:"shortcut-list"},i.map((function(e,t){return _.createElement("div",{className:"shortcut-item",key:t},e.tooltip&&_.createElement("div",{className:"shortcut-title","editor-tooltip":e.tooltip},e.title),!e.tooltip&&_.createElement("div",{className:"shortcut-title"},e.title),_.createElement("div",{className:"shortcut-letters"},e.letters.map((function(e){return _.createElement("div",{className:"shortcut-letter",key:e},e)}))))}))),!i||0===i.length&&_.createElement("span",null,"暂无快捷键"))))},B([Rt,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",void 0)],t.prototype,"closeShortcutKeyModal",null),B([Rt,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",void 0)],t.prototype,"showShortcutKeyModal",null),t}(_.Component);export{to as AvailableRenderersPlugin,tn as BasePlugin,Ro as BasicEditor,io as CodeEditor,cn as ContainerWrapper,lo as DSBehavior,wo as DSBuilder,xo as DSBuilderManager,Eo as DSFeature,uo as DSGrain,Qa as Editor,Rn as EditorManager,On as IFrameEditor,pt as JSONCanMoveDown,dt as JSONCanMoveUp,lt as JSONChangeInArray,st as JSONDelete,ht as JSONDuplicate,at as JSONGetById,nt as JSONGetByPath,ot as JSONGetParentById,rt as JSONGetPathById,ct as JSONMerge,ft as JSONMoveDownById,ut as JSONMoveUpById,Qe as JSONPipeIn,et as JSONPipeOut,Dt as JSONTraverse,it as JSONUpdate,vt as JsonGenerateID,nn as LayoutBasePlugin,Oo as MiniEditor,sn as RegionWrapper,Io as RendererEditor,Ta as SearchPanel,Fo as ShortcutKey,No as VRenderer,Xe as __uri,Ot as addDragingClass,tt as addStyleClassName,Ve as anyChanged,qt as appTranslate,Cn as autoPreRegisterEditorCustomPlugins,Rt as autobind,wt as blackList,kt as camelize,Ge as cleanUndefined,_e as cloneObject,gt as createElementFromHTML,en as createEvent,Je as createObject,bt as deepFind,Qa as default,go as defaultValue,Mt as diff,Ye as eachTree,yt as filterSchemaForConfig,Et as filterSchemaForEditor,zt as generateNodeId,xn as getEditorPlugins,Wt as getI18nEnabled,fo as getSchemaTpl,ze as guid,qe as isEmpty,$t as isHasPluginIcon,Kt as isLayoutPlugin,Bt as isNumeric,Ht as isObject,Ke as isObjectShallowModified,Tt as isString,Lt as jsonToJsonSchema,We as makeHorizontalDeeper,fn as mapReactElement,yo as mockValue,Fn as mountInIframe,Ut as needDefaultWidth,Yt as needFillPlaceholder,Ue as noop,It as normalizeId,$e as omitControls,Pt as patchDiff,St as persistGet,xt as persistSet,mt as reGenerateID,Ft as reactionWithOldValue,So as registerDSBuilder,Sn as registerEditorPlugin,Nt as removeDragingClass,At as repeatArray,ho as setSchemaTpl,Ct as sortByList,jt as string2CSSUnit,Vt as stringRegExp,bo as tipedLabel,Zt as translateSchema,In as unRegisterEditorPlugin,vo as undefinedPipeOut,_t as unitFormula,Jt as utils,mo as valuePipeOut};
